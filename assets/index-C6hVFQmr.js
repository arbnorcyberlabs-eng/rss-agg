const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PreferencesView-Bzrj49gH.js","assets/PreferencesView-Fby51Esr.css","assets/AdminView-DgAbWwba.js","assets/AdminView-B1alRWdL.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vi(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const ae={},_r=[],ft=()=>{},Sa=()=>!1,Qn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),yi=t=>t.startsWith("onUpdate:"),Ie=Object.assign,_i=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Wc=Object.prototype.hasOwnProperty,se=(t,e)=>Wc.call(t,e),W=Array.isArray,wr=t=>cn(t)==="[object Map]",Xn=t=>cn(t)==="[object Set]",zi=t=>cn(t)==="[object Date]",J=t=>typeof t=="function",we=t=>typeof t=="string",pt=t=>typeof t=="symbol",le=t=>t!==null&&typeof t=="object",Ea=t=>(le(t)||J(t))&&J(t.then)&&J(t.catch),Oa=Object.prototype.toString,cn=t=>Oa.call(t),Kc=t=>cn(t).slice(8,-1),ka=t=>cn(t)==="[object Object]",wi=t=>we(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Fr=vi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zn=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},Gc=/-\w/g,Ye=Zn(t=>t.replace(Gc,e=>e.slice(1).toUpperCase())),Jc=/\B([A-Z])/g,sr=Zn(t=>t.replace(Jc,"-$1").toLowerCase()),es=Zn(t=>t.charAt(0).toUpperCase()+t.slice(1)),ms=Zn(t=>t?`on${es(t)}`:""),Ut=(t,e)=>!Object.is(t,e),An=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Ta=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},xn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Yi;const ts=()=>Yi||(Yi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bi(t){if(W(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=we(n)?Xc(n):bi(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(we(t)||le(t))return t}const zc=/;(?![^(]*\))/g,Yc=/:([^]+)/,Qc=/\/\*[^]*?\*\//g;function Xc(t){const e={};return t.replace(Qc,"").split(zc).forEach(r=>{if(r){const n=r.split(Yc);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ot(t){let e="";if(we(t))e=t;else if(W(t))for(let r=0;r<t.length;r++){const n=Ot(t[r]);n&&(e+=n+" ")}else if(le(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Zc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",eu=vi(Zc);function Aa(t){return!!t||t===""}function tu(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=rs(t[n],e[n]);return r}function rs(t,e){if(t===e)return!0;let r=zi(t),n=zi(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=pt(t),n=pt(e),r||n)return t===e;if(r=W(t),n=W(e),r||n)return r&&n?tu(t,e):!1;if(r=le(t),n=le(e),r||n){if(!r||!n)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!rs(t[o],e[o]))return!1}}return String(t)===String(e)}function ru(t,e){return t.findIndex(r=>rs(r,e))}const Pa=t=>!!(t&&t.__v_isRef===!0),Fe=t=>we(t)?t:t==null?"":W(t)||le(t)&&(t.toString===Oa||!J(t.toString))?Pa(t)?Fe(t.value):JSON.stringify(t,Ra,2):String(t),Ra=(t,e)=>Pa(e)?Ra(t,e.value):wr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[vs(n,i)+" =>"]=s,r),{})}:Xn(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>vs(r))}:pt(e)?vs(e):le(e)&&!W(e)&&!ka(e)?String(e):e,vs=(t,e="")=>{var r;return pt(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ae;class Ia{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ae,!e&&Ae&&(this.index=(Ae.scopes||(Ae.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Ae;try{return Ae=this,e()}finally{Ae=r}}}on(){++this._on===1&&(this.prevScope=Ae,Ae=this)}off(){this._on>0&&--this._on===0&&(Ae=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Ca(t){return new Ia(t)}function xa(){return Ae}function nu(t,e=!1){Ae&&Ae.cleanups.push(t)}let he;const ys=new WeakSet;class ja{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ae&&Ae.active&&Ae.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ys.has(this)&&(ys.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Na(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Qi(this),$a(this);const e=he,r=rt;he=this,rt=!0;try{return this.fn()}finally{La(this),he=e,rt=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Oi(e);this.deps=this.depsTail=void 0,Qi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ys.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fs(this)&&this.run()}get dirty(){return Fs(this)}}let Da=0,Mr,Br;function Na(t,e=!1){if(t.flags|=8,e){t.next=Br,Br=t;return}t.next=Mr,Mr=t}function Si(){Da++}function Ei(){if(--Da>0)return;if(Br){let e=Br;for(Br=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Mr;){let e=Mr;for(Mr=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function $a(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function La(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),Oi(n),su(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function Fs(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ua(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ua(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Xr)||(t.globalVersion=Xr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Fs(t))))return;t.flags|=2;const e=t.dep,r=he,n=rt;he=t,rt=!0;try{$a(t);const s=t.fn(t._value);(e.version===0||Ut(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{he=r,rt=n,La(t),t.flags&=-3}}function Oi(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Oi(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function su(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let rt=!0;const Fa=[];function kt(){Fa.push(rt),rt=!1}function Tt(){const t=Fa.pop();rt=t===void 0?!0:t}function Qi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=he;he=void 0;try{e()}finally{he=r}}}let Xr=0;class iu{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ki{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!he||!rt||he===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==he)r=this.activeLink=new iu(he,this),he.deps?(r.prevDep=he.depsTail,he.depsTail.nextDep=r,he.depsTail=r):he.deps=he.depsTail=r,Ma(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=he.depsTail,r.nextDep=void 0,he.depsTail.nextDep=r,he.depsTail=r,he.deps===r&&(he.deps=n)}return r}trigger(e){this.version++,Xr++,this.notify(e)}notify(e){Si();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Ei()}}}function Ma(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Ma(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const jn=new WeakMap,rr=Symbol(""),Ms=Symbol(""),Zr=Symbol("");function Pe(t,e,r){if(rt&&he){let n=jn.get(t);n||jn.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new ki),s.map=n,s.key=r),s.track()}}function St(t,e,r,n,s,i){const o=jn.get(t);if(!o){Xr++;return}const a=l=>{l&&l.trigger()};if(Si(),e==="clear")o.forEach(a);else{const l=W(t),c=l&&wi(r);if(l&&r==="length"){const u=Number(n);o.forEach((h,d)=>{(d==="length"||d===Zr||!pt(d)&&d>=u)&&a(h)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(Zr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(rr)),wr(t)&&a(o.get(Ms)));break;case"delete":l||(a(o.get(rr)),wr(t)&&a(o.get(Ms)));break;case"set":wr(t)&&a(o.get(rr));break}}Ei()}function ou(t,e){const r=jn.get(t);return r&&r.get(e)}function lr(t){const e=Z(t);return e===t?e:(Pe(e,"iterate",Zr),ze(t)?e:e.map(ke))}function ns(t){return Pe(t=Z(t),"iterate",Zr),t}const au={__proto__:null,[Symbol.iterator](){return _s(this,Symbol.iterator,ke)},concat(...t){return lr(this).concat(...t.map(e=>W(e)?lr(e):e))},entries(){return _s(this,"entries",t=>(t[1]=ke(t[1]),t))},every(t,e){return yt(this,"every",t,e,void 0,arguments)},filter(t,e){return yt(this,"filter",t,e,r=>r.map(ke),arguments)},find(t,e){return yt(this,"find",t,e,ke,arguments)},findIndex(t,e){return yt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return yt(this,"findLast",t,e,ke,arguments)},findLastIndex(t,e){return yt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return yt(this,"forEach",t,e,void 0,arguments)},includes(...t){return ws(this,"includes",t)},indexOf(...t){return ws(this,"indexOf",t)},join(t){return lr(this).join(t)},lastIndexOf(...t){return ws(this,"lastIndexOf",t)},map(t,e){return yt(this,"map",t,e,void 0,arguments)},pop(){return Dr(this,"pop")},push(...t){return Dr(this,"push",t)},reduce(t,...e){return Xi(this,"reduce",t,e)},reduceRight(t,...e){return Xi(this,"reduceRight",t,e)},shift(){return Dr(this,"shift")},some(t,e){return yt(this,"some",t,e,void 0,arguments)},splice(...t){return Dr(this,"splice",t)},toReversed(){return lr(this).toReversed()},toSorted(t){return lr(this).toSorted(t)},toSpliced(...t){return lr(this).toSpliced(...t)},unshift(...t){return Dr(this,"unshift",t)},values(){return _s(this,"values",ke)}};function _s(t,e,r){const n=ns(t),s=n[e]();return n!==t&&!ze(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=r(i.value)),i}),s}const lu=Array.prototype;function yt(t,e,r,n,s,i){const o=ns(t),a=o!==t&&!ze(t),l=o[e];if(l!==lu[e]){const h=l.apply(t,i);return a?ke(h):h}let c=r;o!==t&&(a?c=function(h,d){return r.call(this,ke(h),d,t)}:r.length>2&&(c=function(h,d){return r.call(this,h,d,t)}));const u=l.call(o,c,n);return a&&s?s(u):u}function Xi(t,e,r,n){const s=ns(t);let i=r;return s!==t&&(ze(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,ke(a),l,t)}),s[e](i,...n)}function ws(t,e,r){const n=Z(t);Pe(n,"iterate",Zr);const s=n[e](...r);return(s===-1||s===!1)&&Pi(r[0])?(r[0]=Z(r[0]),n[e](...r)):s}function Dr(t,e,r=[]){kt(),Si();const n=Z(t)[e].apply(t,r);return Ei(),Tt(),n}const cu=vi("__proto__,__v_isRef,__isVue"),Ba=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(pt));function uu(t){pt(t)||(t=String(t));const e=Z(this);return Pe(e,"has",t),e.hasOwnProperty(t)}class Va{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?wu:Ka:i?Wa:Ha).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=W(e);if(!s){let l;if(o&&(l=au[r]))return l;if(r==="hasOwnProperty")return uu}const a=Reflect.get(e,r,ye(e)?e:n);if((pt(r)?Ba.has(r):cu(r))||(s||Pe(e,"get",r),i))return a;if(ye(a)){const l=o&&wi(r)?a:a.value;return s&&le(l)?Vs(l):l}return le(a)?s?Vs(a):un(a):a}}class qa extends Va{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];if(!this._isShallow){const l=Mt(i);if(!ze(n)&&!Mt(n)&&(i=Z(i),n=Z(n)),!W(e)&&ye(i)&&!ye(n))return l||(i.value=n),!0}const o=W(e)&&wi(r)?Number(r)<e.length:se(e,r),a=Reflect.set(e,r,n,ye(e)?e:s);return e===Z(s)&&(o?Ut(n,i)&&St(e,"set",r,n):St(e,"add",r,n)),a}deleteProperty(e,r){const n=se(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&St(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!pt(r)||!Ba.has(r))&&Pe(e,"has",r),n}ownKeys(e){return Pe(e,"iterate",W(e)?"length":rr),Reflect.ownKeys(e)}}class hu extends Va{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const du=new qa,fu=new hu,pu=new qa(!0);const Bs=t=>t,pn=t=>Reflect.getPrototypeOf(t);function gu(t,e,r){return function(...n){const s=this.__v_raw,i=Z(s),o=wr(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...n),u=r?Bs:e?Dn:ke;return!e&&Pe(i,"iterate",l?Ms:rr),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function gn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function mu(t,e){const r={get(s){const i=this.__v_raw,o=Z(i),a=Z(s);t||(Ut(s,a)&&Pe(o,"get",s),Pe(o,"get",a));const{has:l}=pn(o),c=e?Bs:t?Dn:ke;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Pe(Z(s),"iterate",rr),s.size},has(s){const i=this.__v_raw,o=Z(i),a=Z(s);return t||(Ut(s,a)&&Pe(o,"has",s),Pe(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Z(a),c=e?Bs:t?Dn:ke;return!t&&Pe(l,"iterate",rr),a.forEach((u,h)=>s.call(i,c(u),c(h),o))}};return Ie(r,t?{add:gn("add"),set:gn("set"),delete:gn("delete"),clear:gn("clear")}:{add(s){!e&&!ze(s)&&!Mt(s)&&(s=Z(s));const i=Z(this);return pn(i).has.call(i,s)||(i.add(s),St(i,"add",s,s)),this},set(s,i){!e&&!ze(i)&&!Mt(i)&&(i=Z(i));const o=Z(this),{has:a,get:l}=pn(o);let c=a.call(o,s);c||(s=Z(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?Ut(i,u)&&St(o,"set",s,i):St(o,"add",s,i),this},delete(s){const i=Z(this),{has:o,get:a}=pn(i);let l=o.call(i,s);l||(s=Z(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&St(i,"delete",s,void 0),c},clear(){const s=Z(this),i=s.size!==0,o=s.clear();return i&&St(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=gu(s,t,e)}),r}function Ti(t,e){const r=mu(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(se(r,s)&&s in n?r:n,s,i)}const vu={get:Ti(!1,!1)},yu={get:Ti(!1,!0)},_u={get:Ti(!0,!1)};const Ha=new WeakMap,Wa=new WeakMap,Ka=new WeakMap,wu=new WeakMap;function bu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Su(t){return t.__v_skip||!Object.isExtensible(t)?0:bu(Kc(t))}function un(t){return Mt(t)?t:Ai(t,!1,du,vu,Ha)}function Ga(t){return Ai(t,!1,pu,yu,Wa)}function Vs(t){return Ai(t,!0,fu,_u,Ka)}function Ai(t,e,r,n,s){if(!le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Su(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?n:r);return s.set(t,a),a}function Ft(t){return Mt(t)?Ft(t.__v_raw):!!(t&&t.__v_isReactive)}function Mt(t){return!!(t&&t.__v_isReadonly)}function ze(t){return!!(t&&t.__v_isShallow)}function Pi(t){return t?!!t.__v_raw:!1}function Z(t){const e=t&&t.__v_raw;return e?Z(e):t}function Ri(t){return!se(t,"__v_skip")&&Object.isExtensible(t)&&Ta(t,"__v_skip",!0),t}const ke=t=>le(t)?un(t):t,Dn=t=>le(t)?Vs(t):t;function ye(t){return t?t.__v_isRef===!0:!1}function ge(t){return Ja(t,!1)}function Eu(t){return Ja(t,!0)}function Ja(t,e){return ye(t)?t:new Ou(t,e)}class Ou{constructor(e,r){this.dep=new ki,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Z(e),this._value=r?e:ke(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||ze(e)||Mt(e);e=n?e:Z(e),Ut(e,r)&&(this._rawValue=e,this._value=n?e:ke(e),this.dep.trigger())}}function br(t){return ye(t)?t.value:t}const ku={get:(t,e,r)=>e==="__v_raw"?t:br(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return ye(s)&&!ye(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function za(t){return Ft(t)?t:new Proxy(t,ku)}function Tu(t){const e=W(t)?new Array(t.length):{};for(const r in t)e[r]=Pu(t,r);return e}class Au{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ou(Z(this._object),this._key)}}function Pu(t,e,r){const n=t[e];return ye(n)?n:new Au(t,e,r)}class Ru{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new ki(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Xr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&he!==this)return Na(this,!0),!0}get value(){const e=this.dep.track();return Ua(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Iu(t,e,r=!1){let n,s;return J(t)?n=t:(n=t.get,s=t.set),new Ru(n,s,r)}const mn={},Nn=new WeakMap;let zt;function Cu(t,e=!1,r=zt){if(r){let n=Nn.get(r);n||Nn.set(r,n=[]),n.push(t)}}function xu(t,e,r=ae){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=r,c=E=>s?E:ze(E)||s===!1||s===0?Et(E,1):Et(E);let u,h,d,f,m=!1,y=!1;if(ye(t)?(h=()=>t.value,m=ze(t)):Ft(t)?(h=()=>c(t),m=!0):W(t)?(y=!0,m=t.some(E=>Ft(E)||ze(E)),h=()=>t.map(E=>{if(ye(E))return E.value;if(Ft(E))return c(E);if(J(E))return l?l(E,2):E()})):J(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){kt();try{d()}finally{Tt()}}const E=zt;zt=u;try{return l?l(t,3,[f]):t(f)}finally{zt=E}}:h=ft,e&&s){const E=h,N=s===!0?1/0:s;h=()=>Et(E(),N)}const w=xa(),b=()=>{u.stop(),w&&w.active&&_i(w.effects,u)};if(i&&e){const E=e;e=(...N)=>{E(...N),b()}}let _=y?new Array(t.length).fill(mn):mn;const S=E=>{if(!(!(u.flags&1)||!u.dirty&&!E))if(e){const N=u.run();if(s||m||(y?N.some((q,x)=>Ut(q,_[x])):Ut(N,_))){d&&d();const q=zt;zt=u;try{const x=[N,_===mn?void 0:y&&_[0]===mn?[]:_,f];_=N,l?l(e,3,x):e(...x)}finally{zt=q}}}else u.run()};return a&&a(S),u=new ja(h),u.scheduler=o?()=>o(S,!1):S,f=E=>Cu(E,!1,u),d=u.onStop=()=>{const E=Nn.get(u);if(E){if(l)l(E,4);else for(const N of E)N();Nn.delete(u)}},e?n?S(!0):_=u.run():o?o(S.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Et(t,e=1/0,r){if(e<=0||!le(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,ye(t))Et(t.value,e,r);else if(W(t))for(let n=0;n<t.length;n++)Et(t[n],e,r);else if(Xn(t)||wr(t))t.forEach(n=>{Et(n,e,r)});else if(ka(t)){for(const n in t)Et(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Et(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hn(t,e,r,n){try{return n?t(...n):t()}catch(s){ss(s,e,r)}}function gt(t,e,r,n){if(J(t)){const s=hn(t,e,r,n);return s&&Ea(s)&&s.catch(i=>{ss(i,e,r)}),s}if(W(t)){const s=[];for(let i=0;i<t.length;i++)s.push(gt(t[i],e,r,n));return s}}function ss(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ae;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(i){kt(),hn(i,null,10,[t,l,c]),Tt();return}}ju(t,r,s,n,o)}function ju(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const je=[];let ht=-1;const Sr=[];let Dt=null,gr=0;const Ya=Promise.resolve();let $n=null;function is(t){const e=$n||Ya;return t?e.then(this?t.bind(this):t):e}function Du(t){let e=ht+1,r=je.length;for(;e<r;){const n=e+r>>>1,s=je[n],i=en(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function Ii(t){if(!(t.flags&1)){const e=en(t),r=je[je.length-1];!r||!(t.flags&2)&&e>=en(r)?je.push(t):je.splice(Du(e),0,t),t.flags|=1,Qa()}}function Qa(){$n||($n=Ya.then(Za))}function Nu(t){W(t)?Sr.push(...t):Dt&&t.id===-1?Dt.splice(gr+1,0,t):t.flags&1||(Sr.push(t),t.flags|=1),Qa()}function Zi(t,e,r=ht+1){for(;r<je.length;r++){const n=je[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;je.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Xa(t){if(Sr.length){const e=[...new Set(Sr)].sort((r,n)=>en(r)-en(n));if(Sr.length=0,Dt){Dt.push(...e);return}for(Dt=e,gr=0;gr<Dt.length;gr++){const r=Dt[gr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Dt=null,gr=0}}const en=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Za(t){try{for(ht=0;ht<je.length;ht++){const e=je[ht];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),hn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ht<je.length;ht++){const e=je[ht];e&&(e.flags&=-2)}ht=-1,je.length=0,Xa(),$n=null,(je.length||Sr.length)&&Za()}}let Ke=null,el=null;function Ln(t){const e=Ke;return Ke=t,el=t&&t.type.__scopeId||null,e}function qs(t,e=Ke,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&Bn(-1);const i=Ln(e);let o;try{o=t(...s)}finally{Ln(i),n._d&&Bn(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Bv(t,e){if(Ke===null)return t;const r=cs(Ke),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=ae]=e[s];i&&(J(i)&&(i={mounted:i,updated:i}),i.deep&&Et(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Wt(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(kt(),gt(l,r,8,[t.el,a,t,e]),Tt())}}const $u=Symbol("_vte"),Lu=t=>t.__isTeleport,Uu=Symbol("_leaveCb");function Ci(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ci(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function tl(t,e){return J(t)?Ie({name:t.name},e,{setup:t}):t}function rl(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Un=new WeakMap;function Vr(t,e,r,n,s=!1){if(W(t)){t.forEach((m,y)=>Vr(m,e&&(W(e)?e[y]:e),r,n,s));return}if(qr(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Vr(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?cs(n.component):n.el,o=s?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ae?a.refs={}:a.refs,h=a.setupState,d=Z(h),f=h===ae?Sa:m=>se(d,m);if(c!=null&&c!==l){if(eo(e),we(c))u[c]=null,f(c)&&(h[c]=null);else if(ye(c)){c.value=null;const m=e;m.k&&(u[m.k]=null)}}if(J(l))hn(l,a,12,[o,u]);else{const m=we(l),y=ye(l);if(m||y){const w=()=>{if(t.f){const b=m?f(l)?h[l]:u[l]:l.value;if(s)W(b)&&_i(b,i);else if(W(b))b.includes(i)||b.push(i);else if(m)u[l]=[i],f(l)&&(h[l]=u[l]);else{const _=[i];l.value=_,t.k&&(u[t.k]=_)}}else m?(u[l]=o,f(l)&&(h[l]=o)):y&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const b=()=>{w(),Un.delete(t)};b.id=-1,Un.set(t,b),Be(b,r)}else eo(t),w()}}}function eo(t){const e=Un.get(t);e&&(e.flags|=8,Un.delete(t))}ts().requestIdleCallback;ts().cancelIdleCallback;const qr=t=>!!t.type.__asyncLoader,nl=t=>t.type.__isKeepAlive;function Fu(t,e){sl(t,"a",e)}function Mu(t,e){sl(t,"da",e)}function sl(t,e,r=Re){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(os(e,n,r),r){let s=r.parent;for(;s&&s.parent;)nl(s.parent.vnode)&&Bu(n,e,r,s),s=s.parent}}function Bu(t,e,r,n){const s=os(e,t,n,!0);ol(()=>{_i(n[e],s)},r)}function os(t,e,r=Re,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{kt();const a=dn(r),l=gt(e,r,t,o);return a(),Tt(),l});return n?s.unshift(i):s.push(i),i}}const At=t=>(e,r=Re)=>{(!rn||t==="sp")&&os(t,(...n)=>e(...n),r)},Vu=At("bm"),il=At("m"),qu=At("bu"),Hu=At("u"),Wu=At("bum"),ol=At("um"),Ku=At("sp"),Gu=At("rtg"),Ju=At("rtc");function zu(t,e=Re){os("ec",t,e)}const Yu="components";function et(t,e){return Xu(Yu,t,!0,e)||t}const Qu=Symbol.for("v-ndc");function Xu(t,e,r=!0,n=!1){const s=Ke||Re;if(s){const i=s.type;{const a=Bh(i,!1);if(a&&(a===e||a===Ye(e)||a===es(Ye(e))))return i}const o=to(s[t]||i[t],e)||to(s.appContext[t],e);return!o&&n?i:o}}function to(t,e){return t&&(t[e]||t[Ye(e)]||t[es(Ye(e))])}function Fn(t,e,r,n){let s;const i=r,o=W(t);if(o||we(t)){const a=o&&Ft(t);let l=!1,c=!1;a&&(l=!ze(t),c=Mt(t),t=ns(t)),s=new Array(t.length);for(let u=0,h=t.length;u<h;u++)s[u]=e(l?c?Dn(ke(t[u])):ke(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(le(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,i)}}else s=[];return s}const Hs=t=>t?Al(t)?cs(t):Hs(t.parent):null,Hr=Ie(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Hs(t.parent),$root:t=>Hs(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ll(t),$forceUpdate:t=>t.f||(t.f=()=>{Ii(t.update)}),$nextTick:t=>t.n||(t.n=is.bind(t.proxy)),$watch:t=>wh.bind(t)}),bs=(t,e)=>t!==ae&&!t.__isScriptSetup&&se(t,e),Zu={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(bs(n,e))return o[e]=1,n[e];if(s!==ae&&se(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&se(c,e))return o[e]=3,i[e];if(r!==ae&&se(r,e))return o[e]=4,r[e];Ws&&(o[e]=0)}}const u=Hr[e];let h,d;if(u)return e==="$attrs"&&Pe(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(r!==ae&&se(r,e))return o[e]=4,r[e];if(d=l.config.globalProperties,se(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return bs(s,e)?(s[e]=r,!0):n!==ae&&se(n,e)?(n[e]=r,!0):se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i,type:o}},a){let l,c;return!!(r[a]||t!==ae&&a[0]!=="$"&&se(t,a)||bs(e,a)||(l=i[0])&&se(l,a)||se(n,a)||se(Hr,a)||se(s.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:se(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function ro(t){return W(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Ws=!0;function eh(t){const e=ll(t),r=t.proxy,n=t.ctx;Ws=!1,e.beforeCreate&&no(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:m,activated:y,deactivated:w,beforeDestroy:b,beforeUnmount:_,destroyed:S,unmounted:E,render:N,renderTracked:q,renderTriggered:x,errorCaptured:M,serverPrefetch:U,expose:te,inheritAttrs:Ee,components:Ne,directives:Oe,filters:mt}=e;if(c&&th(c,n,null),o)for(const Y in o){const re=o[Y];J(re)&&(n[Y]=re.bind(r))}if(s){const Y=s.call(r,r);le(Y)&&(t.data=un(Y))}if(Ws=!0,i)for(const Y in i){const re=i[Y],vt=J(re)?re.bind(r,r):J(re.get)?re.get.bind(r,r):ft,Rt=!J(re)&&J(re.set)?re.set.bind(r):ft,ot=oe({get:vt,set:Rt});Object.defineProperty(n,Y,{enumerable:!0,configurable:!0,get:()=>ot.value,set:$e=>ot.value=$e})}if(a)for(const Y in a)al(a[Y],n,r,Y);if(l){const Y=J(l)?l.call(r):l;Reflect.ownKeys(Y).forEach(re=>{Pn(re,Y[re])})}u&&no(u,t,"c");function fe(Y,re){W(re)?re.forEach(vt=>Y(vt.bind(r))):re&&Y(re.bind(r))}if(fe(Vu,h),fe(il,d),fe(qu,f),fe(Hu,m),fe(Fu,y),fe(Mu,w),fe(zu,M),fe(Ju,q),fe(Gu,x),fe(Wu,_),fe(ol,E),fe(Ku,U),W(te))if(te.length){const Y=t.exposed||(t.exposed={});te.forEach(re=>{Object.defineProperty(Y,re,{get:()=>r[re],set:vt=>r[re]=vt,enumerable:!0})})}else t.exposed||(t.exposed={});N&&t.render===ft&&(t.render=N),Ee!=null&&(t.inheritAttrs=Ee),Ne&&(t.components=Ne),Oe&&(t.directives=Oe),U&&rl(t)}function th(t,e,r=ft){W(t)&&(t=Ks(t));for(const n in t){const s=t[n];let i;le(s)?"default"in s?i=nt(s.from||n,s.default,!0):i=nt(s.from||n):i=nt(s),ye(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function no(t,e,r){gt(W(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function al(t,e,r,n){let s=n.includes(".")?bl(r,n):()=>r[n];if(we(t)){const i=e[t];J(i)&&Wr(s,i)}else if(J(t))Wr(s,t.bind(r));else if(le(t))if(W(t))t.forEach(i=>al(i,e,r,n));else{const i=J(t.handler)?t.handler.bind(r):e[t.handler];J(i)&&Wr(s,i,t)}}function ll(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!r&&!n?l=e:(l={},s.length&&s.forEach(c=>Mn(l,c,o,!0)),Mn(l,e,o)),le(e)&&i.set(e,l),l}function Mn(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&Mn(t,i,r,!0),s&&s.forEach(o=>Mn(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=rh[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const rh={data:so,props:io,emits:io,methods:Lr,computed:Lr,beforeCreate:Ce,created:Ce,beforeMount:Ce,mounted:Ce,beforeUpdate:Ce,updated:Ce,beforeDestroy:Ce,beforeUnmount:Ce,destroyed:Ce,unmounted:Ce,activated:Ce,deactivated:Ce,errorCaptured:Ce,serverPrefetch:Ce,components:Lr,directives:Lr,watch:sh,provide:so,inject:nh};function so(t,e){return e?t?function(){return Ie(J(t)?t.call(this,this):t,J(e)?e.call(this,this):e)}:e:t}function nh(t,e){return Lr(Ks(t),Ks(e))}function Ks(t){if(W(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Ce(t,e){return t?[...new Set([].concat(t,e))]:e}function Lr(t,e){return t?Ie(Object.create(null),t,e):e}function io(t,e){return t?W(t)&&W(e)?[...new Set([...t,...e])]:Ie(Object.create(null),ro(t),ro(e??{})):e}function sh(t,e){if(!t)return e;if(!e)return t;const r=Ie(Object.create(null),t);for(const n in e)r[n]=Ce(t[n],e[n]);return r}function cl(){return{app:null,config:{isNativeTag:Sa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ih=0;function oh(t,e){return function(n,s=null){J(n)||(n=Ie({},n)),s!=null&&!le(s)&&(s=null);const i=cl(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:ih++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:qh,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&J(u.install)?(o.add(u),u.install(c,...h)):J(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||ve(n,s);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(f,u,d),l=!0,c._container=u,u.__vue_app__=c,cs(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(gt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=nr;nr=c;try{return u()}finally{nr=h}}};return c}}let nr=null;function Pn(t,e){if(Re){let r=Re.provides;const n=Re.parent&&Re.parent.provides;n===r&&(r=Re.provides=Object.create(n)),r[t]=e}}function nt(t,e,r=!1){const n=Tl();if(n||nr){let s=nr?nr._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&J(e)?e.call(n&&n.proxy):e}}function ah(){return!!(Tl()||nr)}const ul={},hl=()=>Object.create(ul),dl=t=>Object.getPrototypeOf(t)===ul;function lh(t,e,r,n=!1){const s={},i=hl();t.propsDefaults=Object.create(null),fl(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:Ga(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function ch(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Z(s),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(as(t.emitsOptions,d))continue;const f=e[d];if(l)if(se(i,d))f!==i[d]&&(i[d]=f,c=!0);else{const m=Ye(d);s[m]=Gs(l,a,m,f,t,!1)}else f!==i[d]&&(i[d]=f,c=!0)}}}else{fl(t,e,s,i)&&(c=!0);let u;for(const h in a)(!e||!se(e,h)&&((u=sr(h))===h||!se(e,u)))&&(l?r&&(r[h]!==void 0||r[u]!==void 0)&&(s[h]=Gs(l,a,h,void 0,t,!0)):delete s[h]);if(i!==a)for(const h in i)(!e||!se(e,h))&&(delete i[h],c=!0)}c&&St(t.attrs,"set","")}function fl(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Fr(l))continue;const c=e[l];let u;s&&se(s,u=Ye(l))?!i||!i.includes(u)?r[u]=c:(a||(a={}))[u]=c:as(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=Z(r),c=a||ae;for(let u=0;u<i.length;u++){const h=i[u];r[h]=Gs(s,l,h,c[h],t,!se(c,h))}}return o}function Gs(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=se(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&J(l)){const{propsDefaults:c}=s;if(r in c)n=c[r];else{const u=dn(s);n=c[r]=l.call(null,e),u()}}else n=l;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===sr(r))&&(n=!0))}return n}const uh=new WeakMap;function pl(t,e,r=!1){const n=r?uh:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!J(t)){const u=h=>{l=!0;const[d,f]=pl(h,e,!0);Ie(o,d),f&&a.push(...f)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return le(t)&&n.set(t,_r),_r;if(W(i))for(let u=0;u<i.length;u++){const h=Ye(i[u]);oo(h)&&(o[h]=ae)}else if(i)for(const u in i){const h=Ye(u);if(oo(h)){const d=i[u],f=o[h]=W(d)||J(d)?{type:d}:Ie({},d),m=f.type;let y=!1,w=!0;if(W(m))for(let b=0;b<m.length;++b){const _=m[b],S=J(_)&&_.name;if(S==="Boolean"){y=!0;break}else S==="String"&&(w=!1)}else y=J(m)&&m.name==="Boolean";f[0]=y,f[1]=w,(y||se(f,"default"))&&a.push(h)}}const c=[o,a];return le(t)&&n.set(t,c),c}function oo(t){return t[0]!=="$"&&!Fr(t)}const xi=t=>t==="_"||t==="_ctx"||t==="$stable",ji=t=>W(t)?t.map(dt):[dt(t)],hh=(t,e,r)=>{if(e._n)return e;const n=qs((...s)=>ji(e(...s)),r);return n._c=!1,n},gl=(t,e,r)=>{const n=t._ctx;for(const s in t){if(xi(s))continue;const i=t[s];if(J(i))e[s]=hh(s,i,n);else if(i!=null){const o=ji(i);e[s]=()=>o}}},ml=(t,e)=>{const r=ji(e);t.slots.default=()=>r},vl=(t,e,r)=>{for(const n in e)(r||!xi(n))&&(t[n]=e[n])},dh=(t,e,r)=>{const n=t.slots=hl();if(t.vnode.shapeFlag&32){const s=e._;s?(vl(n,e,r),r&&Ta(n,"_",s,!0)):gl(e,n)}else e&&ml(t,e)},fh=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=ae;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:vl(s,e,r):(i=!e.$stable,gl(e,s)),o=e}else e&&(ml(t,e),o={default:1});if(i)for(const a in s)!xi(a)&&o[a]==null&&delete s[a]},Be=Ph;function ph(t){return gh(t)}function gh(t,e){const r=ts();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=ft,insertStaticContent:m}=t,y=(p,g,v,k=null,A=null,O=null,C=void 0,I=null,R=!!g.dynamicChildren)=>{if(p===g)return;p&&!Nr(p,g)&&(k=T(p),$e(p,A,O,!0),p=null),g.patchFlag===-2&&(R=!1,g.dynamicChildren=null);const{type:P,ref:H,shapeFlag:D}=g;switch(P){case ls:w(p,g,v,k);break;case Bt:b(p,g,v,k);break;case Rn:p==null&&_(g,v,k,C);break;case qe:Ne(p,g,v,k,A,O,C,I,R);break;default:D&1?N(p,g,v,k,A,O,C,I,R):D&6?Oe(p,g,v,k,A,O,C,I,R):(D&64||D&128)&&P.process(p,g,v,k,A,O,C,I,R,F)}H!=null&&A?Vr(H,p&&p.ref,O,g||p,!g):H==null&&p&&p.ref!=null&&Vr(p.ref,null,O,p,!0)},w=(p,g,v,k)=>{if(p==null)n(g.el=a(g.children),v,k);else{const A=g.el=p.el;g.children!==p.children&&c(A,g.children)}},b=(p,g,v,k)=>{p==null?n(g.el=l(g.children||""),v,k):g.el=p.el},_=(p,g,v,k)=>{[p.el,p.anchor]=m(p.children,g,v,k,p.el,p.anchor)},S=({el:p,anchor:g},v,k)=>{let A;for(;p&&p!==g;)A=d(p),n(p,v,k),p=A;n(g,v,k)},E=({el:p,anchor:g})=>{let v;for(;p&&p!==g;)v=d(p),s(p),p=v;s(g)},N=(p,g,v,k,A,O,C,I,R)=>{g.type==="svg"?C="svg":g.type==="math"&&(C="mathml"),p==null?q(g,v,k,A,O,C,I,R):U(p,g,A,O,C,I,R)},q=(p,g,v,k,A,O,C,I)=>{let R,P;const{props:H,shapeFlag:D,transition:B,dirs:K}=p;if(R=p.el=o(p.type,O,H&&H.is,H),D&8?u(R,p.children):D&16&&M(p.children,R,null,k,A,Ss(p,O),C,I),K&&Wt(p,null,k,"created"),x(R,p,p.scopeId,C,k),H){for(const ce in H)ce!=="value"&&!Fr(ce)&&i(R,ce,null,H[ce],O,k);"value"in H&&i(R,"value",null,H.value,O),(P=H.onVnodeBeforeMount)&&ut(P,k,p)}K&&Wt(p,null,k,"beforeMount");const X=mh(A,B);X&&B.beforeEnter(R),n(R,g,v),((P=H&&H.onVnodeMounted)||X||K)&&Be(()=>{P&&ut(P,k,p),X&&B.enter(R),K&&Wt(p,null,k,"mounted")},A)},x=(p,g,v,k,A)=>{if(v&&f(p,v),k)for(let O=0;O<k.length;O++)f(p,k[O]);if(A){let O=A.subTree;if(g===O||El(O.type)&&(O.ssContent===g||O.ssFallback===g)){const C=A.vnode;x(p,C,C.scopeId,C.slotScopeIds,A.parent)}}},M=(p,g,v,k,A,O,C,I,R=0)=>{for(let P=R;P<p.length;P++){const H=p[P]=I?Nt(p[P]):dt(p[P]);y(null,H,g,v,k,A,O,C,I)}},U=(p,g,v,k,A,O,C)=>{const I=g.el=p.el;let{patchFlag:R,dynamicChildren:P,dirs:H}=g;R|=p.patchFlag&16;const D=p.props||ae,B=g.props||ae;let K;if(v&&Kt(v,!1),(K=B.onVnodeBeforeUpdate)&&ut(K,v,g,p),H&&Wt(g,p,v,"beforeUpdate"),v&&Kt(v,!0),(D.innerHTML&&B.innerHTML==null||D.textContent&&B.textContent==null)&&u(I,""),P?te(p.dynamicChildren,P,I,v,k,Ss(g,A),O):C||re(p,g,I,null,v,k,Ss(g,A),O,!1),R>0){if(R&16)Ee(I,D,B,v,A);else if(R&2&&D.class!==B.class&&i(I,"class",null,B.class,A),R&4&&i(I,"style",D.style,B.style,A),R&8){const X=g.dynamicProps;for(let ce=0;ce<X.length;ce++){const ie=X[ce],Le=D[ie],Ue=B[ie];(Ue!==Le||ie==="value")&&i(I,ie,Le,Ue,A,v)}}R&1&&p.children!==g.children&&u(I,g.children)}else!C&&P==null&&Ee(I,D,B,v,A);((K=B.onVnodeUpdated)||H)&&Be(()=>{K&&ut(K,v,g,p),H&&Wt(g,p,v,"updated")},k)},te=(p,g,v,k,A,O,C)=>{for(let I=0;I<g.length;I++){const R=p[I],P=g[I],H=R.el&&(R.type===qe||!Nr(R,P)||R.shapeFlag&198)?h(R.el):v;y(R,P,H,null,k,A,O,C,!0)}},Ee=(p,g,v,k,A)=>{if(g!==v){if(g!==ae)for(const O in g)!Fr(O)&&!(O in v)&&i(p,O,g[O],null,A,k);for(const O in v){if(Fr(O))continue;const C=v[O],I=g[O];C!==I&&O!=="value"&&i(p,O,I,C,A,k)}"value"in v&&i(p,"value",g.value,v.value,A)}},Ne=(p,g,v,k,A,O,C,I,R)=>{const P=g.el=p?p.el:a(""),H=g.anchor=p?p.anchor:a("");let{patchFlag:D,dynamicChildren:B,slotScopeIds:K}=g;K&&(I=I?I.concat(K):K),p==null?(n(P,v,k),n(H,v,k),M(g.children||[],v,H,A,O,C,I,R)):D>0&&D&64&&B&&p.dynamicChildren?(te(p.dynamicChildren,B,v,A,O,C,I),(g.key!=null||A&&g===A.subTree)&&yl(p,g,!0)):re(p,g,v,H,A,O,C,I,R)},Oe=(p,g,v,k,A,O,C,I,R)=>{g.slotScopeIds=I,p==null?g.shapeFlag&512?A.ctx.activate(g,v,k,C,R):mt(g,v,k,A,O,C,R):Pt(p,g,R)},mt=(p,g,v,k,A,O,C)=>{const I=p.component=$h(p,k,A);if(nl(p)&&(I.ctx.renderer=F),Lh(I,!1,C),I.asyncDep){if(A&&A.registerDep(I,fe,C),!p.el){const R=I.subTree=ve(Bt);b(null,R,g,v),p.placeholder=R.el}}else fe(I,p,g,v,A,O,C)},Pt=(p,g,v)=>{const k=g.component=p.component;if(Th(p,g,v))if(k.asyncDep&&!k.asyncResolved){Y(k,g,v);return}else k.next=g,k.update();else g.el=p.el,k.vnode=g},fe=(p,g,v,k,A,O,C)=>{const I=()=>{if(p.isMounted){let{next:D,bu:B,u:K,parent:X,vnode:ce}=p;{const lt=_l(p);if(lt){D&&(D.el=ce.el,Y(p,D,C)),lt.asyncDep.then(()=>{p.isUnmounted||I()});return}}let ie=D,Le;Kt(p,!1),D?(D.el=ce.el,Y(p,D,C)):D=ce,B&&An(B),(Le=D.props&&D.props.onVnodeBeforeUpdate)&&ut(Le,X,D,ce),Kt(p,!0);const Ue=lo(p),at=p.subTree;p.subTree=Ue,y(at,Ue,h(at.el),T(at),p,A,O),D.el=Ue.el,ie===null&&Ah(p,Ue.el),K&&Be(K,A),(Le=D.props&&D.props.onVnodeUpdated)&&Be(()=>ut(Le,X,D,ce),A)}else{let D;const{el:B,props:K}=g,{bm:X,m:ce,parent:ie,root:Le,type:Ue}=p,at=qr(g);Kt(p,!1),X&&An(X),!at&&(D=K&&K.onVnodeBeforeMount)&&ut(D,ie,g),Kt(p,!0);{Le.ce&&Le.ce._def.shadowRoot!==!1&&Le.ce._injectChildStyle(Ue);const lt=p.subTree=lo(p);y(null,lt,v,k,p,A,O),g.el=lt.el}if(ce&&Be(ce,A),!at&&(D=K&&K.onVnodeMounted)){const lt=g;Be(()=>ut(D,ie,lt),A)}(g.shapeFlag&256||ie&&qr(ie.vnode)&&ie.vnode.shapeFlag&256)&&p.a&&Be(p.a,A),p.isMounted=!0,g=v=k=null}};p.scope.on();const R=p.effect=new ja(I);p.scope.off();const P=p.update=R.run.bind(R),H=p.job=R.runIfDirty.bind(R);H.i=p,H.id=p.uid,R.scheduler=()=>Ii(H),Kt(p,!0),P()},Y=(p,g,v)=>{g.component=p;const k=p.vnode.props;p.vnode=g,p.next=null,ch(p,g.props,k,v),fh(p,g.children,v),kt(),Zi(p),Tt()},re=(p,g,v,k,A,O,C,I,R=!1)=>{const P=p&&p.children,H=p?p.shapeFlag:0,D=g.children,{patchFlag:B,shapeFlag:K}=g;if(B>0){if(B&128){Rt(P,D,v,k,A,O,C,I,R);return}else if(B&256){vt(P,D,v,k,A,O,C,I,R);return}}K&8?(H&16&&Je(P,A,O),D!==P&&u(v,D)):H&16?K&16?Rt(P,D,v,k,A,O,C,I,R):Je(P,A,O,!0):(H&8&&u(v,""),K&16&&M(D,v,k,A,O,C,I,R))},vt=(p,g,v,k,A,O,C,I,R)=>{p=p||_r,g=g||_r;const P=p.length,H=g.length,D=Math.min(P,H);let B;for(B=0;B<D;B++){const K=g[B]=R?Nt(g[B]):dt(g[B]);y(p[B],K,v,null,A,O,C,I,R)}P>H?Je(p,A,O,!0,!1,D):M(g,v,k,A,O,C,I,R,D)},Rt=(p,g,v,k,A,O,C,I,R)=>{let P=0;const H=g.length;let D=p.length-1,B=H-1;for(;P<=D&&P<=B;){const K=p[P],X=g[P]=R?Nt(g[P]):dt(g[P]);if(Nr(K,X))y(K,X,v,null,A,O,C,I,R);else break;P++}for(;P<=D&&P<=B;){const K=p[D],X=g[B]=R?Nt(g[B]):dt(g[B]);if(Nr(K,X))y(K,X,v,null,A,O,C,I,R);else break;D--,B--}if(P>D){if(P<=B){const K=B+1,X=K<H?g[K].el:k;for(;P<=B;)y(null,g[P]=R?Nt(g[P]):dt(g[P]),v,X,A,O,C,I,R),P++}}else if(P>B)for(;P<=D;)$e(p[P],A,O,!0),P++;else{const K=P,X=P,ce=new Map;for(P=X;P<=B;P++){const Me=g[P]=R?Nt(g[P]):dt(g[P]);Me.key!=null&&ce.set(Me.key,P)}let ie,Le=0;const Ue=B-X+1;let at=!1,lt=0;const jr=new Array(Ue);for(P=0;P<Ue;P++)jr[P]=0;for(P=K;P<=D;P++){const Me=p[P];if(Le>=Ue){$e(Me,A,O,!0);continue}let ct;if(Me.key!=null)ct=ce.get(Me.key);else for(ie=X;ie<=B;ie++)if(jr[ie-X]===0&&Nr(Me,g[ie])){ct=ie;break}ct===void 0?$e(Me,A,O,!0):(jr[ct-X]=P+1,ct>=lt?lt=ct:at=!0,y(Me,g[ct],v,null,A,O,C,I,R),Le++)}const Ki=at?vh(jr):_r;for(ie=Ki.length-1,P=Ue-1;P>=0;P--){const Me=X+P,ct=g[Me],Gi=g[Me+1],Ji=Me+1<H?Gi.el||Gi.placeholder:k;jr[P]===0?y(null,ct,v,Ji,A,O,C,I,R):at&&(ie<0||P!==Ki[ie]?ot(ct,v,Ji,2):ie--)}}},ot=(p,g,v,k,A=null)=>{const{el:O,type:C,transition:I,children:R,shapeFlag:P}=p;if(P&6){ot(p.component.subTree,g,v,k);return}if(P&128){p.suspense.move(g,v,k);return}if(P&64){C.move(p,g,v,F);return}if(C===qe){n(O,g,v);for(let D=0;D<R.length;D++)ot(R[D],g,v,k);n(p.anchor,g,v);return}if(C===Rn){S(p,g,v);return}if(k!==2&&P&1&&I)if(k===0)I.beforeEnter(O),n(O,g,v),Be(()=>I.enter(O),A);else{const{leave:D,delayLeave:B,afterLeave:K}=I,X=()=>{p.ctx.isUnmounted?s(O):n(O,g,v)},ce=()=>{O._isLeaving&&O[Uu](!0),D(O,()=>{X(),K&&K()})};B?B(O,X,ce):ce()}else n(O,g,v)},$e=(p,g,v,k=!1,A=!1)=>{const{type:O,props:C,ref:I,children:R,dynamicChildren:P,shapeFlag:H,patchFlag:D,dirs:B,cacheIndex:K}=p;if(D===-2&&(A=!1),I!=null&&(kt(),Vr(I,null,v,p,!0),Tt()),K!=null&&(g.renderCache[K]=void 0),H&256){g.ctx.deactivate(p);return}const X=H&1&&B,ce=!qr(p);let ie;if(ce&&(ie=C&&C.onVnodeBeforeUnmount)&&ut(ie,g,p),H&6)Ht(p.component,v,k);else{if(H&128){p.suspense.unmount(v,k);return}X&&Wt(p,null,g,"beforeUnmount"),H&64?p.type.remove(p,g,v,F,k):P&&!P.hasOnce&&(O!==qe||D>0&&D&64)?Je(P,g,v,!1,!0):(O===qe&&D&384||!A&&H&16)&&Je(R,g,v),k&&or(p)}(ce&&(ie=C&&C.onVnodeUnmounted)||X)&&Be(()=>{ie&&ut(ie,g,p),X&&Wt(p,null,g,"unmounted")},v)},or=p=>{const{type:g,el:v,anchor:k,transition:A}=p;if(g===qe){ar(v,k);return}if(g===Rn){E(p);return}const O=()=>{s(v),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(p.shapeFlag&1&&A&&!A.persisted){const{leave:C,delayLeave:I}=A,R=()=>C(v,O);I?I(p.el,O,R):R()}else O()},ar=(p,g)=>{let v;for(;p!==g;)v=d(p),s(p),p=v;s(g)},Ht=(p,g,v)=>{const{bum:k,scope:A,job:O,subTree:C,um:I,m:R,a:P}=p;ao(R),ao(P),k&&An(k),A.stop(),O&&(O.flags|=8,$e(C,p,g,v)),I&&Be(I,g),Be(()=>{p.isUnmounted=!0},g)},Je=(p,g,v,k=!1,A=!1,O=0)=>{for(let C=O;C<p.length;C++)$e(p[C],g,v,k,A)},T=p=>{if(p.shapeFlag&6)return T(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),v=g&&g[$u];return v?d(v):g};let $=!1;const j=(p,g,v)=>{p==null?g._vnode&&$e(g._vnode,null,null,!0):y(g._vnode||null,p,g,null,null,null,v),g._vnode=p,$||($=!0,Zi(),Xa(),$=!1)},F={p:y,um:$e,m:ot,r:or,mt,mc:M,pc:re,pbc:te,n:T,o:t};return{render:j,hydrate:void 0,createApp:oh(j)}}function Ss({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Kt({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function mh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function yl(t,e,r=!1){const n=t.children,s=e.children;if(W(n)&&W(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Nt(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&yl(o,a)),a.type===ls&&a.patchFlag!==-1&&(a.el=o.el),a.type===Bt&&!a.el&&(a.el=o.el)}}function vh(t){const e=t.slice(),r=[0];let n,s,i,o,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(s=r[r.length-1],t[s]<c){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<c?i=a+1:o=a;c<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function _l(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:_l(e)}function ao(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const yh=Symbol.for("v-scx"),_h=()=>nt(yh);function Wr(t,e,r){return wl(t,e,r)}function wl(t,e,r=ae){const{immediate:n,deep:s,flush:i,once:o}=r,a=Ie({},r),l=e&&n||!e&&i!=="post";let c;if(rn){if(i==="sync"){const f=_h();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=ft,f.resume=ft,f.pause=ft,f}}const u=Re;a.call=(f,m,y)=>gt(f,u,m,y);let h=!1;i==="post"?a.scheduler=f=>{Be(f,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,m)=>{m?f():Ii(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=xu(t,e,a);return rn&&(c?c.push(d):l&&d()),d}function wh(t,e,r){const n=this.proxy,s=we(t)?t.includes(".")?bl(n,t):()=>n[t]:t.bind(n,n);let i;J(e)?i=e:(i=e.handler,r=e);const o=dn(this),a=wl(s,i.bind(n),r);return o(),a}function bl(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}const bh=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ye(e)}Modifiers`]||t[`${sr(e)}Modifiers`];function Sh(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||ae;let s=r;const i=e.startsWith("update:"),o=i&&bh(n,e.slice(7));o&&(o.trim&&(s=r.map(u=>we(u)?u.trim():u)),o.number&&(s=r.map(xn)));let a,l=n[a=ms(e)]||n[a=ms(Ye(e))];!l&&i&&(l=n[a=ms(sr(e))]),l&&gt(l,t,6,s);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,gt(c,t,6,s)}}const Eh=new WeakMap;function Sl(t,e,r=!1){const n=r?Eh:e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!J(t)){const l=c=>{const u=Sl(c,e,!0);u&&(a=!0,Ie(o,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(le(t)&&n.set(t,null),null):(W(i)?i.forEach(l=>o[l]=null):Ie(o,i),le(t)&&n.set(t,o),o)}function as(t,e){return!t||!Qn(e)?!1:(e=e.slice(2).replace(/Once$/,""),se(t,e[0].toLowerCase()+e.slice(1))||se(t,sr(e))||se(t,e))}function lo(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:m,inheritAttrs:y}=t,w=Ln(t);let b,_;try{if(r.shapeFlag&4){const E=s||n,N=E;b=dt(c.call(N,E,u,h,f,d,m)),_=a}else{const E=e;b=dt(E.length>1?E(h,{attrs:a,slots:o,emit:l}):E(h,null)),_=e.props?a:Oh(a)}}catch(E){Kr.length=0,ss(E,t,1),b=ve(Bt)}let S=b;if(_&&y!==!1){const E=Object.keys(_),{shapeFlag:N}=S;E.length&&N&7&&(i&&E.some(yi)&&(_=kh(_,i)),S=Tr(S,_,!1,!0))}return r.dirs&&(S=Tr(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&Ci(S,r.transition),b=S,Ln(w),b}const Oh=t=>{let e;for(const r in t)(r==="class"||r==="style"||Qn(r))&&((e||(e={}))[r]=t[r]);return e},kh=(t,e)=>{const r={};for(const n in t)(!yi(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Th(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?co(n,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==n[d]&&!as(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?co(n,o,c):!0:!!o;return!1}function co(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!as(r,i))return!0}return!1}function Ah({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const El=t=>t.__isSuspense;function Ph(t,e){e&&e.pendingBranch?W(t)?e.effects.push(...t):e.effects.push(t):Nu(t)}const qe=Symbol.for("v-fgt"),ls=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),Rn=Symbol.for("v-stc"),Kr=[];let Ge=null;function ee(t=!1){Kr.push(Ge=t?null:[])}function Rh(){Kr.pop(),Ge=Kr[Kr.length-1]||null}let tn=1;function Bn(t,e=!1){tn+=t,t<0&&Ge&&e&&(Ge.hasOnce=!0)}function Ol(t){return t.dynamicChildren=tn>0?Ge||_r:null,Rh(),tn>0&&Ge&&Ge.push(t),t}function de(t,e,r,n,s,i){return Ol(z(t,e,r,n,s,i,!0))}function Er(t,e,r,n,s){return Ol(ve(t,e,r,n,s,!0))}function Vn(t){return t?t.__v_isVNode===!0:!1}function Nr(t,e){return t.type===e.type&&t.key===e.key}const kl=({key:t})=>t??null,In=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?we(t)||ye(t)||J(t)?{i:Ke,r:t,k:e,f:!!r}:t:null);function z(t,e=null,r=null,n=0,s=null,i=t===qe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kl(e),ref:e&&In(e),scopeId:el,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ke};return a?(Di(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=we(r)?8:16),tn>0&&!o&&Ge&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ge.push(l),l}const ve=Ih;function Ih(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===Qu)&&(t=Bt),Vn(t)){const a=Tr(t,e,!0);return r&&Di(a,r),tn>0&&!i&&Ge&&(a.shapeFlag&6?Ge[Ge.indexOf(t)]=a:Ge.push(a)),a.patchFlag=-2,a}if(Vh(t)&&(t=t.__vccOpts),e){e=Ch(e);let{class:a,style:l}=e;a&&!we(a)&&(e.class=Ot(a)),le(l)&&(Pi(l)&&!W(l)&&(l=Ie({},l)),e.style=bi(l))}const o=we(t)?1:El(t)?128:Lu(t)?64:le(t)?4:J(t)?2:0;return z(t,e,r,n,s,o,i,!0)}function Ch(t){return t?Pi(t)||dl(t)?Ie({},t):t:null}function Tr(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?jh(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&kl(c),ref:e&&e.ref?r&&i?W(i)?i.concat(In(e)):[i,In(e)]:In(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==qe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Tr(t.ssContent),ssFallback:t.ssFallback&&Tr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Ci(u,l.clone(u)),u}function Js(t=" ",e=0){return ve(ls,null,t,e)}function xh(t,e){const r=ve(Rn,null,t);return r.staticCount=e,r}function tt(t="",e=!1){return e?(ee(),Er(Bt,null,t)):ve(Bt,null,t)}function dt(t){return t==null||typeof t=="boolean"?ve(Bt):W(t)?ve(qe,null,t.slice()):Vn(t)?Nt(t):ve(ls,null,String(t))}function Nt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Tr(t)}function Di(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(W(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),Di(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!dl(e)?e._ctx=Ke:s===3&&Ke&&(Ke.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else J(e)?(e={default:e,_ctx:Ke},r=32):(e=String(e),n&64?(r=16,e=[Js(e)]):r=8);t.children=e,t.shapeFlag|=r}function jh(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=Ot([e.class,n.class]));else if(s==="style")e.style=bi([e.style,n.style]);else if(Qn(s)){const i=e[s],o=n[s];o&&i!==o&&!(W(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function ut(t,e,r,n=null){gt(t,e,7,[r,n])}const Dh=cl();let Nh=0;function $h(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||Dh,i={uid:Nh++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ia(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pl(n,s),emitsOptions:Sl(n,s),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:n.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Sh.bind(null,i),t.ce&&t.ce(i),i}let Re=null;const Tl=()=>Re||Ke;let qn,zs;{const t=ts(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};qn=e("__VUE_INSTANCE_SETTERS__",r=>Re=r),zs=e("__VUE_SSR_SETTERS__",r=>rn=r)}const dn=t=>{const e=Re;return qn(t),t.scope.on(),()=>{t.scope.off(),qn(e)}},uo=()=>{Re&&Re.scope.off(),qn(null)};function Al(t){return t.vnode.shapeFlag&4}let rn=!1;function Lh(t,e=!1,r=!1){e&&zs(e);const{props:n,children:s}=t.vnode,i=Al(t);lh(t,n,i,e),dh(t,s,r||e);const o=i?Uh(t,e):void 0;return e&&zs(!1),o}function Uh(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Zu);const{setup:n}=r;if(n){kt();const s=t.setupContext=n.length>1?Mh(t):null,i=dn(t),o=hn(n,t,0,[t.props,s]),a=Ea(o);if(Tt(),i(),(a||t.sp)&&!qr(t)&&rl(t),a){if(o.then(uo,uo),e)return o.then(l=>{ho(t,l)}).catch(l=>{ss(l,t,0)});t.asyncDep=o}else ho(t,o)}else Pl(t)}function ho(t,e,r){J(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:le(e)&&(t.setupState=za(e)),Pl(t)}function Pl(t,e,r){const n=t.type;t.render||(t.render=n.render||ft);{const s=dn(t);kt();try{eh(t)}finally{Tt(),s()}}}const Fh={get(t,e){return Pe(t,"get",""),t[e]}};function Mh(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Fh),slots:t.slots,emit:t.emit,expose:e}}function cs(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(za(Ri(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Hr)return Hr[r](t)},has(e,r){return r in e||r in Hr}})):t.proxy}function Bh(t,e=!0){return J(t)?t.displayName||t.name:t.name||e&&t.__name}function Vh(t){return J(t)&&"__vccOpts"in t}const oe=(t,e)=>Iu(t,e,rn);function Rl(t,e,r){try{Bn(-1);const n=arguments.length;return n===2?le(e)&&!W(e)?Vn(e)?ve(t,null,[e]):ve(t,e):ve(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Vn(r)&&(r=[r]),ve(t,e,r))}finally{Bn(1)}}const qh="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ys;const fo=typeof window<"u"&&window.trustedTypes;if(fo)try{Ys=fo.createPolicy("vue",{createHTML:t=>t})}catch{}const Il=Ys?t=>Ys.createHTML(t):t=>t,Hh="http://www.w3.org/2000/svg",Wh="http://www.w3.org/1998/Math/MathML",wt=typeof document<"u"?document:null,po=wt&&wt.createElement("template"),Kh={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?wt.createElementNS(Hh,t):e==="mathml"?wt.createElementNS(Wh,t):r?wt.createElement(t,{is:r}):wt.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>wt.createTextNode(t),createComment:t=>wt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>wt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{po.innerHTML=Il(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=po.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Gh=Symbol("_vtc");function Jh(t,e,r){const n=t[Gh];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const go=Symbol("_vod"),zh=Symbol("_vsh"),Yh=Symbol(""),Qh=/(?:^|;)\s*display\s*:/;function Xh(t,e,r){const n=t.style,s=we(r);let i=!1;if(r&&!s){if(e)if(we(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Cn(n,a,"")}else for(const o in e)r[o]==null&&Cn(n,o,"");for(const o in r)o==="display"&&(i=!0),Cn(n,o,r[o])}else if(s){if(e!==r){const o=n[Yh];o&&(r+=";"+o),n.cssText=r,i=Qh.test(r)}}else e&&t.removeAttribute("style");go in t&&(t[go]=i?n.display:"",t[zh]&&(n.display="none"))}const mo=/\s*!important$/;function Cn(t,e,r){if(W(r))r.forEach(n=>Cn(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=Zh(t,e);mo.test(r)?t.setProperty(sr(n),r.replace(mo,""),"important"):t[n]=r}}const vo=["Webkit","Moz","ms"],Es={};function Zh(t,e){const r=Es[e];if(r)return r;let n=Ye(e);if(n!=="filter"&&n in t)return Es[e]=n;n=es(n);for(let s=0;s<vo.length;s++){const i=vo[s]+n;if(i in t)return Es[e]=i}return e}const yo="http://www.w3.org/1999/xlink";function _o(t,e,r,n,s,i=eu(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(yo,e.slice(6,e.length)):t.setAttributeNS(yo,e,r):r==null||i&&!Aa(r)?t.removeAttribute(e):t.setAttribute(e,i?"":pt(r)?String(r):r)}function wo(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Il(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=Aa(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function Qt(t,e,r,n){t.addEventListener(e,r,n)}function ed(t,e,r,n){t.removeEventListener(e,r,n)}const bo=Symbol("_vei");function td(t,e,r,n,s=null){const i=t[bo]||(t[bo]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=rd(e);if(n){const c=i[e]=id(n,s);Qt(t,a,c,l)}else o&&(ed(t,a,o,l),i[e]=void 0)}}const So=/(?:Once|Passive|Capture)$/;function rd(t){let e;if(So.test(t)){e={};let n;for(;n=t.match(So);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):sr(t.slice(2)),e]}let Os=0;const nd=Promise.resolve(),sd=()=>Os||(nd.then(()=>Os=0),Os=Date.now());function id(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;gt(od(n,r.value),e,5,[n])};return r.value=t,r.attached=sd(),r}function od(t,e){if(W(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const Eo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ad=(t,e,r,n,s,i)=>{const o=s==="svg";e==="class"?Jh(t,n,o):e==="style"?Xh(t,r,n):Qn(e)?yi(e)||td(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ld(t,e,n,o))?(wo(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&_o(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!we(n))?wo(t,Ye(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),_o(t,e,n,o))};function ld(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Eo(e)&&J(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Eo(e)&&we(r)?!1:e in t}const Hn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return W(e)?r=>An(e,r):e};function cd(t){t.target.composing=!0}function Oo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Or=Symbol("_assign"),Vv={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t[Or]=Hn(s);const i=n||s.props&&s.props.type==="number";Qt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=xn(a)),t[Or](a)}),r&&Qt(t,"change",()=>{t.value=t.value.trim()}),e||(Qt(t,"compositionstart",cd),Qt(t,"compositionend",Oo),Qt(t,"change",Oo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:s,number:i}},o){if(t[Or]=Hn(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?xn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||s&&t.value.trim()===l)||(t.value=l))}},qv={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const s=Xn(e);Qt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?xn(Wn(o)):Wn(o));t[Or](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,is(()=>{t._assigning=!1})}),t[Or]=Hn(n)},mounted(t,{value:e}){ko(t,e)},beforeUpdate(t,e,r){t[Or]=Hn(r)},updated(t,{value:e}){t._assigning||ko(t,e)}};function ko(t,e){const r=t.multiple,n=W(e);if(!(r&&!n&&!Xn(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=Wn(o);if(r)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=ru(e,a)>-1}else o.selected=e.has(a);else if(rs(Wn(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Wn(t){return"_value"in t?t._value:t.value}const ud=["ctrl","shift","alt","meta"],hd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ud.some(r=>t[`${r}Key`]&&!e.includes(r))},Hv=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=hd[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},dd=Ie({patchProp:ad},Kh);let To;function fd(){return To||(To=ph(dd))}const pd=((...t)=>{const e=fd().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=md(n);if(!s)return;const i=e._component;!J(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,gd(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function gd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function md(t){return we(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Cl;const us=t=>Cl=t,xl=Symbol();function Qs(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Gr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Gr||(Gr={}));function vd(){const t=Ca(!0),e=t.run(()=>ge({}));let r=[],n=[];const s=Ri({install(i){us(s),s._a=i,i.provide(xl,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const jl=()=>{};function Ao(t,e,r,n=jl){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&xa()&&nu(s),s}function cr(t,...e){t.slice().forEach(r=>{r(...e)})}const yd=t=>t(),Po=Symbol(),ks=Symbol();function Xs(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];Qs(s)&&Qs(n)&&t.hasOwnProperty(r)&&!ye(n)&&!Ft(n)?t[r]=Xs(s,n):t[r]=n}return t}const _d=Symbol();function wd(t){return!Qs(t)||!Object.prototype.hasOwnProperty.call(t,_d)}const{assign:xt}=Object;function bd(t){return!!(ye(t)&&t.effect)}function Sd(t,e,r,n){const{state:s,actions:i,getters:o}=e,a=r.state.value[t];let l;function c(){a||(r.state.value[t]=s?s():{});const u=Tu(r.state.value[t]);return xt(u,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=Ri(oe(()=>{us(r);const f=r._s.get(t);return o[d].call(f,f)})),h),{}))}return l=Dl(t,c,e,r,n,!0),l}function Dl(t,e,r={},n,s,i){let o;const a=xt({actions:{}},r),l={deep:!0};let c,u,h=[],d=[],f;const m=n.state.value[t];!i&&!m&&(n.state.value[t]={}),ge({});let y;function w(M){let U;c=u=!1,typeof M=="function"?(M(n.state.value[t]),U={type:Gr.patchFunction,storeId:t,events:f}):(Xs(n.state.value[t],M),U={type:Gr.patchObject,payload:M,storeId:t,events:f});const te=y=Symbol();is().then(()=>{y===te&&(c=!0)}),u=!0,cr(h,U,n.state.value[t])}const b=i?function(){const{state:U}=r,te=U?U():{};this.$patch(Ee=>{xt(Ee,te)})}:jl;function _(){o.stop(),h=[],d=[],n._s.delete(t)}const S=(M,U="")=>{if(Po in M)return M[ks]=U,M;const te=function(){us(n);const Ee=Array.from(arguments),Ne=[],Oe=[];function mt(Y){Ne.push(Y)}function Pt(Y){Oe.push(Y)}cr(d,{args:Ee,name:te[ks],store:N,after:mt,onError:Pt});let fe;try{fe=M.apply(this&&this.$id===t?this:N,Ee)}catch(Y){throw cr(Oe,Y),Y}return fe instanceof Promise?fe.then(Y=>(cr(Ne,Y),Y)).catch(Y=>(cr(Oe,Y),Promise.reject(Y))):(cr(Ne,fe),fe)};return te[Po]=!0,te[ks]=U,te},E={_p:n,$id:t,$onAction:Ao.bind(null,d),$patch:w,$reset:b,$subscribe(M,U={}){const te=Ao(h,M,U.detached,()=>Ee()),Ee=o.run(()=>Wr(()=>n.state.value[t],Ne=>{(U.flush==="sync"?u:c)&&M({storeId:t,type:Gr.direct,events:f},Ne)},xt({},l,U)));return te},$dispose:_},N=un(E);n._s.set(t,N);const x=(n._a&&n._a.runWithContext||yd)(()=>n._e.run(()=>(o=Ca()).run(()=>e({action:S}))));for(const M in x){const U=x[M];if(ye(U)&&!bd(U)||Ft(U))i||(m&&wd(U)&&(ye(U)?U.value=m[M]:Xs(U,m[M])),n.state.value[t][M]=U);else if(typeof U=="function"){const te=S(U,M);x[M]=te,a.actions[M]=U}}return xt(N,x),xt(Z(N),x),Object.defineProperty(N,"$state",{get:()=>n.state.value[t],set:M=>{w(U=>{xt(U,M)})}}),n._p.forEach(M=>{xt(N,o.run(()=>M({store:N,app:n._a,pinia:n,options:a})))}),m&&i&&r.hydrate&&r.hydrate(N.$state,m),c=!0,u=!0,N}/*! #__NO_SIDE_EFFECTS__ */function hs(t,e,r){let n;const s=typeof e=="function";n=s?r:e;function i(o,a){const l=ah();return o=o||(l?nt(xl,null):null),o&&us(o),o=Cl,o._s.has(t)||(s?Dl(t,e,n,o):Sd(t,n,o)),o._s.get(t)}return i.$id=t,i}const it=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},Ed={name:"App"},Od={id:"app"},kd={class:"container"};function Td(t,e,r,n,s,i){const o=et("router-view");return ee(),de("div",Od,[z("div",kd,[ve(o)])])}const Ad=it(Ed,[["render",Td]]),Pd="modulepreload",Rd=function(t){return"/rss-agg/"+t},Ro={},Vt=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=o(r.map(c=>{if(c=Rd(c),c in Ro)return;Ro[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Pd,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const mr=typeof document<"u";function Nl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Id(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Nl(t.default)}const ne=Object.assign;function Ts(t,e){const r={};for(const n in e){const s=e[n];r[n]=st(s)?s.map(t):t(s)}return r}const Jr=()=>{},st=Array.isArray;function Io(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}const $l=/#/g,Cd=/&/g,xd=/\//g,jd=/=/g,Dd=/\?/g,Ll=/\+/g,Nd=/%5B/g,$d=/%5D/g,Ul=/%5E/g,Ld=/%60/g,Fl=/%7B/g,Ud=/%7C/g,Ml=/%7D/g,Fd=/%20/g;function Ni(t){return t==null?"":encodeURI(""+t).replace(Ud,"|").replace(Nd,"[").replace($d,"]")}function Md(t){return Ni(t).replace(Fl,"{").replace(Ml,"}").replace(Ul,"^")}function Zs(t){return Ni(t).replace(Ll,"%2B").replace(Fd,"+").replace($l,"%23").replace(Cd,"%26").replace(Ld,"`").replace(Fl,"{").replace(Ml,"}").replace(Ul,"^")}function Bd(t){return Zs(t).replace(jd,"%3D")}function Vd(t){return Ni(t).replace($l,"%23").replace(Dd,"%3F")}function qd(t){return Vd(t).replace(xd,"%2F")}function nn(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Hd=/\/$/,Wd=t=>t.replace(Hd,"");function As(t,e,r="/"){let n,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=e.slice(0,l),i=e.slice(l,a>0?a:e.length),s=t(i.slice(1))),a>=0&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=zd(n??e,r),{fullPath:n+i+o,path:n,query:s,hash:nn(o)}}function Kd(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Co(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Gd(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&Ar(e.matched[n],r.matched[s])&&Bl(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Ar(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Bl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Jd(t[r],e[r]))return!1;return!0}function Jd(t,e){return st(t)?xo(t,e):st(e)?xo(e,t):t===e}function xo(t,e){return st(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function zd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const It={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let ei=(function(t){return t.pop="pop",t.push="push",t})({}),Ps=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Yd(t){if(!t)if(mr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Wd(t)}const Qd=/^[^#]+#/;function Xd(t,e){return t.replace(Qd,"#")+e}function Zd(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const ds=()=>({left:window.scrollX,top:window.scrollY});function ef(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=Zd(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function jo(t,e){return(history.state?history.state.position-e:-1)+t}const ti=new Map;function tf(t,e){ti.set(t,e)}function rf(t){const e=ti.get(t);return ti.delete(t),e}function nf(t){return typeof t=="string"||t&&typeof t=="object"}function Vl(t){return typeof t=="string"||typeof t=="symbol"}let me=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const ql=Symbol("");me.MATCHER_NOT_FOUND+"",me.NAVIGATION_GUARD_REDIRECT+"",me.NAVIGATION_ABORTED+"",me.NAVIGATION_CANCELLED+"",me.NAVIGATION_DUPLICATED+"";function Pr(t,e){return ne(new Error,{type:t,[ql]:!0},e)}function _t(t,e){return t instanceof Error&&ql in t&&(e==null||!!(t.type&e))}const sf=["params","query","hash"];function of(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of sf)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function af(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const s=r[n].replace(Ll," "),i=s.indexOf("="),o=nn(i<0?s:s.slice(0,i)),a=i<0?null:nn(s.slice(i+1));if(o in e){let l=e[o];st(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function Do(t){let e="";for(let r in t){const n=t[r];if(r=Bd(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(st(n)?n.map(s=>s&&Zs(s)):[n&&Zs(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function lf(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=st(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const cf=Symbol(""),No=Symbol(""),fs=Symbol(""),Hl=Symbol(""),ri=Symbol("");function $r(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function $t(t,e,r,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Pr(me.NAVIGATION_ABORTED,{from:r,to:e})):d instanceof Error?l(d):nf(d)?l(Pr(me.NAVIGATION_GUARD_REDIRECT,{from:e,to:d})):(o&&n.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>t.call(n&&n.instances[s],e,r,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function Rs(t,e,r,n,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Nl(l)){const c=(l.__vccOpts||l)[e];c&&i.push($t(c,r,n,o,a,s))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Id(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&$t(d,r,n,o,a,s)()}))}}return i}function uf(t,e){const r=[],n=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ar(c,a))?n.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ar(c,l))||s.push(l))}return[r,n,s]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let hf=()=>location.protocol+"//"+location.host;function Wl(t,e){const{pathname:r,search:n,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,a=s.slice(o);return a[0]!=="/"&&(a="/"+a),Co(a,"")}return Co(r,t)+n+s}function df(t,e,r,n){let s=[],i=[],o=null;const a=({state:d})=>{const f=Wl(t,location),m=r.value,y=e.value;let w=0;if(d){if(r.value=f,e.value=d,o&&o===m){o=null;return}w=y?d.position-y.position:0}else n(f);s.forEach(b=>{b(r.value,m,{delta:w,type:ei.pop,direction:w?w>0?Ps.forward:Ps.back:Ps.unknown})})};function l(){o=r.value}function c(d){s.push(d);const f=()=>{const m=s.indexOf(d);m>-1&&s.splice(m,1)};return i.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(ne({},d.state,{scroll:ds()}),"")}}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function $o(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?ds():null}}function ff(t){const{history:e,location:r}=window,n={value:Wl(t,r)},s={value:e.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),d=h>-1?(r.host&&document.querySelector("base")?t:t.slice(h))+l:hf()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),s.value=c}catch(f){console.error(f),r[u?"replace":"assign"](d)}}function o(l,c){i(l,ne({},e.state,$o(s.value.back,l,s.value.forward,!0),c,{position:s.value.position}),!0),n.value=l}function a(l,c){const u=ne({},s.value,e.state,{forward:l,scroll:ds()});i(u.current,u,!0),i(l,ne({},$o(n.value,l,null),{position:u.position+1},c),!1),n.value=l}return{location:n,state:s,push:a,replace:o}}function pf(t){t=Yd(t);const e=ff(t),r=df(t,e.state,e.location,e.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=ne({location:"",base:t,go:n,createHref:Xd.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}let er=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var be=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(be||{});const gf={type:er.Static,value:""},mf=/[a-zA-Z0-9_]/;function vf(t){if(!t)return[[]];if(t==="/")return[[gf]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${r})/"${c}": ${f}`)}let r=be.Static,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(r===be.Static?i.push({type:er.Static,value:c}):r===be.Param||r===be.ParamRegExp||r===be.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:er.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==be.ParamRegExp){n=r,r=be.EscapeNext;continue}switch(r){case be.Static:l==="/"?(c&&h(),o()):l===":"?(h(),r=be.Param):d();break;case be.EscapeNext:d(),r=n;break;case be.Param:l==="("?r=be.ParamRegExp:mf.test(l)?d():(h(),r=be.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case be.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=be.ParamRegExpEnd:u+=l;break;case be.ParamRegExpEnd:h(),r=be.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===be.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}const Lo="[^/]+?",yf={sensitive:!1,strict:!1,start:!0,end:!0};var xe=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(xe||{});const _f=/[.+*?^${}()[\]/\\]/g;function wf(t,e){const r=ne({},yf,e),n=[];let s=r.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[xe.Root];r.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=xe.Segment+(r.sensitive?xe.BonusCaseSensitive:0);if(d.type===er.Static)h||(s+="/"),s+=d.value.replace(_f,"\\$&"),f+=xe.Static;else if(d.type===er.Param){const{value:m,repeatable:y,optional:w,regexp:b}=d;i.push({name:m,repeatable:y,optional:w});const _=b||Lo;if(_!==Lo){f+=xe.BonusCustomRegExp;try{`${_}`}catch(E){throw new Error(`Invalid custom RegExp for param "${m}" (${_}): `+E.message)}}let S=y?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;h||(S=w&&c.length<2?`(?:/${S})`:"/"+S),w&&(S+="?"),s+=S,f+=xe.Dynamic,w&&(f+=xe.BonusOptional),y&&(f+=xe.BonusRepeatable),_===".*"&&(f+=xe.BonusWildcard)}u.push(f)}n.push(u)}if(r.strict&&r.end){const c=n.length-1;n[c][n[c].length-1]+=xe.BonusStrict}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",m=i[d-1];h[m.name]=f&&m.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===er.Static)u+=f.value;else if(f.type===er.Param){const{value:m,repeatable:y,optional:w}=f,b=m in c?c[m]:"";if(st(b)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const _=st(b)?b.join("/"):b;if(!_)if(w)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=_}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function bf(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===xe.Static+xe.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===xe.Static+xe.Segment?1:-1:0}function Kl(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const i=bf(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(Uo(n))return 1;if(Uo(s))return-1}return s.length-n.length}function Uo(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Sf={strict:!1,end:!0,sensitive:!1};function Ef(t,e,r){const n=wf(vf(t.path),r),s=ne(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Of(t,e){const r=[],n=new Map;e=Io(Sf,e);function s(h){return n.get(h)}function i(h,d,f){const m=!f,y=Mo(h);y.aliasOf=f&&f.record;const w=Io(e,h),b=[y];if("alias"in h){const E=typeof h.alias=="string"?[h.alias]:h.alias;for(const N of E)b.push(Mo(ne({},y,{components:f?f.record.components:y.components,path:N,aliasOf:f?f.record:y})))}let _,S;for(const E of b){const{path:N}=E;if(d&&N[0]!=="/"){const q=d.record.path,x=q[q.length-1]==="/"?"":"/";E.path=d.record.path+(N&&x+N)}if(_=Ef(E,d,w),f?f.alias.push(_):(S=S||_,S!==_&&S.alias.push(_),m&&h.name&&!Bo(_)&&o(h.name)),Gl(_)&&l(_),y.children){const q=y.children;for(let x=0;x<q.length;x++)i(q[x],_,f&&f.children[x])}f=f||_}return S?()=>{o(S)}:Jr}function o(h){if(Vl(h)){const d=n.get(h);d&&(n.delete(h),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(h);d>-1&&(r.splice(d,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return r}function l(h){const d=Af(h,r);r.splice(d,0,h),h.record.name&&!Bo(h)&&n.set(h.record.name,h)}function c(h,d){let f,m={},y,w;if("name"in h&&h.name){if(f=n.get(h.name),!f)throw Pr(me.MATCHER_NOT_FOUND,{location:h});w=f.record.name,m=ne(Fo(d.params,f.keys.filter(S=>!S.optional).concat(f.parent?f.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),h.params&&Fo(h.params,f.keys.map(S=>S.name))),y=f.stringify(m)}else if(h.path!=null)y=h.path,f=r.find(S=>S.re.test(y)),f&&(m=f.parse(y),w=f.record.name);else{if(f=d.name?n.get(d.name):r.find(S=>S.re.test(d.path)),!f)throw Pr(me.MATCHER_NOT_FOUND,{location:h,currentLocation:d});w=f.record.name,m=ne({},d.params,h.params),y=f.stringify(m)}const b=[];let _=f;for(;_;)b.unshift(_.record),_=_.parent;return{name:w,path:y,params:m,matched:b,meta:Tf(b)}}t.forEach(h=>i(h));function u(){r.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function Fo(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Mo(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:kf(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function kf(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function Bo(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Tf(t){return t.reduce((e,r)=>ne(e,r.meta),{})}function Af(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;Kl(t,e[i])<0?n=i:r=i+1}const s=Pf(t);return s&&(n=e.lastIndexOf(s,n-1)),n}function Pf(t){let e=t;for(;e=e.parent;)if(Gl(e)&&Kl(t,e)===0)return e}function Gl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Vo(t){const e=nt(fs),r=nt(Hl),n=oe(()=>{const l=br(t.to);return e.resolve(l)}),s=oe(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],h=r.matched;if(!u||!h.length)return-1;const d=h.findIndex(Ar.bind(null,u));if(d>-1)return d;const f=qo(l[c-2]);return c>1&&qo(u)===f&&h[h.length-1].path!==f?h.findIndex(Ar.bind(null,l[c-2])):d}),i=oe(()=>s.value>-1&&jf(r.params,n.value.params)),o=oe(()=>s.value>-1&&s.value===r.matched.length-1&&Bl(r.params,n.value.params));function a(l={}){if(xf(l)){const c=e[br(t.replace)?"replace":"push"](br(t.to)).catch(Jr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:oe(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function Rf(t){return t.length===1?t[0]:t}const If=tl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Vo,setup(t,{slots:e}){const r=un(Vo(t)),{options:n}=nt(fs),s=oe(()=>({[Ho(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Ho(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&Rf(e.default(r));return t.custom?i:Rl("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),Cf=If;function xf(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function jf(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!st(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function qo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ho=(t,e,r)=>t??e??r,Df=tl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=nt(ri),s=oe(()=>t.route||n.value),i=nt(No,0),o=oe(()=>{let c=br(i);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=oe(()=>s.value.matched[o.value]);Pn(No,oe(()=>o.value+1)),Pn(cf,a),Pn(ri,s);const l=ge();return Wr(()=>[l.value,a.value,t.name],([c,u,h],[d,f,m])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Ar(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return Wo(r.default,{Component:d,route:c});const f=h.props[u],m=f?f===!0?c.params:typeof f=="function"?f(c):f:null,w=Rl(d,ne({},m,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Wo(r.default,{Component:w,route:c})||w}}});function Wo(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Nf=Df;function $f(t){const e=Of(t.routes,t),r=t.parseQuery||af,n=t.stringifyQuery||Do,s=t.history,i=$r(),o=$r(),a=$r(),l=Eu(It);let c=It;mr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ts.bind(null,T=>""+T),h=Ts.bind(null,qd),d=Ts.bind(null,nn);function f(T,$){let j,F;return Vl(T)?(j=e.getRecordMatcher(T),F=$):F=T,e.addRoute(F,j)}function m(T){const $=e.getRecordMatcher(T);$&&e.removeRoute($)}function y(){return e.getRoutes().map(T=>T.record)}function w(T){return!!e.getRecordMatcher(T)}function b(T,$){if($=ne({},$||l.value),typeof T=="string"){const v=As(r,T,$.path),k=e.resolve({path:v.path},$),A=s.createHref(v.fullPath);return ne(v,k,{params:d(k.params),hash:nn(v.hash),redirectedFrom:void 0,href:A})}let j;if(T.path!=null)j=ne({},T,{path:As(r,T.path,$.path).path});else{const v=ne({},T.params);for(const k in v)v[k]==null&&delete v[k];j=ne({},T,{params:h(v)}),$.params=h($.params)}const F=e.resolve(j,$),Q=T.hash||"";F.params=u(d(F.params));const p=Kd(n,ne({},T,{hash:Md(Q),path:F.path})),g=s.createHref(p);return ne({fullPath:p,hash:Q,query:n===Do?lf(T.query):T.query||{}},F,{redirectedFrom:void 0,href:g})}function _(T){return typeof T=="string"?As(r,T,l.value.path):ne({},T)}function S(T,$){if(c!==T)return Pr(me.NAVIGATION_CANCELLED,{from:$,to:T})}function E(T){return x(T)}function N(T){return E(ne(_(T),{replace:!0}))}function q(T,$){const j=T.matched[T.matched.length-1];if(j&&j.redirect){const{redirect:F}=j;let Q=typeof F=="function"?F(T,$):F;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=_(Q):{path:Q},Q.params={}),ne({query:T.query,hash:T.hash,params:Q.path!=null?{}:T.params},Q)}}function x(T,$){const j=c=b(T),F=l.value,Q=T.state,p=T.force,g=T.replace===!0,v=q(j,F);if(v)return x(ne(_(v),{state:typeof v=="object"?ne({},Q,v.state):Q,force:p,replace:g}),$||j);const k=j;k.redirectedFrom=$;let A;return!p&&Gd(n,F,j)&&(A=Pr(me.NAVIGATION_DUPLICATED,{to:k,from:F}),ot(F,F,!0,!1)),(A?Promise.resolve(A):te(k,F)).catch(O=>_t(O)?_t(O,me.NAVIGATION_GUARD_REDIRECT)?O:Rt(O):re(O,k,F)).then(O=>{if(O){if(_t(O,me.NAVIGATION_GUARD_REDIRECT))return x(ne({replace:g},_(O.to),{state:typeof O.to=="object"?ne({},Q,O.to.state):Q,force:p}),$||k)}else O=Ne(k,F,!0,g,Q);return Ee(k,F,O),O})}function M(T,$){const j=S(T,$);return j?Promise.reject(j):Promise.resolve()}function U(T){const $=ar.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(T):T()}function te(T,$){let j;const[F,Q,p]=uf(T,$);j=Rs(F.reverse(),"beforeRouteLeave",T,$);for(const v of F)v.leaveGuards.forEach(k=>{j.push($t(k,T,$))});const g=M.bind(null,T,$);return j.push(g),Je(j).then(()=>{j=[];for(const v of i.list())j.push($t(v,T,$));return j.push(g),Je(j)}).then(()=>{j=Rs(Q,"beforeRouteUpdate",T,$);for(const v of Q)v.updateGuards.forEach(k=>{j.push($t(k,T,$))});return j.push(g),Je(j)}).then(()=>{j=[];for(const v of p)if(v.beforeEnter)if(st(v.beforeEnter))for(const k of v.beforeEnter)j.push($t(k,T,$));else j.push($t(v.beforeEnter,T,$));return j.push(g),Je(j)}).then(()=>(T.matched.forEach(v=>v.enterCallbacks={}),j=Rs(p,"beforeRouteEnter",T,$,U),j.push(g),Je(j))).then(()=>{j=[];for(const v of o.list())j.push($t(v,T,$));return j.push(g),Je(j)}).catch(v=>_t(v,me.NAVIGATION_CANCELLED)?v:Promise.reject(v))}function Ee(T,$,j){a.list().forEach(F=>U(()=>F(T,$,j)))}function Ne(T,$,j,F,Q){const p=S(T,$);if(p)return p;const g=$===It,v=mr?history.state:{};j&&(F||g?s.replace(T.fullPath,ne({scroll:g&&v&&v.scroll},Q)):s.push(T.fullPath,Q)),l.value=T,ot(T,$,j,g),Rt()}let Oe;function mt(){Oe||(Oe=s.listen((T,$,j)=>{if(!Ht.listening)return;const F=b(T),Q=q(F,Ht.currentRoute.value);if(Q){x(ne(Q,{replace:!0,force:!0}),F).catch(Jr);return}c=F;const p=l.value;mr&&tf(jo(p.fullPath,j.delta),ds()),te(F,p).catch(g=>_t(g,me.NAVIGATION_ABORTED|me.NAVIGATION_CANCELLED)?g:_t(g,me.NAVIGATION_GUARD_REDIRECT)?(x(ne(_(g.to),{force:!0}),F).then(v=>{_t(v,me.NAVIGATION_ABORTED|me.NAVIGATION_DUPLICATED)&&!j.delta&&j.type===ei.pop&&s.go(-1,!1)}).catch(Jr),Promise.reject()):(j.delta&&s.go(-j.delta,!1),re(g,F,p))).then(g=>{g=g||Ne(F,p,!1),g&&(j.delta&&!_t(g,me.NAVIGATION_CANCELLED)?s.go(-j.delta,!1):j.type===ei.pop&&_t(g,me.NAVIGATION_ABORTED|me.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),Ee(F,p,g)}).catch(Jr)}))}let Pt=$r(),fe=$r(),Y;function re(T,$,j){Rt(T);const F=fe.list();return F.length?F.forEach(Q=>Q(T,$,j)):console.error(T),Promise.reject(T)}function vt(){return Y&&l.value!==It?Promise.resolve():new Promise((T,$)=>{Pt.add([T,$])})}function Rt(T){return Y||(Y=!T,mt(),Pt.list().forEach(([$,j])=>T?j(T):$()),Pt.reset()),T}function ot(T,$,j,F){const{scrollBehavior:Q}=t;if(!mr||!Q)return Promise.resolve();const p=!j&&rf(jo(T.fullPath,0))||(F||!j)&&history.state&&history.state.scroll||null;return is().then(()=>Q(T,$,p)).then(g=>g&&ef(g)).catch(g=>re(g,T,$))}const $e=T=>s.go(T);let or;const ar=new Set,Ht={currentRoute:l,listening:!0,addRoute:f,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:w,getRoutes:y,resolve:b,options:t,push:E,replace:N,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:fe.add,isReady:vt,install(T){T.component("RouterLink",Cf),T.component("RouterView",Nf),T.config.globalProperties.$router=Ht,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>br(l)}),mr&&!or&&l.value===It&&(or=!0,E(s.location).catch(F=>{}));const $={};for(const F in It)Object.defineProperty($,F,{get:()=>l.value[F],enumerable:!0});T.provide(fs,Ht),T.provide(Hl,Ga($)),T.provide(ri,l);const j=T.unmount;ar.add(T),T.unmount=function(){ar.delete(T),ar.size<1&&(c=It,Oe&&Oe(),Oe=null,l.value=It,or=!1,Y=!1),j()}}};function Je(T){return T.reduce(($,j)=>$.then(()=>U(j)),Promise.resolve())}return Ht}function Jl(){return nt(fs)}var ni=function(t,e){return ni=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ni(t,e)};function zl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ni(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Kn=function(){return Kn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Kn.apply(this,arguments)};function Cr(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Yl(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Ql(t,e){return function(r,n){e(r,n,t)}}function Xl(t,e,r,n,s,i){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,d=!1,f=r.length-1;f>=0;f--){var m={};for(var y in n)m[y]=y==="access"?{}:n[y];for(var y in n.access)m.access[y]=n.access[y];m.addInitializer=function(b){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(b||null))};var w=(0,r[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],m);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=o(w.get))&&(u.get=h),(h=o(w.set))&&(u.set=h),(h=o(w.init))&&s.unshift(h)}else(h=o(w))&&(a==="field"?s.unshift(h):u[l]=h)}c&&Object.defineProperty(c,n.name,u),d=!0}function Zl(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function ec(t){return typeof t=="symbol"?t:"".concat(t)}function tc(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function rc(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function L(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function nc(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var ps=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function sc(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ps(e,t,r)}function Gn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $i(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function ic(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($i(arguments[e]));return t}function oc(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function ac(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Rr(t){return this instanceof Rr?(this.v=t,this):new Rr(t)}function lc(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(f){return function(m){return Promise.resolve(m).then(f,h)}}function a(f,m){n[f]&&(s[f]=function(y){return new Promise(function(w,b){i.push([f,y,w,b])>1||l(f,y)})},m&&(s[f]=m(s[f])))}function l(f,m){try{c(n[f](m))}catch(y){d(i[0][3],y)}}function c(f){f.value instanceof Rr?Promise.resolve(f.value.v).then(u,h):d(i[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,m){f(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function cc(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Rr(t[s](o)),done:!1}:i?i(o):o}:i}}function uc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Gn=="function"?Gn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function hc(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Lf=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},si=function(t){return si=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},si(t)};function dc(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=si(t),n=0;n<r.length;n++)r[n]!=="default"&&ps(e,t,r[n]);return Lf(e,t),e}function fc(t){return t&&t.__esModule?t:{default:t}}function pc(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function gc(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function mc(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function vc(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Uf=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function yc(t){function e(i){t.error=t.hasError?new Uf(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function _c(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const Ff={__extends:zl,__assign:Kn,__rest:Cr,__decorate:Yl,__param:Ql,__esDecorate:Xl,__runInitializers:Zl,__propKey:ec,__setFunctionName:tc,__metadata:rc,__awaiter:L,__generator:nc,__createBinding:ps,__exportStar:sc,__values:Gn,__read:$i,__spread:ic,__spreadArrays:oc,__spreadArray:ac,__await:Rr,__asyncGenerator:lc,__asyncDelegator:cc,__asyncValues:uc,__makeTemplateObject:hc,__importStar:dc,__importDefault:fc,__classPrivateFieldGet:pc,__classPrivateFieldSet:gc,__classPrivateFieldIn:mc,__addDisposableResource:vc,__disposeResources:yc,__rewriteRelativeImportExtension:_c},Mf=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:vc,get __assign(){return Kn},__asyncDelegator:cc,__asyncGenerator:lc,__asyncValues:uc,__await:Rr,__awaiter:L,__classPrivateFieldGet:pc,__classPrivateFieldIn:mc,__classPrivateFieldSet:gc,__createBinding:ps,__decorate:Yl,__disposeResources:yc,__esDecorate:Xl,__exportStar:sc,__extends:zl,__generator:nc,__importDefault:fc,__importStar:dc,__makeTemplateObject:hc,__metadata:rc,__param:Ql,__propKey:ec,__read:$i,__rest:Cr,__rewriteRelativeImportExtension:_c,__runInitializers:Zl,__setFunctionName:tc,__spread:ic,__spreadArray:ac,__spreadArrays:oc,__values:Gn,default:Ff},Symbol.toStringTag,{value:"Module"})),Bf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vt(async()=>{const{default:n}=await Promise.resolve().then(()=>ir);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Li extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Ko extends Li{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Go extends Li{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Jo extends Li{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ii;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ii||(ii={}));class Vf{constructor(e,{headers:r={},customFetch:n,region:s=ii.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Bf(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return L(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:a,signal:l}=n;let c={},{region:u}=n;u||(u=this.region);const h=new URL(`${this.url}/${r}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(c["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(c["Content-Type"]="application/json",d=JSON.stringify(a)):d=a;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:d,signal:l}).catch(b=>{throw b.name==="AbortError"?b:new Ko(b)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Go(f);if(!f.ok)throw new Jo(f);let y=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield f.json():y==="application/octet-stream"||y==="application/pdf"?w=yield f.blob():y==="text/event-stream"?w=f:y==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Ko(i)}:{data:null,error:i,response:i instanceof Jo||i instanceof Go?i.context:void 0}}})}}function qf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wc(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Te={};const xr=wc(Mf);var vn={},yn={},_n={},wn={},bn={},Hf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ir=Hf();const Wf=Ir.fetch,bc=Ir.fetch.bind(Ir),Sc=Ir.Headers,Kf=Ir.Request,Gf=Ir.Response,ir=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sc,Request:Kf,Response:Gf,default:bc,fetch:Wf},Symbol.toStringTag,{value:"Module"})),Jf=wc(ir);var Sn={},zo;function Ec(){if(zo)return Sn;zo=1,Object.defineProperty(Sn,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Sn.default=t,Sn}var Yo;function Oc(){if(Yo)return bn;Yo=1,Object.defineProperty(bn,"__esModule",{value:!0});const t=xr,e=t.__importDefault(Jf),r=t.__importDefault(Ec());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,d,f;let m=null,y=null,w=null,b=c.status,_=c.statusText;if(c.ok){if(this.method!=="HEAD"){const q=await c.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=q:y=JSON.parse(q))}const E=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),N=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");E&&N&&N.length>1&&(w=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,b=406,_="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const E=await c.text();try{m=JSON.parse(E),Array.isArray(m)&&c.status===404&&(y=[],m=null,b=200,_="OK")}catch{c.status===404&&E===""?(b=204,_="No Content"):m={message:E}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,b=200,_="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:y,count:w,status:b,statusText:_}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,d;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=c==null?void 0:c.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return bn.default=n,bn}var Qo;function kc(){if(Qo)return wn;Qo=1,Object.defineProperty(wn,"__esModule",{value:!0});const e=xr.__importDefault(Oc());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return wn.default=r,wn}var Xo;function Ui(){if(Xo)return _n;Xo=1,Object.defineProperty(_n,"__esModule",{value:!0});const e=xr.__importDefault(kc());class r extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return _n.default=r,_n}var Zo;function Tc(){if(Zo)return yn;Zo=1,Object.defineProperty(yn,"__esModule",{value:!0});const e=xr.__importDefault(Ui());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return yn.default=r,yn}var ea;function zf(){if(ea)return vn;ea=1,Object.defineProperty(vn,"__esModule",{value:!0});const t=xr,e=t.__importDefault(Tc()),r=t.__importDefault(Ui());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const d=new URL(`${this.url}/rpc/${i}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{d.searchParams.append(y,w)})):(h="POST",f=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new r.default({method:h,url:d,headers:m,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return vn.default=n,vn}var ta;function Yf(){if(ta)return Te;ta=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const t=xr,e=t.__importDefault(zf());Te.PostgrestClient=e.default;const r=t.__importDefault(Tc());Te.PostgrestQueryBuilder=r.default;const n=t.__importDefault(Ui());Te.PostgrestFilterBuilder=n.default;const s=t.__importDefault(kc());Te.PostgrestTransformBuilder=s.default;const i=t.__importDefault(Oc());Te.PostgrestBuilder=i.default;const o=t.__importDefault(Ec());return Te.PostgrestError=o.default,Te.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},Te}var Qf=Yf();const Xf=qf(Qf),{PostgrestClient:Zf,PostgrestQueryBuilder:Wv,PostgrestFilterBuilder:Kv,PostgrestTransformBuilder:Gv,PostgrestBuilder:Jv,PostgrestError:zv}=Xf;class ep{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const tp="2.76.1",rp=`realtime-js/${tp}`,np="1.0.0",oi=1e4,sp=1e3,ip=100;var zr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zr||(zr={}));var Se;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Se||(Se={}));var Ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ze||(Ze={}));var ai;(function(t){t.websocket="websocket"})(ai||(ai={}));var Xt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xt||(Xt={}));class op{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Ac{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ue||(ue={}));const ra=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=ap(o,t,e,s),i),{}):{}},ap=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Pc(i,o):li(o)},Pc=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return hp(e,r)}switch(t){case ue.bool:return lp(e);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return cp(e);case ue.json:case ue.jsonb:return up(e);case ue.timestamp:return dp(e);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return li(e);default:return li(e)}},li=t=>t,lp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},cp=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},up=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},hp=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Pc(e,a))}return t},dp=t=>typeof t=="string"?t.replace(" ","T"):t,Rc=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Is{constructor(e,r,n={},s=oi){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var na;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(na||(na={}));class Yr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Yr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Yr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const d=u.map(w=>w.presence_ref),f=h.map(w=>w.presence_ref),m=u.filter(w=>f.indexOf(w.presence_ref)<0),y=h.filter(w=>d.indexOf(w.presence_ref)<0);m.length>0&&(a[c]=m),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sa;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(sa||(sa={}));var Qr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Qr||(Qr={}));var bt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(bt||(bt={}));class Fi{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Is(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new Ac(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Se.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Yr(this),this.broadcastEndpointURL=Rc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Se.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Qr.PRESENCE]&&this.bindings[Qr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(bt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(bt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){e==null||e(bt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,b=[];for(let _=0;_<w;_++){const S=y[_],{filter:{event:E,schema:N,table:q,filter:x}}=S,M=f&&f[_];if(M&&M.event===E&&M.schema===N&&M.table===q&&M.filter===x)b.push(Object.assign(Object.assign({},S),{id:M.id}));else{this.unsubscribe(),this.state=Se.errored,e==null||e(bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(bt.SUBSCRIBED);return}}).receive("error",f=>{this.state=Se.errored,e==null||e(bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Se.joined&&e===Qr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Se.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Is(this,Ze.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Se.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Is(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ip){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ze;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var m,y,w;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((w=(y=f.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var m,y,w,b,_,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const E=f.id,N=(m=f.filter)===null||m===void 0?void 0:m.event;return E&&((y=r.ids)===null||y===void 0?void 0:y.includes(E))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const E=(_=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return E==="*"||E===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:y,table:w,commit_timestamp:b,type:_,errors:S}=m;d=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:b,eventType:_,new:{},old:{},errors:S}),this._getPayloadRecords(m))}f.callback(d,n)})}_isClosed(){return this.state===Se.closed}_isJoined(){return this.state===Se.joined}_isJoining(){return this.state===Se.joining}_isLeaving(){return this.state===Se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Fi.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ra(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ra(e.columns,e.old_record)),r}}const Cs=()=>{},En={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fp=[1e3,2e3,5e3,1e4],pp=1e4,gp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mp{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oi,this.transport=null,this.heartbeatIntervalMs=En.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cs,this.ref=0,this.reconnectTimer=null,this.logger=Cs,this.conn=null,this.sendBuffer=[],this.serializer=new op,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Vt(async()=>{const{default:a}=await Promise.resolve().then(()=>ir);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ai.websocket}`,this.httpEndpoint=Rc(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ep.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:np}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return Xt.Connecting;case zr.open:return Xt.Open;case zr.closing:return Xt.Closing;default:return Xt.Closed}}isConnected(){return this.connectionState()===Xt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Fi(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(sp,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},En.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([gp],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:rp};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ac(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},En.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:oi,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:En.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Cs,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:(h=>fp[h-1]||pp),this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:((h,d)=>d(JSON.stringify(h))),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Mi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class vp extends Mi{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ci extends Mi{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Bi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vt(async()=>{const{default:n}=await Promise.resolve().then(()=>ir);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},yp=()=>L(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vt(()=>Promise.resolve().then(()=>ir),void 0)).Response:Response}),ui=t=>{if(Array.isArray(t))return t.map(r=>ui(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ui(n)}),e},_p=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wp=(t,e,r)=>L(void 0,void 0,void 0,function*(){const n=yield yp();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new vp(xs(s),i,o))}).catch(s=>{e(new ci(xs(s),s))}):e(new ci(xs(t),t))}),bp=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(_p(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function fn(t,e,r,n,s,i){return L(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,bp(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>wp(l,a,n))})})}function sn(t,e,r,n){return L(this,void 0,void 0,function*(){return fn(t,"GET",e,r,n)})}function Xe(t,e,r,n,s){return L(this,void 0,void 0,function*(){return fn(t,"POST",e,n,s,r)})}function hi(t,e,r,n,s){return L(this,void 0,void 0,function*(){return fn(t,"PUT",e,n,s,r)})}function Sp(t,e,r,n){return L(this,void 0,void 0,function*(){return fn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Vi(t,e,r,n,s){return L(this,void 0,void 0,function*(){return fn(t,"DELETE",e,n,s,r)})}class Ep{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return L(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}}var Ic;class Op{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Ic]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ep(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return L(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}}Ic=Symbol.toStringTag;const kp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ia={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tp{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Bi(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return L(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ia),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield(e=="PUT"?hi:Xe)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}upload(e,r,n){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return L(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:ia.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield hi(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return L(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Xe(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Mi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}update(e,r,n){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return L(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}copy(e,r,n){return L(this,void 0,void 0,function*(){try{return{data:{path:(yield Xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return L(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Xe(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return L(this,void 0,void 0,function*(){try{const s=yield Xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>sn(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Op(l,this.shouldThrowOnError)}info(e){return L(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield sn(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ui(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}exists(e){return L(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Sp(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n)&&n instanceof ci){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return L(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}list(e,r,n){return L(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},kp),r),{prefix:e||""});return{data:yield Xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}listV2(e,r){return L(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Xe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Cc="2.76.1",xc={"X-Client-Info":`storage-js/${Cc}`};class Ap{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xc),r),this.fetch=Bi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return L(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}getBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}createBucket(e){return L(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return L(this,void 0,void 0,function*(){try{return{data:yield hi(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}}class Pp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xc),r),this.fetch=Bi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}listBuckets(e){return L(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,i=yield sn(this.fetch,s,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}}const qi={"X-Client-Info":`storage-js/${Cc}`,"Content-Type":"application/json"};class jc extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function He(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class js extends jc{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Rp extends jc{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var oa;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(oa||(oa={}));const Hi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vt(async()=>{const{default:n}=await Promise.resolve().then(()=>ir);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Ip=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},aa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cp=(t,e,r)=>L(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new js(aa(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new js(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new js(a,s,o))}}else e(new Rp(aa(t),t))}),xp=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Ip(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function jp(t,e,r,n,s,i){return L(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,xp(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Cp(l,a,n))})})}function We(t,e,r,n,s){return L(this,void 0,void 0,function*(){return jp(t,"POST",e,n,s,r)})}class Dp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qi),r),this.fetch=Hi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return L(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getIndex(e,r){return L(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}listIndexes(e){return L(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return L(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}}class Np{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qi),r),this.fetch=Hi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return L(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield We(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getVectors(e){return L(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listVectors(e){return L(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield We(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}queryVectors(e){return L(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteVectors(e){return L(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield We(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}}class $p{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qi),r),this.fetch=Hi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return L(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBuckets(){return L(this,arguments,void 0,function*(e={}){try{return{data:yield We(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}}class Lp extends $p{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Up(this.url,this.headers,e,this.fetch)}}class Up extends Dp{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return L(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return L(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return L(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return L(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Fp(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Fp extends Np{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return L(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return L(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return L(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return L(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return L(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Mp extends Ap{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Tp(this.url,this.headers,e,this.fetch)}get vectors(){return new Lp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Pp(this.url+"/iceberg",this.headers,this.fetch)}}const Bp="2.76.1";let Ur="";typeof Deno<"u"?Ur="deno":typeof document<"u"?Ur="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ur="react-native":Ur="node";const Vp={"X-Client-Info":`supabase-js-${Ur}/${Bp}`},qp={headers:Vp},Hp={schema:"public"},Wp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kp={},Gp=t=>{let e;return t?e=t:typeof fetch>"u"?e=bc:e=fetch,(...r)=>e(...r)},Jp=()=>typeof Headers>"u"?Sc:Headers,zp=(t,e,r)=>{const n=Gp(r),s=Jp();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))}};function Yp(t){return t.endsWith("/")?t:t+"/"}function Qp(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,d={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function Xp(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Dc="2.76.1",vr=30*1e3,di=3,Ds=di*vr,Zp="http://localhost:9999",eg="supabase.auth.token",tg={"X-Client-Info":`gotrue-js/${Dc}`},fi="X-Supabase-Api-Version",Nc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ng=600*1e3;class on extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function V(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class sg extends on{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ig(t){return V(t)&&t.name==="AuthApiError"}class Zt extends on{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class qt extends on{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class jt extends qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function og(t){return V(t)&&t.name==="AuthSessionMissingError"}class ur extends qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class On extends qt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kn extends qt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ag(t){return V(t)&&t.name==="AuthImplicitGrantRedirectError"}class la extends qt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pi extends qt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ns(t){return V(t)&&t.name==="AuthRetryableFetchError"}class ca extends qt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gi extends qt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ua=` 	
\r=`.split(""),lg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ua.length;e+=1)t[ua[e].charCodeAt(0)]=-2;for(let e=0;e<Jn.length;e+=1)t[Jn[e].charCodeAt(0)]=e;return t})();function ha(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Jn[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Jn[n]),e.queuedBits-=6}}function $c(t,e,r){const n=lg[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function da(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{hg(o,n,r)};for(let o=0;o<t.length;o+=1)$c(t.charCodeAt(o),s,i);return e.join("")}function cg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ug(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}cg(n,e)}}function hg(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function kr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)$c(t.charCodeAt(s),r,n);return new Uint8Array(e)}function dg(t){const e=[];return ug(t,r=>e.push(r)),new Uint8Array(e)}function tr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>ha(s,r,n)),ha(null,r,n),e.join("")}function fg(t){return Math.round(Date.now()/1e3)+t}function pg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ve=()=>typeof window<"u"&&typeof document<"u",Gt={tested:!1,writable:!1},Lc=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function gg(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Uc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vt(async()=>{const{default:n}=await Promise.resolve().then(()=>ir);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},mg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",yr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Jt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ct=async(t,e)=>{await t.removeItem(e)};class gs{constructor(){this.promise=new gs.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}gs.promiseConstructor=Promise;function $s(t){const e=t.split(".");if(e.length!==3)throw new gi("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!rg.test(e[n]))throw new gi("JWT not in base64url format");return{header:JSON.parse(da(e[0])),payload:JSON.parse(da(e[1])),signature:kr(e[2]),raw:{header:e[0],payload:e[1]}}}async function vg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function yg(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function _g(t){return("0"+t.toString(16)).substr(-2)}function wg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,_g).join("")}async function bg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Sg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await bg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hr(t,e,r=!1){const n=wg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await yr(t,`${e}-code-verifier`,s);const i=await Sg(n);return[i,n===i?"plain":"s256"]}const Eg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Og(t){const e=t.headers.get(fi);if(!e||!e.match(Eg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function kg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Tg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ag=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dr(t){if(!Ag.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ls(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fa(t){return JSON.parse(JSON.stringify(t))}const Yt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Pg=[502,503,504];async function pa(t){var e;if(!mg(t))throw new pi(Yt(t),0);if(Pg.includes(t.status))throw new pi(Yt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Zt(Yt(i),i)}let n;const s=Og(t);if(s&&s.getTime()>=Nc["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ca(Yt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new jt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ca(Yt(r),t.status,r.weak_password.reasons);throw new sg(Yt(r),t.status||500,n)}const Rg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function G(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[fi]||(i[fi]=Nc["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Ig(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Ig(t,e,r,n,s,i){const o=Rg(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new pi(Yt(l),0)}if(a.ok||await pa(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await pa(l)}}function Qe(t){var e;let r=null;jg(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=fg(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ga(t){const e=Qe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Lt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Cg(t){return{data:t,error:null}}function xg(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Cr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ma(t){return t}function jg(t){return t.access_token&&t.refresh_token&&t.expires_in}const Us=["global","local","others"];class Dg{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Uc(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Us[0]){if(Us.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Us.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Lt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Cr(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(V(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Lt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ma});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);c[`${w}Page`]=y}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){dr(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Lt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){dr(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Lt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){dr(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Lt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){dr(e.userId);try{const{data:r,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(V(r))return{data:null,error:r};throw r}}async _deleteFactor(e){dr(e.userId),dr(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ma});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);c[`${w}Page`]=y}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}}function va(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const fr={debug:!!(globalThis&&Lc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ng extends Fc{}async function $g(t,e,r){fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ng(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Lg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Mc(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ug(t){return parseInt(t,16)}function Fg(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Mg(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Mc(t.address),m=u?`${u}://${n}`:n,y=t.statement?`${t.statement}
`:"",w=`${m} wants you to sign in with your Ethereum account:
${f}

${y}`;let b=`URI: ${h}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let _=`
Resources:`;for(const S of c){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);_+=`
- ${S}`}b+=_}return`${w}
${b}`}class _e extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class zn extends _e{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Bg({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new _e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new _e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new _e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new _e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Bc(o)){if(i.rp.id!==o)return new _e({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new _e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new _e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Vg({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new _e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Bc(n)){if(r.rpId!==n)return new _e({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new _e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class qg{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Hg=new qg;function Wg(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Cr(t,["challenge","user","excludeCredentials"]),i=kr(e).buffer,o=Object.assign(Object.assign({},r),{id:kr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:kr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Kg(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Cr(t,["challenge","allowCredentials"]),s=kr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:kr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Gg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:tr(new Uint8Array(t.response.attestationObject)),clientDataJSON:tr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:tr(new Uint8Array(s.authenticatorData)),clientDataJSON:tr(new Uint8Array(s.clientDataJSON)),signature:tr(new Uint8Array(s.signature)),userHandle:s.userHandle?tr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Bc(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ya(){var t,e;return!!(Ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function zg(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zn("Browser returned unexpected credential type",e)}:{data:null,error:new zn("Empty credential response",e)}}catch(e){return{data:null,error:Bg({error:e,options:t})}}}async function Yg(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zn("Browser returned unexpected credential type",e)}:{data:null,error:new zn("Empty credential response",e)}}catch(e){return{data:null,error:Vg({error:e,options:t})}}}const Qg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Xg={userVerification:"preferred",hints:["security-key"]};function Yn(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Yn(a,o):n[i]=Yn(o)}else n[i]=o}return n}function Zg(t,e){return Yn(Qg,t,e||{})}function em(t,e){return Yn(Xg,t,e||{})}class tm{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??Hg.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Zg(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await zg({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=em(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await Yg(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return V(o)?{data:null,error:o}:{data:null,error:new Zt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new on("rpId is required for WebAuthn authentication")};try{if(!ya())return{data:null,error:new Zt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return V(o)?{data:null,error:o}:{data:null,error:new Zt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new on("rpId is required for WebAuthn registration")};try{if(!ya())return{data:null,error:new Zt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return V(o)?{data:null,error:o}:{data:null,error:new Zt("Unexpected error in register",o)}}}}Lg();const rm={url:Zp,storageKey:eg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _a(t,e,r){return await r()}const pr={};class an{get jwks(){var e,r;return(r=(e=pr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){pr[this.storageKey]=Object.assign(Object.assign({},pr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=pr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){pr[this.storageKey]=Object.assign(Object.assign({},pr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=an.nextInstanceID,an.nextInstanceID+=1,this.instanceID>0&&Ve()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},rm),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Dg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Uc(s.fetch),this.lock=s.lock||_a,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ve()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=$g:this.lock=_a,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tm(this)},this.persistSession?(s.storage?this.storage=s.storage:Lc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=va(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=va(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Dc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=gg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ve()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ag(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return V(r)?{error:r}:{error:new Zt("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qe}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await hr(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:m},xform:Qe})}else if("phone"in e){const{phone:u,password:h,options:d}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Qe})}else throw new On("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ga})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ga})}else throw new On("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ur}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,c,u,h,d;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:y,wallet:w,statement:b,options:_}=e;let S;if(Ve())if(typeof w=="object")S=w;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")S=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const E=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href),N=await S.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=Mc(N[0]);let x=(n=_==null?void 0:_.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!x){const U=await S.request({method:"eth_chainId"});x=Ug(U)}const M={domain:E.host,address:q,statement:b,uri:E.href,version:"1",chainId:x,nonce:(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=_==null?void 0:_.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Mg(M),m=await S.request({method:"personal_sign",params:[Fg(f),q]})}try{const{data:y,error:w}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Qe});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ur}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(V(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var r,n,s,i,o,a,l,c,u,h,d,f;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:w,wallet:b,statement:_,options:S}=e;let E;if(Ve())if(typeof b=="object")E=b;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))E=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=b}const N=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const q=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),_?{statement:_}:null));let x;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")x=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)x=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)m=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),y=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${N.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(u=S==null?void 0:S.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const q=await E.signMessage(new TextEncoder().encode(m),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=q}}try{const{data:w,error:b}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:tr(y)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Qe});if(b)throw b;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new ur}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:b})}catch(w){if(V(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await Jt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Qe});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ur}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(V(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qe}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ur}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await hr(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new On("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await hr(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Cg})}catch(i){if(V(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new jt;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new On("You must provide either an email or phone number and a type")}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Jt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ds:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Jt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ls()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Lt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Lt})})}catch(r){if(V(r))return og(r)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new jt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await hr(this.storage,this.storageKey));const{data:c,error:u}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Lt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=$s(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(V(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new jt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ve())throw new kn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new la("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new la("No code detected.");const{data:_,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new kn("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=d-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,u);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(V(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Jt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ig(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=pg(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await hr(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(V(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ve()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(V(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qe}),{data:d,error:f}=h;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new ur}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:f})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yg(async s=>(s>0&&await vg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qe})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ns(i)&&Date.now()+o-n<vr})}catch(n){if(this._debug(r,"error",n),V(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ve()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Jt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Jt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await yr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ls()}else if(s&&!s.user&&!s.user){const o=await Jt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ct(this.storage,this.storageKey+"-user"),await yr(this.storage,this.storageKey,s)):s.user=Ls()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ds;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ds}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ns(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new gs;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),V(i)){const o={data:null,error:i};return Ns(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await yr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=fa(s);await yr(this.storage,this.storageKey,i)}else{const s=fa(r);await yr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vr}ms, refresh threshold is ${di} ticks`),s<=di&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await hr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Gg(e.webauthn.credential_response):Jg(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(V(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Wg(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Kg(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(V(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$s(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+ng>s)return n;const{data:i,error:o}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};n=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=$s(n);r!=null&&r.allowExpired||kg(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const u=Tg(s.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,dg(`${a}.${l}`)))throw new gi("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}an.nextInstanceID=0;const nm=an;class sm extends nm{constructor(e){super(e)}}class im{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Xp(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Hp,realtime:Kp,auth:Object.assign(Object.assign({},Wp),{storageKey:l}),global:qp},u=Qp(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=zp(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Zf(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Mp(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Vf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sm({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new mp(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const om=(t,e,r)=>new im(t,e,r);function am(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}am()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lm="https://godeglzovkxzhwxyxbdd.supabase.co",cm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdvZGVnbHpvdmt4emh3eHl4YmRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNDE2ODAsImV4cCI6MjA3NjYxNzY4MH0.VJ8rpKqRkWyL6DYiViV6_MLdyhkWweUPcSHcPuvmVXg",De=om(lm,cm),ln=hs("auth",()=>{const t=ge(null),e=ge(null),r=ge(!1),n=oe(()=>!!t.value),s=oe(()=>{var h;return((h=e.value)==null?void 0:h.role)==="admin"}),i=oe(()=>{var h;return((h=e.value)==null?void 0:h.role)||"public"});async function o(){if(!t.value){e.value=null;return}try{const{data:h,error:d}=await De.from("profiles").select("*").eq("id",t.value.id).single();if(d)throw d;e.value=h}catch(h){console.error("Error loading profile:",h),e.value=null}}async function a(h,d,f){r.value=!0;try{const{data:m,error:y}=await De.auth.signUp({email:h,password:d,options:{data:{full_name:f}}});if(y)throw y;return t.value=m.user,await o(),m}catch(m){throw console.error("Signup error:",m),m}finally{r.value=!1}}async function l(h,d){r.value=!0;try{const{data:f,error:m}=await De.auth.signInWithPassword({email:h,password:d});if(m)throw m;return t.value=f.user,await o(),f}catch(f){throw console.error("Login error:",f),f}finally{r.value=!1}}async function c(){r.value=!0;try{const{error:h}=await De.auth.signOut();if(h)throw h;t.value=null,e.value=null}catch(h){throw console.error("Logout error:",h),h}finally{r.value=!1}}async function u(){r.value=!0;try{const{data:{user:h}}=await De.auth.getUser();t.value=h,h&&await o()}catch(h){console.error("Auth check error:",h),t.value=null,e.value=null}finally{r.value=!1}}return De.auth.onAuthStateChange(async(h,d)=>{t.value=(d==null?void 0:d.user)||null,d!=null&&d.user?await o():e.value=null}),{user:t,profile:e,loading:r,isAuthenticated:n,isAdmin:s,userRole:i,signup:a,login:l,logout:c,checkAuth:u}}),um=hs("ui",()=>{const t=ge(""),e=ge(1),r=ge(15),n=ge([]),s=oe(()=>{if(!t.value.trim())return n.value;const w=t.value.toLowerCase().trim();return n.value.filter(b=>{var E,N;const _=((E=b.title)==null?void 0:E.toLowerCase())||"",S=((N=b.content)==null?void 0:N.toLowerCase())||"";return _.includes(w)||S.includes(w)})}),i=oe(()=>Math.ceil(s.value.length/r.value)),o=oe(()=>{const w=(e.value-1)*r.value,b=w+r.value;return s.value.slice(w,b)}),a=oe(()=>{if(s.value.length===0)return{start:0,end:0,total:0};const w=(e.value-1)*r.value+1,b=Math.min(w+r.value-1,s.value.length);return{start:w,end:b,total:s.value.length}});function l(w){t.value=w,e.value=1}function c(){t.value="",e.value=1}function u(w){w>=1&&w<=i.value&&(e.value=w)}function h(){e.value<i.value&&e.value++}function d(){e.value>1&&e.value--}function f(w){r.value=w,e.value=1}function m(w){n.value=w,e.value=1}function y(){e.value=1}return{searchQuery:t,currentPage:e,itemsPerPage:r,allItems:n,filteredItems:s,totalPages:i,paginatedItems:o,currentItemRange:a,setSearch:l,clearSearch:c,setPage:u,nextPage:h,previousPage:d,setItemsPerPage:f,setAllItems:m,resetPagination:y}});async function hm(){try{const{data:t,error:e}=await De.from("feeds").select("*").order("display_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){throw console.error("Error fetching feeds:",t),t}}async function dm(t){try{const{data:e,error:r}=await De.from("feeds").insert([t]).select().single();if(r)throw r;return e}catch(e){throw console.error("Error creating feed:",e),e}}async function Vc(t,e){try{const{data:r,error:n}=await De.from("feeds").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating feed:",r),r}}async function fm(t){try{const{error:e}=await De.from("feeds").delete().eq("id",t);if(e)throw e}catch(e){throw console.error("Error deleting feed:",e),e}}async function pm(t,e){try{return await Vc(t,{enabled:e})}catch(r){throw console.error("Error toggling feed status:",r),r}}const qc=hs("feeds",()=>{const t=ge([]),e=ge("all"),r=ge(!1),n=ge(null),s=ge([]),i=oe(()=>t.value.filter(b=>b.enabled)),o=oe(()=>t.value.filter(b=>b.type==="scraped")),a=oe(()=>t.value.filter(b=>b.type==="native_rss")),l=oe(()=>b=>t.value.find(_=>_.id===b));async function c(){r.value=!0,n.value=null;try{const b=await hm();return t.value=b,b}catch(b){throw n.value=b.message,console.error("Error loading feeds:",b),b}finally{r.value=!1}}async function u(b){r.value=!0,n.value=null;try{const _=await dm(b);return t.value.push(_),_}catch(_){throw n.value=_.message,console.error("Error adding feed:",_),_}finally{r.value=!1}}async function h(b,_){r.value=!0,n.value=null;try{const S=await Vc(b,_),E=t.value.findIndex(N=>N.id===b);return E!==-1&&(t.value[E]=S),S}catch(S){throw n.value=S.message,console.error("Error updating feed:",S),S}finally{r.value=!1}}async function d(b){r.value=!0,n.value=null;try{await fm(b),t.value=t.value.filter(_=>_.id!==b)}catch(_){throw n.value=_.message,console.error("Error deleting feed:",_),_}finally{r.value=!1}}async function f(b,_){r.value=!0,n.value=null;try{const S=await pm(b,_),E=t.value.findIndex(N=>N.id===b);return E!==-1&&(t.value[E]=S),S}catch(S){throw n.value=S.message,console.error("Error toggling feed:",S),S}finally{r.value=!1}}function m(b){e.value=b}function y(b){s.value=b}const w=oe(()=>e.value==="all"?s.value:s.value.filter(b=>b.feedId===e.value));return{feeds:t,currentFeed:e,loading:r,error:n,feedItems:s,enabledFeeds:i,scrapedFeeds:o,nativeFeeds:a,feedById:l,currentFeedItems:w,loadFeeds:c,addFeed:u,updateFeed:h,deleteFeed:d,toggleFeed:f,setCurrentFeed:m,setFeedItems:y}});async function gm(t){const{data:e,error:r}=await De.from("user_feed_preferences").select("*").eq("user_id",t);if(r)throw r;return e||[]}async function mm(t,e,r){const{data:n}=await De.from("user_feed_preferences").select("id").eq("user_id",t).eq("feed_id",e).single();if(n){const{data:s,error:i}=await De.from("user_feed_preferences").update({enabled:r,updated_at:new Date().toISOString()}).eq("id",n.id).select().single();if(i)throw i;return s}else{const{data:s,error:i}=await De.from("user_feed_preferences").insert({user_id:t,feed_id:e,enabled:r}).select().single();if(i)throw i;return s}}async function vm(t,e){const r=e.map(i=>({user_id:t,feed_id:i,enabled:!0})),{data:n,error:s}=await De.from("user_feed_preferences").insert(r).select();if(s)throw s;return n}const ym=hs("userPreferences",()=>{const t=ge([]),e=ge(!1),r=ge(null),n=oe(()=>t.value.filter(l=>l.enabled).map(l=>l.feed_id));async function s(){const l=ln();if(!l.user){t.value=[];return}e.value=!0,r.value=null;try{const c=await gm(l.user.id);if(c.length===0){const u=qc();await u.loadFeeds();const h=u.feeds.map(f=>f.id),d=await vm(l.user.id,h);t.value=d}else t.value=c}catch(c){throw r.value=c.message,console.error("Error loading preferences:",c),c}finally{e.value=!1}}async function i(l,c){const u=ln();if(u.user){e.value=!0,r.value=null;try{const h=await mm(u.user.id,l,c),d=t.value.findIndex(f=>f.feed_id===l);d!==-1?t.value[d]=h:t.value.push(h)}catch(h){throw r.value=h.message,console.error("Error toggling feed:",h),h}finally{e.value=!1}}}function o(l){const c=t.value.find(u=>u.feed_id===l);return c?c.enabled:!0}function a(){t.value=[]}return{preferences:t,loading:e,error:r,enabledFeedIds:n,loadPreferences:s,toggleFeed:i,isFeedEnabled:o,clearPreferences:a}});function wa(t){const r=new DOMParser().parseFromString(t,"text/xml"),n=r.querySelector("parsererror");if(n)throw new Error("XML parsing error: "+n.textContent);const s=r.querySelector("feed")!==null,i=_m(r,s);return{isAtom:s,items:i,totalItems:i.length}}function _m(t,e){const r=e?t.querySelectorAll("entry"):t.querySelectorAll("item");return Array.from(r).map(n=>wm(n,e))}function wm(t,e){var r,n,s,i,o,a;if(e){const l=t.querySelector("link"),c=(l==null?void 0:l.getAttribute("href"))||"",u=t.querySelector("content"),h=t.querySelector("summary"),d=t.getElementsByTagName("media:description")[0],f=(u==null?void 0:u.textContent)||(h==null?void 0:h.textContent)||(d==null?void 0:d.textContent)||"",m=t.getElementsByTagName("media:thumbnail")[0],y=(m==null?void 0:m.getAttribute("url"))||"",w=t.getElementsByTagName("media:group")[0],b=w==null?void 0:w.getElementsByTagName("media:community")[0],_=b==null?void 0:b.getElementsByTagName("media:statistics")[0],S=(_==null?void 0:_.getAttribute("views"))||"";return{title:((r=t.querySelector("title"))==null?void 0:r.textContent)||"Untitled",link:c,content:f,pubDate:((n=t.querySelector("published, updated"))==null?void 0:n.textContent)||"",source:ba(c),thumbnailUrl:y,views:S}}else{const l=((s=t.querySelector("link"))==null?void 0:s.textContent)||"";return{title:((i=t.querySelector("title"))==null?void 0:i.textContent)||"Untitled",link:l,content:((o=t.querySelector("description, content\\:encoded"))==null?void 0:o.textContent)||"",pubDate:((a=t.querySelector("pubDate"))==null?void 0:a.textContent)||"",source:ba(l)}}}function ba(t){if(!t)return"unknown";const e=t.toLowerCase();return e.includes("youtube.com")||e.includes("youtu.be")?"youtube":e.includes("wikipedia.org")?"wikipedia":e.includes("wikivoyage.org")?"wikivoyage":e.includes("news.ycombinator.com")?"hackernews":e.includes("medium.com")?"medium":"other"}const bm="https://www.youtube.com/feeds/videos.xml?channel_id=UCc8q4B1bj-668LMHyNXnTxQ",Tn=["https://corsproxy.io/?","https://api.allorigins.win/raw?url=","https://cors-anywhere.herokuapp.com/"],mi="youtube_feed_cache",Sm=300*1e3;function Em(){try{const t=localStorage.getItem(mi);if(!t)return null;const{data:e,timestamp:r}=JSON.parse(t);return Date.now()-r<Sm?(console.log("Using cached YouTube feed"),e):(localStorage.removeItem(mi),null)}catch{return null}}function Om(t){try{localStorage.setItem(mi,JSON.stringify({data:t,timestamp:Date.now()}))}catch(e){console.warn("Failed to cache YouTube feed:",e)}}function km(){const t=ge(!1),e=ge(null);async function r(n=!1){t.value=!0,e.value=null;try{if(!n){const s=Em();if(s)return t.value=!1,s}for(let s=0;s<Tn.length;s++)try{console.log(`Trying proxy ${s+1}/${Tn.length}`);const i=Tn[s]+encodeURIComponent(bm),o=await fetch(i,{cache:n?"reload":"default",signal:AbortSignal.timeout(1e4)});if(o.ok){const a=await o.text();return Om(a),t.value=!1,a}}catch(i){if(console.warn(`Proxy ${s+1} failed:`,i.message),s===Tn.length-1)throw new Error("All proxies failed")}throw new Error("All proxies failed")}catch(s){throw e.value=s.message,t.value=!1,s}}return{loading:t,error:e,fetchYouTubeFeed:r}}const Tm={name:"Header",setup(){const t=ln(),e=Jl();async function r(){try{await t.logout(),e.push("/")}catch(i){console.error("Logout error:",i)}}function n(){e.push("/admin")}function s(){e.push("/admin")}return{authStore:t,handleLogout:r,handleLogin:n,handleSignup:s}}},Am={class:"container"},Pm={class:"header-content"},Rm={class:"header-nav"},Im={key:0,class:"user-menu"},Cm={class:"user-email"},xm={key:1,class:"auth-actions"};function jm(t,e,r,n,s,i){const o=et("router-link");return ee(),de("header",null,[z("div",Am,[z("div",Pm,[z("div",{class:"header-title",onClick:e[0]||(e[0]=a=>t.$router.push("/"))},[...e[4]||(e[4]=[z("h1",null,"RSS",-1),z("p",{class:"subtitle"},"Real Simple Syndication",-1)])]),z("nav",Rm,[n.authStore.isAuthenticated?(ee(),de("div",Im,[z("span",Cm,Fe(n.authStore.user.email),1),ve(o,{to:"/preferences",class:"nav-link"},{default:qs(()=>[...e[5]||(e[5]=[Js("Preferences",-1)])]),_:1}),n.authStore.isAdmin?(ee(),Er(o,{key:0,to:"/admin",class:"nav-link admin"},{default:qs(()=>[...e[6]||(e[6]=[Js("Admin",-1)])]),_:1})):tt("",!0),z("button",{class:"logout-btn",onClick:e[1]||(e[1]=(...a)=>n.handleLogout&&n.handleLogout(...a))},"Logout")])):(ee(),de("div",xm,[z("button",{class:"login-btn",onClick:e[2]||(e[2]=(...a)=>n.handleLogin&&n.handleLogin(...a))},"Login"),z("button",{class:"signup-btn",onClick:e[3]||(e[3]=(...a)=>n.handleSignup&&n.handleSignup(...a))},"Sign Up")]))])])])])}const Dm=it(Tm,[["render",jm],["__scopeId","data-v-ecda208a"]]),Nm={name:"Footer"};function $m(t,e,r,n,s,i){return ee(),de("footer",null,[...e[0]||(e[0]=[z("p",null,"Automated RSS Feed Aggregator  Updates twice daily",-1)])])}const Lm=it(Nm,[["render",$m],["__scopeId","data-v-63e4900c"]]),Um={name:"FeedSelector",props:{currentFeed:{type:String,default:"all"},feedOptions:{type:Array,required:!0},isUpdating:{type:Boolean,default:!1}},emits:["feed-change","update"],methods:{selectFeed(t){this.$emit("feed-change",t)},handleMobileChange(t){this.$emit("feed-change",t.target.value)},handleUpdate(){this.$emit("update")}}},Fm={class:"controls"},Mm={class:"feed-selector"},Bm=["onClick"],Vm=["value"],qm=["value"],Hm=["disabled"];function Wm(t,e,r,n,s,i){return ee(),de("div",Fm,[z("div",Mm,[(ee(!0),de(qe,null,Fn(r.feedOptions,o=>(ee(),de("button",{key:o.id,class:Ot(["feed-button",{active:r.currentFeed===o.id}]),onClick:a=>i.selectFeed(o.id)},Fe(o.name),11,Bm))),128))]),z("select",{class:"feed-selector-mobile",value:r.currentFeed,onChange:e[0]||(e[0]=(...o)=>i.handleMobileChange&&i.handleMobileChange(...o))},[(ee(!0),de(qe,null,Fn(r.feedOptions,o=>(ee(),de("option",{key:o.id,value:o.id},Fe(o.name),9,qm))),128))],40,Vm),z("button",{class:Ot(["update-button",{updating:r.isUpdating}]),disabled:r.isUpdating,onClick:e[1]||(e[1]=(...o)=>i.handleUpdate&&i.handleUpdate(...o))},"  Update ",10,Hm)])}const Km=it(Um,[["render",Wm],["__scopeId","data-v-6035fce2"]]),Gm={name:"SearchBar",props:{searchQuery:{type:String,default:""},totalItems:{type:Number,default:0}},emits:["search","clear"],methods:{handleInput(t){this.$emit("search",t.target.value)},handleClear(){this.$emit("clear")}}},Jm={class:"search-container"},zm={class:"search-box"},Ym=["value"],Qm={class:"stats-inline"},Xm={class:"stat-number"};function Zm(t,e,r,n,s,i){return ee(),de("div",Jm,[z("div",zm,[z("input",{type:"text",class:"search-input",placeholder:"Search feeds...",value:r.searchQuery,onInput:e[0]||(e[0]=(...o)=>i.handleInput&&i.handleInput(...o))},null,40,Ym),z("button",{class:Ot(["clear-search",{visible:r.searchQuery}]),onClick:e[1]||(e[1]=(...o)=>i.handleClear&&i.handleClear(...o))},"  ",2)]),z("div",Qm,[z("span",Xm,Fe(r.totalItems),1),e[2]||(e[2]=z("span",null,"items",-1))])])}const ev=it(Gm,[["render",Zm],["__scopeId","data-v-fe7bbd4b"]]),tv={name:"FeedItem",props:{item:{type:Object,required:!0},isVideo:{type:Boolean,default:!1}},methods:{truncateText(t,e=200){if(!t)return"";const r=t.replace(/<[^>]*>/g,"");return r.length<=e?r:r.substring(0,e).trim()+"..."},formatDate(t){if(!t)return"";try{return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return t}},formatNumber(t){return t?new Intl.NumberFormat().format(t):"0"}}},rv=["href"],nv=["src","alt"],sv={class:"feed-source"},iv=["href"],ov={key:0,class:"video-indicator"},av={key:0,class:"feed-date"},lv={key:1,class:"feed-content"},cv={key:2,class:"video-stats"},uv={class:"video-stat"},hv={class:"video-stat-value"};function dv(t,e,r,n,s,i){return ee(),de("div",{class:Ot(["feed-item",{video:r.isVideo}])},[r.isVideo&&r.item.thumbnailUrl?(ee(),de("a",{key:0,href:r.item.link,target:"_blank",rel:"noopener noreferrer"},[z("img",{src:r.item.thumbnailUrl,alt:r.item.title,class:"video-thumbnail"},null,8,nv)],8,rv)):tt("",!0),z("div",{class:Ot({"video-content":r.isVideo})},[z("span",sv,Fe(r.item.source||"unknown"),1),z("h3",null,[z("a",{href:r.item.link,target:"_blank",rel:"noopener noreferrer"},Fe(r.item.title),9,iv),r.isVideo?(ee(),de("span",ov," Video")):tt("",!0)]),r.item.pubDate?(ee(),de("div",av,Fe(i.formatDate(r.item.pubDate)),1)):tt("",!0),r.item.content?(ee(),de("div",lv,Fe(i.truncateText(r.item.content,200)),1)):tt("",!0),r.isVideo&&r.item.views?(ee(),de("div",cv,[z("div",uv,[e[0]||(e[0]=z("span",null," Views:",-1)),z("span",hv,Fe(i.formatNumber(r.item.views)),1)])])):tt("",!0)],2)],2)}const fv=it(tv,[["render",dv],["__scopeId","data-v-0465060d"]]),pv={name:"Pagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},maxPagesToShow:{type:Number,default:5}},emits:["page-change"],computed:{visiblePages(){const t=this.maxPagesToShow;let e=Math.max(1,this.currentPage-Math.floor(t/2)),r=Math.min(this.totalPages,e+t-1);r-e<t-1&&(e=Math.max(1,r-t+1));const n=[];for(let s=e;s<=r;s++)n.push(s);return n}},methods:{changePage(t){t>=1&&t<=this.totalPages&&this.$emit("page-change",t)}}},gv={key:0,class:"pagination"},mv=["disabled"],vv=["onClick"],yv=["disabled"],_v={class:"pagination-info"};function wv(t,e,r,n,s,i){return r.totalPages>1?(ee(),de("div",gv,[z("button",{class:"pagination-button",disabled:r.currentPage===1,onClick:e[0]||(e[0]=o=>i.changePage(r.currentPage-1))},"  Prev ",8,mv),(ee(!0),de(qe,null,Fn(i.visiblePages,o=>(ee(),de("button",{key:o,class:Ot(["pagination-button",{active:o===r.currentPage}]),onClick:a=>i.changePage(o)},Fe(o),11,vv))),128)),z("button",{class:"pagination-button",disabled:r.currentPage===r.totalPages,onClick:e[1]||(e[1]=o=>i.changePage(r.currentPage+1))}," Next  ",8,yv),z("span",_v," Page "+Fe(r.currentPage)+" of "+Fe(r.totalPages),1)])):tt("",!0)}const bv=it(pv,[["render",wv],["__scopeId","data-v-023f544e"]]),Sv={name:"Loading",props:{message:{type:String,default:"Loading..."}}},Ev={class:"loading"};function Ov(t,e,r,n,s,i){return ee(),de("div",Ev,[e[0]||(e[0]=z("div",{class:"spinner"},null,-1)),z("p",null,Fe(r.message),1)])}const kv=it(Sv,[["render",Ov],["__scopeId","data-v-a4463c4b"]]),Tv={name:"FeedList",components:{FeedItem:fv,Pagination:bv,Loading:kv},props:{items:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},loadingMessage:{type:String,default:"Loading..."},currentPage:{type:Number,default:1},totalPages:{type:Number,default:1}},emits:["page-change"]},Av={class:"feed-items"},Pv={key:0,class:"empty-state"};function Rv(t,e,r,n,s,i){const o=et("FeedItem"),a=et("Loading"),l=et("Pagination");return ee(),de("div",null,[z("div",Av,[(ee(!0),de(qe,null,Fn(r.items,(c,u)=>(ee(),Er(o,{key:`${c.link}-${u}`,item:c,"is-video":c.source==="youtube"},null,8,["item","is-video"]))),128))]),r.items.length===0&&!r.loading?(ee(),de("div",Pv,[...e[1]||(e[1]=[z("p",null,"No items found",-1)])])):tt("",!0),r.loading?(ee(),Er(a,{key:1,message:r.loadingMessage},null,8,["message"])):tt("",!0),!r.loading&&r.totalPages>1?(ee(),Er(l,{key:2,"current-page":r.currentPage,"total-pages":r.totalPages,onPageChange:e[0]||(e[0]=c=>t.$emit("page-change",c))},null,8,["current-page","total-pages"])):tt("",!0)])}const Iv=it(Tv,[["render",Rv],["__scopeId","data-v-1b62c5ef"]]),Cv={name:"SignupTeaser",emits:["signup","login"],methods:{handleSignup(){this.$emit("signup")},handleLogin(){this.$emit("login")}}},xv={class:"signup-teaser"},jv={class:"teaser-content"};function Dv(t,e,r,n,s,i){return ee(),de("div",xv,[e[3]||(e[3]=z("div",{class:"teaser-overlay"},null,-1)),z("div",jv,[e[2]||(e[2]=xh('<div class="teaser-icon" data-v-8a2b9aa7></div><h2 data-v-8a2b9aa7>Want to see more?</h2><p data-v-8a2b9aa7>Sign up for free to access all feeds and customize your reading experience</p><div class="teaser-features" data-v-8a2b9aa7><div class="feature" data-v-8a2b9aa7><span class="check" data-v-8a2b9aa7></span><span data-v-8a2b9aa7>Access to all RSS feeds</span></div><div class="feature" data-v-8a2b9aa7><span class="check" data-v-8a2b9aa7></span><span data-v-8a2b9aa7>Personalize your feed selection</span></div><div class="feature" data-v-8a2b9aa7><span class="check" data-v-8a2b9aa7></span><span data-v-8a2b9aa7>Real-time updates</span></div><div class="feature" data-v-8a2b9aa7><span class="check" data-v-8a2b9aa7></span><span data-v-8a2b9aa7>No ads, forever free</span></div></div>',4)),z("button",{class:"signup-button",onClick:e[0]||(e[0]=(...o)=>i.handleSignup&&i.handleSignup(...o))}," Create Free Account "),z("button",{class:"login-link",onClick:e[1]||(e[1]=(...o)=>i.handleLogin&&i.handleLogin(...o))}," Already have an account? Login ")])])}const Nv=it(Cv,[["render",Dv],["__scopeId","data-v-8a2b9aa7"]]),$v={name:"FeedReaderView",components:{Header:Dm,Footer:Lm,FeedSelector:Km,SearchBar:ev,FeedList:Iv,SignupTeaser:Nv},setup(){const t=Jl(),e=um(),r=qc(),n=ln(),s=ym(),{fetchYouTubeFeed:i}=km(),o=ge(!1),a=ge("Loading..."),l=ge(!1),c="https://arbnorcyberlabs-eng.github.io/rss-agg/",u=oe(()=>{const _=[{id:"all",name:"All Feeds"}];return r.enabledFeeds.forEach(S=>{const E=S.title.replace("Wikipedia  did you know?","Wikipedia").replace("Wikivoyage recommendations","Wikivoyage").replace("Hacker News - Front Page","Hacker News").replace("Medium - Matteo's Articles","Medium").replace("Economy Media YouTube Channel","Economy Media");_.push({id:S.id,name:E})}),_}),h=oe(()=>{const _=e.paginatedItems;return n.isAuthenticated?_:_.slice(0,5)}),d=oe(()=>!n.isAuthenticated&&e.allItems.length>5);async function f(_=!1){o.value=!0,a.value="Loading feeds...";try{await r.loadFeeds();let S=[];n.isAuthenticated&&(await s.loadPreferences(),S=s.enabledFeedIds);const E=[],N=r.feeds.filter(x=>x.type!=="scraped"||!x.enabled?!1:n.isAuthenticated?S.includes(x.id):!0);for(const x of N)try{a.value=`Loading ${x.title}...`;const M=_?`?t=${Date.now()}`:"",U=`${c}${x.id}.xml${M}`;console.log(`Fetching feed: ${U}`);const te=await fetch(U,{cache:_?"reload":"default"});if(!te.ok){console.warn(`Failed to fetch ${x.id}: ${te.status}`);continue}const Ee=await te.text(),Oe=wa(Ee).items.map(mt=>({...mt,feedId:x.id,source:x.title.split("  ")[0].split(" - ")[0]}));E.push(...Oe),console.log(`Loaded ${Oe.length} items from ${x.id}`)}catch(M){console.error(`Error loading feed ${x.id}:`,M)}if(r.feeds.find(x=>x.type!=="native_rss"||!x.enabled||x.id!=="youtube_economy"?!1:n.isAuthenticated?S.includes(x.id):!0))try{a.value="Loading YouTube videos...";const x=await i(_),U=wa(x).items.map(te=>({...te,feedId:"youtube_economy",source:"Economy Media YouTube"}));E.push(...U),console.log(`Loaded ${U.length} items from YouTube`)}catch(x){console.warn("YouTube feed failed, continuing without it:",x)}E.sort((x,M)=>{const U=new Date(x.pubDate||0);return new Date(M.pubDate||0)-U}),r.setFeedItems(E),e.setAllItems(E),console.log(` Loaded total of ${E.length} items from all feeds`)}catch(S){console.error("Error loading feeds:",S);const E=[{feedId:"funfacts",title:"...that the first documented use of a smiley emoticon was in 1648?",link:"https://en.wikipedia.org/wiki/Smiley",content:"The smiley face has become one of the most recognizable symbols in modern communication.",pubDate:new Date().toISOString(),source:"Wikipedia"},{feedId:"funfacts",title:"...that octopuses have three hearts and blue blood?",link:"https://en.wikipedia.org/wiki/Octopus",content:"Octopuses are among the most intelligent invertebrates, with complex nervous systems.",pubDate:new Date(Date.now()-18e5).toISOString(),source:"Wikipedia"},{feedId:"funfacts",title:"...that honey never spoils and can last thousands of years?",link:"https://en.wikipedia.org/wiki/Honey",content:"Archaeologists have found 3,000-year-old honey in Egyptian tombs that was still perfectly edible.",pubDate:new Date(Date.now()-36e5).toISOString(),source:"Wikipedia"},{feedId:"funfacts",title:"...that bananas are berries, but strawberries are not?",link:"https://en.wikipedia.org/wiki/Berry",content:"In botanical terms, a berry is a fruit produced from a single flower with one ovary.",pubDate:new Date(Date.now()-54e5).toISOString(),source:"Wikipedia"},{feedId:"funfacts",title:"...that the Eiffel Tower can grow over 6 inches in summer?",link:"https://en.wikipedia.org/wiki/Eiffel_Tower",content:"The iron structure expands when heated by the sun, causing the tower to grow taller.",pubDate:new Date(Date.now()-72e5).toISOString(),source:"Wikipedia"},{feedId:"hackernews",title:"Ask HN: What are you working on this month?",link:"https://news.ycombinator.com/item?id=123",content:"Monthly thread for sharing projects and getting feedback from the community.",pubDate:new Date(Date.now()-9e6).toISOString(),source:"Hacker News"},{feedId:"hackernews",title:"Show HN: RSS Feed Aggregator with Supabase",link:"https://news.ycombinator.com/item?id=124",content:"Built a modern RSS aggregator using Vue 3 and Supabase for dynamic feed management.",pubDate:new Date(Date.now()-108e5).toISOString(),source:"Hacker News"},{feedId:"hackernews",title:"The State of WebAssembly in 2024",link:"https://news.ycombinator.com/item?id=125",content:"A comprehensive overview of WebAssembly adoption and future developments.",pubDate:new Date(Date.now()-126e5).toISOString(),source:"Hacker News"},{feedId:"hackernews",title:"Why SQLite is so great for embedded applications",link:"https://news.ycombinator.com/item?id=126",content:"Discussion on the benefits of using SQLite for local-first applications.",pubDate:new Date(Date.now()-144e5).toISOString(),source:"Hacker News"},{feedId:"hackernews",title:"Ask HN: Best resources for learning system design?",link:"https://news.ycombinator.com/item?id=127",content:"Community recommendations for mastering distributed systems and architecture.",pubDate:new Date(Date.now()-162e5).toISOString(),source:"Hacker News"},{feedId:"youtube_economy",title:"Economy Media: Understanding Market Trends 2024",link:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",content:"In-depth analysis of current market trends and economic indicators for the upcoming quarter.",pubDate:new Date(Date.now()-18e6).toISOString(),source:"Economy Media YouTube",thumbnailUrl:"https://via.placeholder.com/320x180/000000/FFFFFF/?text=Market+Trends",views:45823},{feedId:"youtube_economy",title:"Economy Media: Tech Industry Report",link:"https://www.youtube.com/watch?v=abc123",content:"Latest developments in the technology sector and their economic impact.",pubDate:new Date(Date.now()-198e5).toISOString(),source:"Economy Media YouTube",thumbnailUrl:"https://via.placeholder.com/320x180/0066cc/FFFFFF/?text=Tech+Report",views:32145},{feedId:"youtube_economy",title:"Economy Media: Global Trade Analysis",link:"https://www.youtube.com/watch?v=xyz789",content:"Examining the impact of recent trade policies on international markets.",pubDate:new Date(Date.now()-216e5).toISOString(),source:"Economy Media YouTube",thumbnailUrl:"https://via.placeholder.com/320x180/ff6600/FFFFFF/?text=Global+Trade",views:28934},{feedId:"youtube_economy",title:"Economy Media: Cryptocurrency Market Update",link:"https://www.youtube.com/watch?v=crypto123",content:"Weekly review of cryptocurrency trends and blockchain technology developments.",pubDate:new Date(Date.now()-234e5).toISOString(),source:"Economy Media YouTube",thumbnailUrl:"https://via.placeholder.com/320x180/4CAF50/FFFFFF/?text=Crypto+Market",views:52147},{feedId:"medium_matteo",title:"Building Scalable Web Applications with Vue 3",link:"https://medium.com/@matteo28/vue3-scalable",content:"Learn how to architect Vue 3 applications that can scale from prototype to production with best practices and real-world examples.",pubDate:new Date(Date.now()-252e5).toISOString(),source:"Medium"},{feedId:"medium_matteo",title:"The Power of Supabase for Modern Apps",link:"https://medium.com/@matteo28/supabase-power",content:"Exploring Supabase as a backend solution: real-time capabilities, authentication, and database management.",pubDate:new Date(Date.now()-27e6).toISOString(),source:"Medium"},{feedId:"medium_matteo",title:"Mastering Pinia State Management in Vue 3",link:"https://medium.com/@matteo28/pinia-state",content:"A deep dive into Pinia, the intuitive state management library for Vue applications.",pubDate:new Date(Date.now()-288e5).toISOString(),source:"Medium"},{feedId:"medium_matteo",title:"Modern CSS Techniques for 2024",link:"https://medium.com/@matteo28/modern-css",content:"Exploring container queries, cascade layers, and other cutting-edge CSS features.",pubDate:new Date(Date.now()-306e5).toISOString(),source:"Medium"},{feedId:"medium_matteo",title:"TypeScript Best Practices for Large Projects",link:"https://medium.com/@matteo28/typescript-best",content:"Essential patterns and practices for maintaining type safety in enterprise applications.",pubDate:new Date(Date.now()-324e5).toISOString(),source:"Medium"},{feedId:"wikivoyage",title:"Paris: The City of Light",link:"https://en.wikivoyage.org/wiki/Paris",content:"Discover the romantic capital of France with its iconic monuments, world-class museums, and charming cafs.",pubDate:new Date(Date.now()-342e5).toISOString(),source:"Wikivoyage"},{feedId:"wikivoyage",title:"Tokyo: Where Tradition Meets Future",link:"https://en.wikivoyage.org/wiki/Tokyo",content:"Experience the vibrant metropolis that seamlessly blends ancient temples with cutting-edge technology.",pubDate:new Date(Date.now()-36e6).toISOString(),source:"Wikivoyage"},{feedId:"wikivoyage",title:"Barcelona: Architecture and Mediterranean Beauty",link:"https://en.wikivoyage.org/wiki/Barcelona",content:"Explore Gaud's masterpieces, enjoy tapas, and relax on beautiful beaches in Catalonia's capital.",pubDate:new Date(Date.now()-378e5).toISOString(),source:"Wikivoyage"},{feedId:"wikivoyage",title:"Iceland: Land of Fire and Ice",link:"https://en.wikivoyage.org/wiki/Iceland",content:"Witness the Northern Lights, explore volcanic landscapes, and soak in geothermal hot springs.",pubDate:new Date(Date.now()-396e5).toISOString(),source:"Wikivoyage"},{feedId:"wikivoyage",title:"New York City: The Big Apple",link:"https://en.wikivoyage.org/wiki/New_York_City",content:"From Times Square to Central Park, discover the city that never sleeps.",pubDate:new Date(Date.now()-414e5).toISOString(),source:"Wikivoyage"}];r.setFeedItems(E),e.setAllItems(E),console.log(" Using fallback test data:",E.length,"items")}finally{o.value=!1}}function m(_){r.setCurrentFeed(_);const S=_==="all"?r.feedItems:r.feedItems.filter(E=>E.feedId===_);e.setAllItems(S),console.log(`Switched to feed: ${_}, showing ${S.length} items`)}async function y(){l.value=!0;try{await f(!0)}finally{l.value=!1}}function w(){t.push("/admin")}function b(){t.push("/admin")}return il(()=>{f()}),{uiStore:e,feedStore:r,authStore:n,feedOptions:u,loading:o,loadingMessage:a,isUpdating:l,displayItems:h,shouldShowTeaser:d,handleFeedChange:m,handleUpdate:y,handleSignup:w,handleLogin:b}}},Lv={class:"feed-reader"};function Uv(t,e,r,n,s,i){const o=et("Header"),a=et("FeedSelector"),l=et("SearchBar"),c=et("FeedList"),u=et("SignupTeaser"),h=et("Footer");return ee(),de("div",Lv,[ve(o),ve(a,{"current-feed":n.feedStore.currentFeed,"feed-options":n.feedOptions,"is-updating":n.isUpdating,onFeedChange:n.handleFeedChange,onUpdate:n.handleUpdate},null,8,["current-feed","feed-options","is-updating","onFeedChange","onUpdate"]),ve(l,{"search-query":n.uiStore.searchQuery,"total-items":n.uiStore.currentItemRange.total,onSearch:n.uiStore.setSearch,onClear:n.uiStore.clearSearch},null,8,["search-query","total-items","onSearch","onClear"]),ve(c,{items:n.displayItems,loading:n.loading,"loading-message":n.loadingMessage,"current-page":n.uiStore.currentPage,"total-pages":n.uiStore.totalPages,onPageChange:n.uiStore.setPage},null,8,["items","loading","loading-message","current-page","total-pages","onPageChange"]),n.shouldShowTeaser?(ee(),Er(u,{key:0,onSignup:n.handleSignup,onLogin:n.handleLogin},null,8,["onSignup","onLogin"])):tt("",!0),ve(h)])}const Fv=it($v,[["render",Uv],["__scopeId","data-v-1b52b80d"]]),Hc=$f({history:pf("/rss-agg/"),routes:[{path:"/",name:"reader",component:Fv},{path:"/preferences",name:"preferences",component:()=>Vt(()=>import("./PreferencesView-Bzrj49gH.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:()=>Vt(()=>import("./AdminView-DgAbWwba.js"),__vite__mapDeps([2,3]))}]});Hc.beforeEach(async(t,e,r)=>{const n=ln();if(n.user===null&&!n.loading&&await n.checkAuth(),t.meta.requiresAuth&&!n.isAuthenticated){r("/");return}r()});const Wi=pd(Ad),Mv=vd();Wi.use(Mv);Wi.use(Hc);Wi.mount("#app");export{Lm as F,Dm as H,it as _,ve as a,z as b,de as c,qe as d,Fn as e,qc as f,ym as g,ge as h,Jl as i,ee as j,tt as k,Hv as l,qv as m,Ot as n,il as o,Er as p,Js as q,et as r,qs as s,Fe as t,ln as u,Vv as v,Bv as w};
