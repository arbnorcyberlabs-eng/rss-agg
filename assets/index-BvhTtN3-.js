const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminView-2HuUUV0-.js","assets/AdminView-BCTfw_4s.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ui(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const se={},vr=[],lt=()=>{},pa=()=>!1,Gn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),hi=t=>t.startsWith("onUpdate:"),Ae=Object.assign,di=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Dc=Object.prototype.hasOwnProperty,te=(t,e)=>Dc.call(t,e),q=Array.isArray,yr=t=>on(t)==="[object Map]",Jn=t=>on(t)==="[object Set]",qi=t=>on(t)==="[object Date]",J=t=>typeof t=="function",ve=t=>typeof t=="string",ut=t=>typeof t=="symbol",oe=t=>t!==null&&typeof t=="object",ga=t=>(oe(t)||J(t))&&J(t.then)&&J(t.catch),ma=Object.prototype.toString,on=t=>ma.call(t),$c=t=>on(t).slice(8,-1),_a=t=>on(t)==="[object Object]",fi=t=>ve(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ur=ui(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zn=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},Uc=/-\w/g,ze=zn(t=>t.replace(Uc,e=>e.slice(1).toUpperCase())),Lc=/\B([A-Z])/g,rr=zn(t=>t.replace(Lc,"-$1").toLowerCase()),Yn=zn(t=>t.charAt(0).toUpperCase()+t.slice(1)),hs=zn(t=>t?`on${Yn(t)}`:""),$t=(t,e)=>!Object.is(t,e),En=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},va=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},Pn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Wi;const Qn=()=>Wi||(Wi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function pi(t){if(q(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=ve(n)?Vc(n):pi(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(ve(t)||oe(t))return t}const Fc=/;(?![^(]*\))/g,Mc=/:([^]+)/,Bc=/\/\*[^]*?\*\//g;function Vc(t){const e={};return t.replace(Bc,"").split(Fc).forEach(r=>{if(r){const n=r.split(Mc);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function St(t){let e="";if(ve(t))e=t;else if(q(t))for(let r=0;r<t.length;r++){const n=St(t[r]);n&&(e+=n+" ")}else if(oe(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const qc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wc=ui(qc);function ya(t){return!!t||t===""}function Hc(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=Xn(t[n],e[n]);return r}function Xn(t,e){if(t===e)return!0;let r=qi(t),n=qi(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=ut(t),n=ut(e),r||n)return t===e;if(r=q(t),n=q(e),r||n)return r&&n?Hc(t,e):!1;if(r=oe(t),n=oe(e),r||n){if(!r||!n)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Xn(t[o],e[o]))return!1}}return String(t)===String(e)}function Kc(t,e){return t.findIndex(r=>Xn(r,e))}const wa=t=>!!(t&&t.__v_isRef===!0),Ve=t=>ve(t)?t:t==null?"":q(t)||oe(t)&&(t.toString===ma||!J(t.toString))?wa(t)?Ve(t.value):JSON.stringify(t,ba,2):String(t),ba=(t,e)=>wa(e)?ba(t,e.value):yr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[ds(n,i)+" =>"]=s,r),{})}:Jn(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>ds(r))}:ut(e)?ds(e):oe(e)&&!q(e)&&!_a(e)?String(e):e,ds=(t,e="")=>{var r;return ut(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Oe;class Sa{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Oe,!e&&Oe&&(this.index=(Oe.scopes||(Oe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Oe;try{return Oe=this,e()}finally{Oe=r}}}on(){++this._on===1&&(this.prevScope=Oe,Oe=this)}off(){this._on>0&&--this._on===0&&(Oe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Ea(t){return new Sa(t)}function Oa(){return Oe}function Gc(t,e=!1){Oe&&Oe.cleanups.push(t)}let ce;const fs=new WeakSet;class Ta{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Oe&&Oe.active&&Oe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,fs.has(this)&&(fs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Aa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Hi(this),Pa(this);const e=ce,r=Ze;ce=this,Ze=!0;try{return this.fn()}finally{Ra(this),ce=e,Ze=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_i(e);this.deps=this.depsTail=void 0,Hi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?fs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ds(this)&&this.run()}get dirty(){return Ds(this)}}let ka=0,Lr,Fr;function Aa(t,e=!1){if(t.flags|=8,e){t.next=Fr,Fr=t;return}t.next=Lr,Lr=t}function gi(){ka++}function mi(){if(--ka>0)return;if(Fr){let e=Fr;for(Fr=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Lr;){let e=Lr;for(Lr=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function Pa(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ra(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),_i(n),Jc(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function Ds(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ia(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ia(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Yr)||(t.globalVersion=Yr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ds(t))))return;t.flags|=2;const e=t.dep,r=ce,n=Ze;ce=t,Ze=!0;try{Pa(t);const s=t.fn(t._value);(e.version===0||$t(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{ce=r,Ze=n,Ra(t),t.flags&=-3}}function _i(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)_i(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Jc(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Ze=!0;const Ca=[];function Et(){Ca.push(Ze),Ze=!1}function Ot(){const t=Ca.pop();Ze=t===void 0?!0:t}function Hi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=ce;ce=void 0;try{e()}finally{ce=r}}}let Yr=0;class zc{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vi{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ce||!Ze||ce===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==ce)r=this.activeLink=new zc(ce,this),ce.deps?(r.prevDep=ce.depsTail,ce.depsTail.nextDep=r,ce.depsTail=r):ce.deps=ce.depsTail=r,xa(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=ce.depsTail,r.nextDep=void 0,ce.depsTail.nextDep=r,ce.depsTail=r,ce.deps===r&&(ce.deps=n)}return r}trigger(e){this.version++,Yr++,this.notify(e)}notify(e){gi();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{mi()}}}function xa(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)xa(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Rn=new WeakMap,er=Symbol(""),$s=Symbol(""),Qr=Symbol("");function Te(t,e,r){if(Ze&&ce){let n=Rn.get(t);n||Rn.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new vi),s.map=n,s.key=r),s.track()}}function vt(t,e,r,n,s,i){const o=Rn.get(t);if(!o){Yr++;return}const a=l=>{l&&l.trigger()};if(gi(),e==="clear")o.forEach(a);else{const l=q(t),c=l&&fi(r);if(l&&r==="length"){const u=Number(n);o.forEach((h,d)=>{(d==="length"||d===Qr||!ut(d)&&d>=u)&&a(h)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(Qr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(er)),yr(t)&&a(o.get($s)));break;case"delete":l||(a(o.get(er)),yr(t)&&a(o.get($s)));break;case"set":yr(t)&&a(o.get(er));break}}mi()}function Yc(t,e){const r=Rn.get(t);return r&&r.get(e)}function ar(t){const e=X(t);return e===t?e:(Te(e,"iterate",Qr),Je(t)?e:e.map(Se))}function Zn(t){return Te(t=X(t),"iterate",Qr),t}const Qc={__proto__:null,[Symbol.iterator](){return ps(this,Symbol.iterator,Se)},concat(...t){return ar(this).concat(...t.map(e=>q(e)?ar(e):e))},entries(){return ps(this,"entries",t=>(t[1]=Se(t[1]),t))},every(t,e){return pt(this,"every",t,e,void 0,arguments)},filter(t,e){return pt(this,"filter",t,e,r=>r.map(Se),arguments)},find(t,e){return pt(this,"find",t,e,Se,arguments)},findIndex(t,e){return pt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return pt(this,"findLast",t,e,Se,arguments)},findLastIndex(t,e){return pt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return pt(this,"forEach",t,e,void 0,arguments)},includes(...t){return gs(this,"includes",t)},indexOf(...t){return gs(this,"indexOf",t)},join(t){return ar(this).join(t)},lastIndexOf(...t){return gs(this,"lastIndexOf",t)},map(t,e){return pt(this,"map",t,e,void 0,arguments)},pop(){return xr(this,"pop")},push(...t){return xr(this,"push",t)},reduce(t,...e){return Ki(this,"reduce",t,e)},reduceRight(t,...e){return Ki(this,"reduceRight",t,e)},shift(){return xr(this,"shift")},some(t,e){return pt(this,"some",t,e,void 0,arguments)},splice(...t){return xr(this,"splice",t)},toReversed(){return ar(this).toReversed()},toSorted(t){return ar(this).toSorted(t)},toSpliced(...t){return ar(this).toSpliced(...t)},unshift(...t){return xr(this,"unshift",t)},values(){return ps(this,"values",Se)}};function ps(t,e,r){const n=Zn(t),s=n[e]();return n!==t&&!Je(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=r(i.value)),i}),s}const Xc=Array.prototype;function pt(t,e,r,n,s,i){const o=Zn(t),a=o!==t&&!Je(t),l=o[e];if(l!==Xc[e]){const h=l.apply(t,i);return a?Se(h):h}let c=r;o!==t&&(a?c=function(h,d){return r.call(this,Se(h),d,t)}:r.length>2&&(c=function(h,d){return r.call(this,h,d,t)}));const u=l.call(o,c,n);return a&&s?s(u):u}function Ki(t,e,r,n){const s=Zn(t);let i=r;return s!==t&&(Je(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,Se(a),l,t)}),s[e](i,...n)}function gs(t,e,r){const n=X(t);Te(n,"iterate",Qr);const s=n[e](...r);return(s===-1||s===!1)&&bi(r[0])?(r[0]=X(r[0]),n[e](...r)):s}function xr(t,e,r=[]){Et(),gi();const n=X(t)[e].apply(t,r);return mi(),Ot(),n}const Zc=ui("__proto__,__v_isRef,__isVue"),ja=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ut));function eu(t){ut(t)||(t=String(t));const e=X(this);return Te(e,"has",t),e.hasOwnProperty(t)}class Na{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?uu:La:i?Ua:$a).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=q(e);if(!s){let l;if(o&&(l=Qc[r]))return l;if(r==="hasOwnProperty")return eu}const a=Reflect.get(e,r,me(e)?e:n);if((ut(r)?ja.has(r):Zc(r))||(s||Te(e,"get",r),i))return a;if(me(a)){const l=o&&fi(r)?a:a.value;return s&&oe(l)?Ls(l):l}return oe(a)?s?Ls(a):an(a):a}}class Da extends Na{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];if(!this._isShallow){const l=Lt(i);if(!Je(n)&&!Lt(n)&&(i=X(i),n=X(n)),!q(e)&&me(i)&&!me(n))return l||(i.value=n),!0}const o=q(e)&&fi(r)?Number(r)<e.length:te(e,r),a=Reflect.set(e,r,n,me(e)?e:s);return e===X(s)&&(o?$t(n,i)&&vt(e,"set",r,n):vt(e,"add",r,n)),a}deleteProperty(e,r){const n=te(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&vt(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!ut(r)||!ja.has(r))&&Te(e,"has",r),n}ownKeys(e){return Te(e,"iterate",q(e)?"length":er),Reflect.ownKeys(e)}}class tu extends Na{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const ru=new Da,nu=new tu,su=new Da(!0);const Us=t=>t,hn=t=>Reflect.getPrototypeOf(t);function iu(t,e,r){return function(...n){const s=this.__v_raw,i=X(s),o=yr(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...n),u=r?Us:e?In:Se;return!e&&Te(i,"iterate",l?$s:er),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function dn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ou(t,e){const r={get(s){const i=this.__v_raw,o=X(i),a=X(s);t||($t(s,a)&&Te(o,"get",s),Te(o,"get",a));const{has:l}=hn(o),c=e?Us:t?In:Se;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Te(X(s),"iterate",er),s.size},has(s){const i=this.__v_raw,o=X(i),a=X(s);return t||($t(s,a)&&Te(o,"has",s),Te(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=X(a),c=e?Us:t?In:Se;return!t&&Te(l,"iterate",er),a.forEach((u,h)=>s.call(i,c(u),c(h),o))}};return Ae(r,t?{add:dn("add"),set:dn("set"),delete:dn("delete"),clear:dn("clear")}:{add(s){!e&&!Je(s)&&!Lt(s)&&(s=X(s));const i=X(this);return hn(i).has.call(i,s)||(i.add(s),vt(i,"add",s,s)),this},set(s,i){!e&&!Je(i)&&!Lt(i)&&(i=X(i));const o=X(this),{has:a,get:l}=hn(o);let c=a.call(o,s);c||(s=X(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?$t(i,u)&&vt(o,"set",s,i):vt(o,"add",s,i),this},delete(s){const i=X(this),{has:o,get:a}=hn(i);let l=o.call(i,s);l||(s=X(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&vt(i,"delete",s,void 0),c},clear(){const s=X(this),i=s.size!==0,o=s.clear();return i&&vt(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=iu(s,t,e)}),r}function yi(t,e){const r=ou(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(te(r,s)&&s in n?r:n,s,i)}const au={get:yi(!1,!1)},lu={get:yi(!1,!0)},cu={get:yi(!0,!1)};const $a=new WeakMap,Ua=new WeakMap,La=new WeakMap,uu=new WeakMap;function hu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function du(t){return t.__v_skip||!Object.isExtensible(t)?0:hu($c(t))}function an(t){return Lt(t)?t:wi(t,!1,ru,au,$a)}function Fa(t){return wi(t,!1,su,lu,Ua)}function Ls(t){return wi(t,!0,nu,cu,La)}function wi(t,e,r,n,s){if(!oe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=du(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?n:r);return s.set(t,a),a}function Ut(t){return Lt(t)?Ut(t.__v_raw):!!(t&&t.__v_isReactive)}function Lt(t){return!!(t&&t.__v_isReadonly)}function Je(t){return!!(t&&t.__v_isShallow)}function bi(t){return t?!!t.__v_raw:!1}function X(t){const e=t&&t.__v_raw;return e?X(e):t}function Si(t){return!te(t,"__v_skip")&&Object.isExtensible(t)&&va(t,"__v_skip",!0),t}const Se=t=>oe(t)?an(t):t,In=t=>oe(t)?Ls(t):t;function me(t){return t?t.__v_isRef===!0:!1}function xe(t){return Ma(t,!1)}function fu(t){return Ma(t,!0)}function Ma(t,e){return me(t)?t:new pu(t,e)}class pu{constructor(e,r){this.dep=new vi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:X(e),this._value=r?e:Se(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Je(e)||Lt(e);e=n?e:X(e),$t(e,r)&&(this._rawValue=e,this._value=n?e:Se(e),this.dep.trigger())}}function wr(t){return me(t)?t.value:t}const gu={get:(t,e,r)=>e==="__v_raw"?t:wr(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return me(s)&&!me(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function Ba(t){return Ut(t)?t:new Proxy(t,gu)}function mu(t){const e=q(t)?new Array(t.length):{};for(const r in t)e[r]=vu(t,r);return e}class _u{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Yc(X(this._object),this._key)}}function vu(t,e,r){const n=t[e];return me(n)?n:new _u(t,e,r)}class yu{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new vi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ce!==this)return Aa(this,!0),!0}get value(){const e=this.dep.track();return Ia(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function wu(t,e,r=!1){let n,s;return J(t)?n=t:(n=t.get,s=t.set),new yu(n,s,r)}const fn={},Cn=new WeakMap;let Gt;function bu(t,e=!1,r=Gt){if(r){let n=Cn.get(r);n||Cn.set(r,n=[]),n.push(t)}}function Su(t,e,r=se){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=r,c=k=>s?k:Je(k)||s===!1||s===0?yt(k,1):yt(k);let u,h,d,f,_=!1,v=!1;if(me(t)?(h=()=>t.value,_=Je(t)):Ut(t)?(h=()=>c(t),_=!0):q(t)?(v=!0,_=t.some(k=>Ut(k)||Je(k)),h=()=>t.map(k=>{if(me(k))return k.value;if(Ut(k))return c(k);if(J(k))return l?l(k,2):k()})):J(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){Et();try{d()}finally{Ot()}}const k=Gt;Gt=u;try{return l?l(t,3,[f]):t(f)}finally{Gt=k}}:h=lt,e&&s){const k=h,N=s===!0?1/0:s;h=()=>yt(k(),N)}const y=Oa(),w=()=>{u.stop(),y&&y.active&&di(y.effects,u)};if(i&&e){const k=e;e=(...N)=>{k(...N),w()}}let b=v?new Array(t.length).fill(fn):fn;const S=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(e){const N=u.run();if(s||_||(v?N.some((M,V)=>$t(M,b[V])):$t(N,b))){d&&d();const M=Gt;Gt=u;try{const V=[N,b===fn?void 0:v&&b[0]===fn?[]:b,f];b=N,l?l(e,3,V):e(...V)}finally{Gt=M}}}else u.run()};return a&&a(S),u=new Ta(h),u.scheduler=o?()=>o(S,!1):S,f=k=>bu(k,!1,u),d=u.onStop=()=>{const k=Cn.get(u);if(k){if(l)l(k,4);else for(const N of k)N();Cn.delete(u)}},e?n?S(!0):b=u.run():o?o(S.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function yt(t,e=1/0,r){if(e<=0||!oe(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,me(t))yt(t.value,e,r);else if(q(t))for(let n=0;n<t.length;n++)yt(t[n],e,r);else if(Jn(t)||yr(t))t.forEach(n=>{yt(n,e,r)});else if(_a(t)){for(const n in t)yt(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&yt(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ln(t,e,r,n){try{return n?t(...n):t()}catch(s){es(s,e,r)}}function ht(t,e,r,n){if(J(t)){const s=ln(t,e,r,n);return s&&ga(s)&&s.catch(i=>{es(i,e,r)}),s}if(q(t)){const s=[];for(let i=0;i<t.length;i++)s.push(ht(t[i],e,r,n));return s}}function es(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||se;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(i){Et(),ln(i,null,10,[t,l,c]),Ot();return}}Eu(t,r,s,n,o)}function Eu(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const Ce=[];let ot=-1;const br=[];let xt=null,pr=0;const Va=Promise.resolve();let xn=null;function ts(t){const e=xn||Va;return t?e.then(this?t.bind(this):t):e}function Ou(t){let e=ot+1,r=Ce.length;for(;e<r;){const n=e+r>>>1,s=Ce[n],i=Xr(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function Ei(t){if(!(t.flags&1)){const e=Xr(t),r=Ce[Ce.length-1];!r||!(t.flags&2)&&e>=Xr(r)?Ce.push(t):Ce.splice(Ou(e),0,t),t.flags|=1,qa()}}function qa(){xn||(xn=Va.then(Ha))}function Tu(t){q(t)?br.push(...t):xt&&t.id===-1?xt.splice(pr+1,0,t):t.flags&1||(br.push(t),t.flags|=1),qa()}function Gi(t,e,r=ot+1){for(;r<Ce.length;r++){const n=Ce[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Ce.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Wa(t){if(br.length){const e=[...new Set(br)].sort((r,n)=>Xr(r)-Xr(n));if(br.length=0,xt){xt.push(...e);return}for(xt=e,pr=0;pr<xt.length;pr++){const r=xt[pr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}xt=null,pr=0}}const Xr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ha(t){try{for(ot=0;ot<Ce.length;ot++){const e=Ce[ot];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ln(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ot<Ce.length;ot++){const e=Ce[ot];e&&(e.flags&=-2)}ot=-1,Ce.length=0,Wa(),xn=null,(Ce.length||br.length)&&Ha()}}let He=null,Ka=null;function jn(t){const e=He;return He=t,Ka=t&&t.type.__scopeId||null,e}function ku(t,e=He,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&Un(-1);const i=jn(e);let o;try{o=t(...s)}finally{jn(i),n._d&&Un(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function d_(t,e){if(He===null)return t;const r=is(He),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=se]=e[s];i&&(J(i)&&(i={mounted:i,updated:i}),i.deep&&yt(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function qt(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Et(),ht(l,r,8,[t.el,a,t,e]),Ot())}}const Au=Symbol("_vte"),Pu=t=>t.__isTeleport,Ru=Symbol("_leaveCb");function Oi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Oi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ga(t,e){return J(t)?Ae({name:t.name},e,{setup:t}):t}function Ja(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Nn=new WeakMap;function Mr(t,e,r,n,s=!1){if(q(t)){t.forEach((_,v)=>Mr(_,e&&(q(e)?e[v]:e),r,n,s));return}if(Br(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Mr(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?is(n.component):n.el,o=s?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===se?a.refs={}:a.refs,h=a.setupState,d=X(h),f=h===se?pa:_=>te(d,_);if(c!=null&&c!==l){if(Ji(e),ve(c))u[c]=null,f(c)&&(h[c]=null);else if(me(c)){c.value=null;const _=e;_.k&&(u[_.k]=null)}}if(J(l))ln(l,a,12,[o,u]);else{const _=ve(l),v=me(l);if(_||v){const y=()=>{if(t.f){const w=_?f(l)?h[l]:u[l]:l.value;if(s)q(w)&&di(w,i);else if(q(w))w.includes(i)||w.push(i);else if(_)u[l]=[i],f(l)&&(h[l]=u[l]);else{const b=[i];l.value=b,t.k&&(u[t.k]=b)}}else _?(u[l]=o,f(l)&&(h[l]=o)):v&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const w=()=>{y(),Nn.delete(t)};w.id=-1,Nn.set(t,w),Fe(w,r)}else Ji(t),y()}}}function Ji(t){const e=Nn.get(t);e&&(e.flags|=8,Nn.delete(t))}Qn().requestIdleCallback;Qn().cancelIdleCallback;const Br=t=>!!t.type.__asyncLoader,za=t=>t.type.__isKeepAlive;function Iu(t,e){Ya(t,"a",e)}function Cu(t,e){Ya(t,"da",e)}function Ya(t,e,r=ke){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(rs(e,n,r),r){let s=r.parent;for(;s&&s.parent;)za(s.parent.vnode)&&xu(n,e,r,s),s=s.parent}}function xu(t,e,r,n){const s=rs(e,t,n,!0);Xa(()=>{di(n[e],s)},r)}function rs(t,e,r=ke,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Et();const a=cn(r),l=ht(e,r,t,o);return a(),Ot(),l});return n?s.unshift(i):s.push(i),i}}const Tt=t=>(e,r=ke)=>{(!en||t==="sp")&&rs(t,(...n)=>e(...n),r)},ju=Tt("bm"),Qa=Tt("m"),Nu=Tt("bu"),Du=Tt("u"),$u=Tt("bum"),Xa=Tt("um"),Uu=Tt("sp"),Lu=Tt("rtg"),Fu=Tt("rtc");function Mu(t,e=ke){rs("ec",t,e)}const Bu="components";function wt(t,e){return qu(Bu,t,!0,e)||t}const Vu=Symbol.for("v-ndc");function qu(t,e,r=!0,n=!1){const s=He||ke;if(s){const i=s.type;{const a=xh(i,!1);if(a&&(a===e||a===ze(e)||a===Yn(ze(e))))return i}const o=zi(s[t]||i[t],e)||zi(s.appContext[t],e);return!o&&n?i:o}}function zi(t,e){return t&&(t[e]||t[ze(e)]||t[Yn(ze(e))])}function Dn(t,e,r,n){let s;const i=r,o=q(t);if(o||ve(t)){const a=o&&Ut(t);let l=!1,c=!1;a&&(l=!Je(t),c=Lt(t),t=Zn(t)),s=new Array(t.length);for(let u=0,h=t.length;u<h;u++)s[u]=e(l?c?In(Se(t[u])):Se(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(oe(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,i)}}else s=[];return s}const Fs=t=>t?yl(t)?is(t):Fs(t.parent):null,Vr=Ae(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fs(t.parent),$root:t=>Fs(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>el(t),$forceUpdate:t=>t.f||(t.f=()=>{Ei(t.update)}),$nextTick:t=>t.n||(t.n=ts.bind(t.proxy)),$watch:t=>hh.bind(t)}),ms=(t,e)=>t!==se&&!t.__isScriptSetup&&te(t,e),Wu={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(ms(n,e))return o[e]=1,n[e];if(s!==se&&te(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&te(c,e))return o[e]=3,i[e];if(r!==se&&te(r,e))return o[e]=4,r[e];Ms&&(o[e]=0)}}const u=Vr[e];let h,d;if(u)return e==="$attrs"&&Te(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(r!==se&&te(r,e))return o[e]=4,r[e];if(d=l.config.globalProperties,te(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return ms(s,e)?(s[e]=r,!0):n!==se&&te(n,e)?(n[e]=r,!0):te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i,type:o}},a){let l,c;return!!(r[a]||t!==se&&a[0]!=="$"&&te(t,a)||ms(e,a)||(l=i[0])&&te(l,a)||te(n,a)||te(Vr,a)||te(s.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:te(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Yi(t){return q(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Ms=!0;function Hu(t){const e=el(t),r=t.proxy,n=t.ctx;Ms=!1,e.beforeCreate&&Qi(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:_,activated:v,deactivated:y,beforeDestroy:w,beforeUnmount:b,destroyed:S,unmounted:k,render:N,renderTracked:M,renderTriggered:V,errorCaptured:H,serverPrefetch:W,expose:he,inheritAttrs:Pe,components:Ue,directives:je,filters:Bt}=e;if(c&&Ku(c,n,null),o)for(const z in o){const Z=o[z];J(Z)&&(n[z]=Z.bind(r))}if(s){const z=s.call(r,r);oe(z)&&(t.data=an(z))}if(Ms=!0,i)for(const z in i){const Z=i[z],ft=J(Z)?Z.bind(r,r):J(Z.get)?Z.get.bind(r,r):lt,At=!J(Z)&&J(Z.set)?Z.set.bind(r):lt,tt=ge({get:ft,set:At});Object.defineProperty(n,z,{enumerable:!0,configurable:!0,get:()=>tt.value,set:Ne=>tt.value=Ne})}if(a)for(const z in a)Za(a[z],n,r,z);if(l){const z=J(l)?l.call(r):l;Reflect.ownKeys(z).forEach(Z=>{On(Z,z[Z])})}u&&Qi(u,t,"c");function ue(z,Z){q(Z)?Z.forEach(ft=>z(ft.bind(r))):Z&&z(Z.bind(r))}if(ue(ju,h),ue(Qa,d),ue(Nu,f),ue(Du,_),ue(Iu,v),ue(Cu,y),ue(Mu,H),ue(Fu,M),ue(Lu,V),ue($u,b),ue(Xa,k),ue(Uu,W),q(he))if(he.length){const z=t.exposed||(t.exposed={});he.forEach(Z=>{Object.defineProperty(z,Z,{get:()=>r[Z],set:ft=>r[Z]=ft,enumerable:!0})})}else t.exposed||(t.exposed={});N&&t.render===lt&&(t.render=N),Pe!=null&&(t.inheritAttrs=Pe),Ue&&(t.components=Ue),je&&(t.directives=je),W&&Ja(t)}function Ku(t,e,r=lt){q(t)&&(t=Bs(t));for(const n in t){const s=t[n];let i;oe(s)?"default"in s?i=ct(s.from||n,s.default,!0):i=ct(s.from||n):i=ct(s),me(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function Qi(t,e,r){ht(q(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Za(t,e,r,n){let s=n.includes(".")?fl(r,n):()=>r[n];if(ve(t)){const i=e[t];J(i)&&qr(s,i)}else if(J(t))qr(s,t.bind(r));else if(oe(t))if(q(t))t.forEach(i=>Za(i,e,r,n));else{const i=J(t.handler)?t.handler.bind(r):e[t.handler];J(i)&&qr(s,i,t)}}function el(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!r&&!n?l=e:(l={},s.length&&s.forEach(c=>$n(l,c,o,!0)),$n(l,e,o)),oe(e)&&i.set(e,l),l}function $n(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&$n(t,i,r,!0),s&&s.forEach(o=>$n(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=Gu[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Gu={data:Xi,props:Zi,emits:Zi,methods:Dr,computed:Dr,beforeCreate:Re,created:Re,beforeMount:Re,mounted:Re,beforeUpdate:Re,updated:Re,beforeDestroy:Re,beforeUnmount:Re,destroyed:Re,unmounted:Re,activated:Re,deactivated:Re,errorCaptured:Re,serverPrefetch:Re,components:Dr,directives:Dr,watch:zu,provide:Xi,inject:Ju};function Xi(t,e){return e?t?function(){return Ae(J(t)?t.call(this,this):t,J(e)?e.call(this,this):e)}:e:t}function Ju(t,e){return Dr(Bs(t),Bs(e))}function Bs(t){if(q(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Re(t,e){return t?[...new Set([].concat(t,e))]:e}function Dr(t,e){return t?Ae(Object.create(null),t,e):e}function Zi(t,e){return t?q(t)&&q(e)?[...new Set([...t,...e])]:Ae(Object.create(null),Yi(t),Yi(e??{})):e}function zu(t,e){if(!t)return e;if(!e)return t;const r=Ae(Object.create(null),t);for(const n in e)r[n]=Re(t[n],e[n]);return r}function tl(){return{app:null,config:{isNativeTag:pa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yu=0;function Qu(t,e){return function(n,s=null){J(n)||(n=Ae({},n)),s!=null&&!oe(s)&&(s=null);const i=tl(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Yu++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Nh,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&J(u.install)?(o.add(u),u.install(c,...h)):J(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||be(n,s);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(f,u,d),l=!0,c._container=u,u.__vue_app__=c,is(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ht(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=tr;tr=c;try{return u()}finally{tr=h}}};return c}}let tr=null;function On(t,e){if(ke){let r=ke.provides;const n=ke.parent&&ke.parent.provides;n===r&&(r=ke.provides=Object.create(n)),r[t]=e}}function ct(t,e,r=!1){const n=vl();if(n||tr){let s=tr?tr._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&J(e)?e.call(n&&n.proxy):e}}function Xu(){return!!(vl()||tr)}const rl={},nl=()=>Object.create(rl),sl=t=>Object.getPrototypeOf(t)===rl;function Zu(t,e,r,n=!1){const s={},i=nl();t.propsDefaults=Object.create(null),il(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:Fa(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function eh(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=X(s),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(ns(t.emitsOptions,d))continue;const f=e[d];if(l)if(te(i,d))f!==i[d]&&(i[d]=f,c=!0);else{const _=ze(d);s[_]=Vs(l,a,_,f,t,!1)}else f!==i[d]&&(i[d]=f,c=!0)}}}else{il(t,e,s,i)&&(c=!0);let u;for(const h in a)(!e||!te(e,h)&&((u=rr(h))===h||!te(e,u)))&&(l?r&&(r[h]!==void 0||r[u]!==void 0)&&(s[h]=Vs(l,a,h,void 0,t,!0)):delete s[h]);if(i!==a)for(const h in i)(!e||!te(e,h))&&(delete i[h],c=!0)}c&&vt(t.attrs,"set","")}function il(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ur(l))continue;const c=e[l];let u;s&&te(s,u=ze(l))?!i||!i.includes(u)?r[u]=c:(a||(a={}))[u]=c:ns(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=X(r),c=a||se;for(let u=0;u<i.length;u++){const h=i[u];r[h]=Vs(s,l,h,c[h],t,!te(c,h))}}return o}function Vs(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=te(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&J(l)){const{propsDefaults:c}=s;if(r in c)n=c[r];else{const u=cn(s);n=c[r]=l.call(null,e),u()}}else n=l;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===rr(r))&&(n=!0))}return n}const th=new WeakMap;function ol(t,e,r=!1){const n=r?th:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!J(t)){const u=h=>{l=!0;const[d,f]=ol(h,e,!0);Ae(o,d),f&&a.push(...f)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return oe(t)&&n.set(t,vr),vr;if(q(i))for(let u=0;u<i.length;u++){const h=ze(i[u]);eo(h)&&(o[h]=se)}else if(i)for(const u in i){const h=ze(u);if(eo(h)){const d=i[u],f=o[h]=q(d)||J(d)?{type:d}:Ae({},d),_=f.type;let v=!1,y=!0;if(q(_))for(let w=0;w<_.length;++w){const b=_[w],S=J(b)&&b.name;if(S==="Boolean"){v=!0;break}else S==="String"&&(y=!1)}else v=J(_)&&_.name==="Boolean";f[0]=v,f[1]=y,(v||te(f,"default"))&&a.push(h)}}const c=[o,a];return oe(t)&&n.set(t,c),c}function eo(t){return t[0]!=="$"&&!Ur(t)}const Ti=t=>t==="_"||t==="_ctx"||t==="$stable",ki=t=>q(t)?t.map(at):[at(t)],rh=(t,e,r)=>{if(e._n)return e;const n=ku((...s)=>ki(e(...s)),r);return n._c=!1,n},al=(t,e,r)=>{const n=t._ctx;for(const s in t){if(Ti(s))continue;const i=t[s];if(J(i))e[s]=rh(s,i,n);else if(i!=null){const o=ki(i);e[s]=()=>o}}},ll=(t,e)=>{const r=ki(e);t.slots.default=()=>r},cl=(t,e,r)=>{for(const n in e)(r||!Ti(n))&&(t[n]=e[n])},nh=(t,e,r)=>{const n=t.slots=nl();if(t.vnode.shapeFlag&32){const s=e._;s?(cl(n,e,r),r&&va(n,"_",s,!0)):al(e,n)}else e&&ll(t,e)},sh=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=se;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:cl(s,e,r):(i=!e.$stable,al(e,s)),o=e}else e&&(ll(t,e),o={default:1});if(i)for(const a in s)!Ti(a)&&o[a]==null&&delete s[a]},Fe=yh;function ih(t){return oh(t)}function oh(t,e){const r=Qn();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=lt,insertStaticContent:_}=t,v=(p,g,m,O=null,A=null,E=null,C=void 0,I=null,R=!!g.dynamicChildren)=>{if(p===g)return;p&&!jr(p,g)&&(O=T(p),Ne(p,A,E,!0),p=null),g.patchFlag===-2&&(R=!1,g.dynamicChildren=null);const{type:P,ref:B,shapeFlag:j}=g;switch(P){case ss:y(p,g,m,O);break;case Ft:w(p,g,m,O);break;case vs:p==null&&b(g,m,O,C);break;case Be:Ue(p,g,m,O,A,E,C,I,R);break;default:j&1?N(p,g,m,O,A,E,C,I,R):j&6?je(p,g,m,O,A,E,C,I,R):(j&64||j&128)&&P.process(p,g,m,O,A,E,C,I,R,U)}B!=null&&A?Mr(B,p&&p.ref,E,g||p,!g):B==null&&p&&p.ref!=null&&Mr(p.ref,null,E,p,!0)},y=(p,g,m,O)=>{if(p==null)n(g.el=a(g.children),m,O);else{const A=g.el=p.el;g.children!==p.children&&c(A,g.children)}},w=(p,g,m,O)=>{p==null?n(g.el=l(g.children||""),m,O):g.el=p.el},b=(p,g,m,O)=>{[p.el,p.anchor]=_(p.children,g,m,O,p.el,p.anchor)},S=({el:p,anchor:g},m,O)=>{let A;for(;p&&p!==g;)A=d(p),n(p,m,O),p=A;n(g,m,O)},k=({el:p,anchor:g})=>{let m;for(;p&&p!==g;)m=d(p),s(p),p=m;s(g)},N=(p,g,m,O,A,E,C,I,R)=>{g.type==="svg"?C="svg":g.type==="math"&&(C="mathml"),p==null?M(g,m,O,A,E,C,I,R):W(p,g,A,E,C,I,R)},M=(p,g,m,O,A,E,C,I)=>{let R,P;const{props:B,shapeFlag:j,transition:L,dirs:K}=p;if(R=p.el=o(p.type,E,B&&B.is,B),j&8?u(R,p.children):j&16&&H(p.children,R,null,O,A,_s(p,E),C,I),K&&qt(p,null,O,"created"),V(R,p,p.scopeId,C,O),B){for(const ae in B)ae!=="value"&&!Ur(ae)&&i(R,ae,null,B[ae],E,O);"value"in B&&i(R,"value",null,B.value,E),(P=B.onVnodeBeforeMount)&&it(P,O,p)}K&&qt(p,null,O,"beforeMount");const Q=ah(A,L);Q&&L.beforeEnter(R),n(R,g,m),((P=B&&B.onVnodeMounted)||Q||K)&&Fe(()=>{P&&it(P,O,p),Q&&L.enter(R),K&&qt(p,null,O,"mounted")},A)},V=(p,g,m,O,A)=>{if(m&&f(p,m),O)for(let E=0;E<O.length;E++)f(p,O[E]);if(A){let E=A.subTree;if(g===E||gl(E.type)&&(E.ssContent===g||E.ssFallback===g)){const C=A.vnode;V(p,C,C.scopeId,C.slotScopeIds,A.parent)}}},H=(p,g,m,O,A,E,C,I,R=0)=>{for(let P=R;P<p.length;P++){const B=p[P]=I?jt(p[P]):at(p[P]);v(null,B,g,m,O,A,E,C,I)}},W=(p,g,m,O,A,E,C)=>{const I=g.el=p.el;let{patchFlag:R,dynamicChildren:P,dirs:B}=g;R|=p.patchFlag&16;const j=p.props||se,L=g.props||se;let K;if(m&&Wt(m,!1),(K=L.onVnodeBeforeUpdate)&&it(K,m,g,p),B&&qt(g,p,m,"beforeUpdate"),m&&Wt(m,!0),(j.innerHTML&&L.innerHTML==null||j.textContent&&L.textContent==null)&&u(I,""),P?he(p.dynamicChildren,P,I,m,O,_s(g,A),E):C||Z(p,g,I,null,m,O,_s(g,A),E,!1),R>0){if(R&16)Pe(I,j,L,m,A);else if(R&2&&j.class!==L.class&&i(I,"class",null,L.class,A),R&4&&i(I,"style",j.style,L.style,A),R&8){const Q=g.dynamicProps;for(let ae=0;ae<Q.length;ae++){const ne=Q[ae],De=j[ne],$e=L[ne];($e!==De||ne==="value")&&i(I,ne,De,$e,A,m)}}R&1&&p.children!==g.children&&u(I,g.children)}else!C&&P==null&&Pe(I,j,L,m,A);((K=L.onVnodeUpdated)||B)&&Fe(()=>{K&&it(K,m,g,p),B&&qt(g,p,m,"updated")},O)},he=(p,g,m,O,A,E,C)=>{for(let I=0;I<g.length;I++){const R=p[I],P=g[I],B=R.el&&(R.type===Be||!jr(R,P)||R.shapeFlag&198)?h(R.el):m;v(R,P,B,null,O,A,E,C,!0)}},Pe=(p,g,m,O,A)=>{if(g!==m){if(g!==se)for(const E in g)!Ur(E)&&!(E in m)&&i(p,E,g[E],null,A,O);for(const E in m){if(Ur(E))continue;const C=m[E],I=g[E];C!==I&&E!=="value"&&i(p,E,I,C,A,O)}"value"in m&&i(p,"value",g.value,m.value,A)}},Ue=(p,g,m,O,A,E,C,I,R)=>{const P=g.el=p?p.el:a(""),B=g.anchor=p?p.anchor:a("");let{patchFlag:j,dynamicChildren:L,slotScopeIds:K}=g;K&&(I=I?I.concat(K):K),p==null?(n(P,m,O),n(B,m,O),H(g.children||[],m,B,A,E,C,I,R)):j>0&&j&64&&L&&p.dynamicChildren?(he(p.dynamicChildren,L,m,A,E,C,I),(g.key!=null||A&&g===A.subTree)&&ul(p,g,!0)):Z(p,g,m,B,A,E,C,I,R)},je=(p,g,m,O,A,E,C,I,R)=>{g.slotScopeIds=I,p==null?g.shapeFlag&512?A.ctx.activate(g,m,O,C,R):Bt(g,m,O,A,E,C,R):kt(p,g,R)},Bt=(p,g,m,O,A,E,C)=>{const I=p.component=Ah(p,O,A);if(za(p)&&(I.ctx.renderer=U),Ph(I,!1,C),I.asyncDep){if(A&&A.registerDep(I,ue,C),!p.el){const R=I.subTree=be(Ft);w(null,R,g,m),p.placeholder=R.el}}else ue(I,p,g,m,A,E,C)},kt=(p,g,m)=>{const O=g.component=p.component;if(_h(p,g,m))if(O.asyncDep&&!O.asyncResolved){z(O,g,m);return}else O.next=g,O.update();else g.el=p.el,O.vnode=g},ue=(p,g,m,O,A,E,C)=>{const I=()=>{if(p.isMounted){let{next:j,bu:L,u:K,parent:Q,vnode:ae}=p;{const nt=hl(p);if(nt){j&&(j.el=ae.el,z(p,j,C)),nt.asyncDep.then(()=>{p.isUnmounted||I()});return}}let ne=j,De;Wt(p,!1),j?(j.el=ae.el,z(p,j,C)):j=ae,L&&En(L),(De=j.props&&j.props.onVnodeBeforeUpdate)&&it(De,Q,j,ae),Wt(p,!0);const $e=ro(p),rt=p.subTree;p.subTree=$e,v(rt,$e,h(rt.el),T(rt),p,A,E),j.el=$e.el,ne===null&&vh(p,$e.el),K&&Fe(K,A),(De=j.props&&j.props.onVnodeUpdated)&&Fe(()=>it(De,Q,j,ae),A)}else{let j;const{el:L,props:K}=g,{bm:Q,m:ae,parent:ne,root:De,type:$e}=p,rt=Br(g);Wt(p,!1),Q&&En(Q),!rt&&(j=K&&K.onVnodeBeforeMount)&&it(j,ne,g),Wt(p,!0);{De.ce&&De.ce._def.shadowRoot!==!1&&De.ce._injectChildStyle($e);const nt=p.subTree=ro(p);v(null,nt,m,O,p,A,E),g.el=nt.el}if(ae&&Fe(ae,A),!rt&&(j=K&&K.onVnodeMounted)){const nt=g;Fe(()=>it(j,ne,nt),A)}(g.shapeFlag&256||ne&&Br(ne.vnode)&&ne.vnode.shapeFlag&256)&&p.a&&Fe(p.a,A),p.isMounted=!0,g=m=O=null}};p.scope.on();const R=p.effect=new Ta(I);p.scope.off();const P=p.update=R.run.bind(R),B=p.job=R.runIfDirty.bind(R);B.i=p,B.id=p.uid,R.scheduler=()=>Ei(B),Wt(p,!0),P()},z=(p,g,m)=>{g.component=p;const O=p.vnode.props;p.vnode=g,p.next=null,eh(p,g.props,O,m),sh(p,g.children,m),Et(),Gi(p),Ot()},Z=(p,g,m,O,A,E,C,I,R=!1)=>{const P=p&&p.children,B=p?p.shapeFlag:0,j=g.children,{patchFlag:L,shapeFlag:K}=g;if(L>0){if(L&128){At(P,j,m,O,A,E,C,I,R);return}else if(L&256){ft(P,j,m,O,A,E,C,I,R);return}}K&8?(B&16&&Ge(P,A,E),j!==P&&u(m,j)):B&16?K&16?At(P,j,m,O,A,E,C,I,R):Ge(P,A,E,!0):(B&8&&u(m,""),K&16&&H(j,m,O,A,E,C,I,R))},ft=(p,g,m,O,A,E,C,I,R)=>{p=p||vr,g=g||vr;const P=p.length,B=g.length,j=Math.min(P,B);let L;for(L=0;L<j;L++){const K=g[L]=R?jt(g[L]):at(g[L]);v(p[L],K,m,null,A,E,C,I,R)}P>B?Ge(p,A,E,!0,!1,j):H(g,m,O,A,E,C,I,R,j)},At=(p,g,m,O,A,E,C,I,R)=>{let P=0;const B=g.length;let j=p.length-1,L=B-1;for(;P<=j&&P<=L;){const K=p[P],Q=g[P]=R?jt(g[P]):at(g[P]);if(jr(K,Q))v(K,Q,m,null,A,E,C,I,R);else break;P++}for(;P<=j&&P<=L;){const K=p[j],Q=g[L]=R?jt(g[L]):at(g[L]);if(jr(K,Q))v(K,Q,m,null,A,E,C,I,R);else break;j--,L--}if(P>j){if(P<=L){const K=L+1,Q=K<B?g[K].el:O;for(;P<=L;)v(null,g[P]=R?jt(g[P]):at(g[P]),m,Q,A,E,C,I,R),P++}}else if(P>L)for(;P<=j;)Ne(p[P],A,E,!0),P++;else{const K=P,Q=P,ae=new Map;for(P=Q;P<=L;P++){const Le=g[P]=R?jt(g[P]):at(g[P]);Le.key!=null&&ae.set(Le.key,P)}let ne,De=0;const $e=L-Q+1;let rt=!1,nt=0;const Cr=new Array($e);for(P=0;P<$e;P++)Cr[P]=0;for(P=K;P<=j;P++){const Le=p[P];if(De>=$e){Ne(Le,A,E,!0);continue}let st;if(Le.key!=null)st=ae.get(Le.key);else for(ne=Q;ne<=L;ne++)if(Cr[ne-Q]===0&&jr(Le,g[ne])){st=ne;break}st===void 0?Ne(Le,A,E,!0):(Cr[st-Q]=P+1,st>=nt?nt=st:rt=!0,v(Le,g[st],m,null,A,E,C,I,R),De++)}const Mi=rt?lh(Cr):vr;for(ne=Mi.length-1,P=$e-1;P>=0;P--){const Le=Q+P,st=g[Le],Bi=g[Le+1],Vi=Le+1<B?Bi.el||Bi.placeholder:O;Cr[P]===0?v(null,st,m,Vi,A,E,C,I,R):rt&&(ne<0||P!==Mi[ne]?tt(st,m,Vi,2):ne--)}}},tt=(p,g,m,O,A=null)=>{const{el:E,type:C,transition:I,children:R,shapeFlag:P}=p;if(P&6){tt(p.component.subTree,g,m,O);return}if(P&128){p.suspense.move(g,m,O);return}if(P&64){C.move(p,g,m,U);return}if(C===Be){n(E,g,m);for(let j=0;j<R.length;j++)tt(R[j],g,m,O);n(p.anchor,g,m);return}if(C===vs){S(p,g,m);return}if(O!==2&&P&1&&I)if(O===0)I.beforeEnter(E),n(E,g,m),Fe(()=>I.enter(E),A);else{const{leave:j,delayLeave:L,afterLeave:K}=I,Q=()=>{p.ctx.isUnmounted?s(E):n(E,g,m)},ae=()=>{E._isLeaving&&E[Ru](!0),j(E,()=>{Q(),K&&K()})};L?L(E,Q,ae):ae()}else n(E,g,m)},Ne=(p,g,m,O=!1,A=!1)=>{const{type:E,props:C,ref:I,children:R,dynamicChildren:P,shapeFlag:B,patchFlag:j,dirs:L,cacheIndex:K}=p;if(j===-2&&(A=!1),I!=null&&(Et(),Mr(I,null,m,p,!0),Ot()),K!=null&&(g.renderCache[K]=void 0),B&256){g.ctx.deactivate(p);return}const Q=B&1&&L,ae=!Br(p);let ne;if(ae&&(ne=C&&C.onVnodeBeforeUnmount)&&it(ne,g,p),B&6)Vt(p.component,m,O);else{if(B&128){p.suspense.unmount(m,O);return}Q&&qt(p,null,g,"beforeUnmount"),B&64?p.type.remove(p,g,m,U,O):P&&!P.hasOnce&&(E!==Be||j>0&&j&64)?Ge(P,g,m,!1,!0):(E===Be&&j&384||!A&&B&16)&&Ge(R,g,m),O&&ir(p)}(ae&&(ne=C&&C.onVnodeUnmounted)||Q)&&Fe(()=>{ne&&it(ne,g,p),Q&&qt(p,null,g,"unmounted")},m)},ir=p=>{const{type:g,el:m,anchor:O,transition:A}=p;if(g===Be){or(m,O);return}if(g===vs){k(p);return}const E=()=>{s(m),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(p.shapeFlag&1&&A&&!A.persisted){const{leave:C,delayLeave:I}=A,R=()=>C(m,E);I?I(p.el,E,R):R()}else E()},or=(p,g)=>{let m;for(;p!==g;)m=d(p),s(p),p=m;s(g)},Vt=(p,g,m)=>{const{bum:O,scope:A,job:E,subTree:C,um:I,m:R,a:P}=p;to(R),to(P),O&&En(O),A.stop(),E&&(E.flags|=8,Ne(C,p,g,m)),I&&Fe(I,g),Fe(()=>{p.isUnmounted=!0},g)},Ge=(p,g,m,O=!1,A=!1,E=0)=>{for(let C=E;C<p.length;C++)Ne(p[C],g,m,O,A)},T=p=>{if(p.shapeFlag&6)return T(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),m=g&&g[Au];return m?d(m):g};let D=!1;const x=(p,g,m)=>{p==null?g._vnode&&Ne(g._vnode,null,null,!0):v(g._vnode||null,p,g,null,null,null,m),g._vnode=p,D||(D=!0,Gi(),Wa(),D=!1)},U={p:v,um:Ne,m:tt,r:ir,mt:Bt,mc:H,pc:Z,pbc:he,n:T,o:t};return{render:x,hydrate:void 0,createApp:Qu(x)}}function _s({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Wt({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ah(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ul(t,e,r=!1){const n=t.children,s=e.children;if(q(n)&&q(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=jt(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&ul(o,a)),a.type===ss&&a.patchFlag!==-1&&(a.el=o.el),a.type===Ft&&!a.el&&(a.el=o.el)}}function lh(t){const e=t.slice(),r=[0];let n,s,i,o,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(s=r[r.length-1],t[s]<c){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<c?i=a+1:o=a;c<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function hl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:hl(e)}function to(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ch=Symbol.for("v-scx"),uh=()=>ct(ch);function qr(t,e,r){return dl(t,e,r)}function dl(t,e,r=se){const{immediate:n,deep:s,flush:i,once:o}=r,a=Ae({},r),l=e&&n||!e&&i!=="post";let c;if(en){if(i==="sync"){const f=uh();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=lt,f.resume=lt,f.pause=lt,f}}const u=ke;a.call=(f,_,v)=>ht(f,u,_,v);let h=!1;i==="post"?a.scheduler=f=>{Fe(f,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,_)=>{_?f():Ei(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=Su(t,e,a);return en&&(c?c.push(d):l&&d()),d}function hh(t,e,r){const n=this.proxy,s=ve(t)?t.includes(".")?fl(n,t):()=>n[t]:t.bind(n,n);let i;J(e)?i=e:(i=e.handler,r=e);const o=cn(this),a=dl(s,i.bind(n),r);return o(),a}function fl(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}const dh=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ze(e)}Modifiers`]||t[`${rr(e)}Modifiers`];function fh(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||se;let s=r;const i=e.startsWith("update:"),o=i&&dh(n,e.slice(7));o&&(o.trim&&(s=r.map(u=>ve(u)?u.trim():u)),o.number&&(s=r.map(Pn)));let a,l=n[a=hs(e)]||n[a=hs(ze(e))];!l&&i&&(l=n[a=hs(rr(e))]),l&&ht(l,t,6,s);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ht(c,t,6,s)}}const ph=new WeakMap;function pl(t,e,r=!1){const n=r?ph:e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!J(t)){const l=c=>{const u=pl(c,e,!0);u&&(a=!0,Ae(o,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(oe(t)&&n.set(t,null),null):(q(i)?i.forEach(l=>o[l]=null):Ae(o,i),oe(t)&&n.set(t,o),o)}function ns(t,e){return!t||!Gn(e)?!1:(e=e.slice(2).replace(/Once$/,""),te(t,e[0].toLowerCase()+e.slice(1))||te(t,rr(e))||te(t,e))}function ro(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:_,inheritAttrs:v}=t,y=jn(t);let w,b;try{if(r.shapeFlag&4){const k=s||n,N=k;w=at(c.call(N,k,u,h,f,d,_)),b=a}else{const k=e;w=at(k.length>1?k(h,{attrs:a,slots:o,emit:l}):k(h,null)),b=e.props?a:gh(a)}}catch(k){Wr.length=0,es(k,t,1),w=be(Ft)}let S=w;if(b&&v!==!1){const k=Object.keys(b),{shapeFlag:N}=S;k.length&&N&7&&(i&&k.some(hi)&&(b=mh(b,i)),S=Or(S,b,!1,!0))}return r.dirs&&(S=Or(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&Oi(S,r.transition),w=S,jn(y),w}const gh=t=>{let e;for(const r in t)(r==="class"||r==="style"||Gn(r))&&((e||(e={}))[r]=t[r]);return e},mh=(t,e)=>{const r={};for(const n in t)(!hi(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function _h(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?no(n,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==n[d]&&!ns(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?no(n,o,c):!0:!!o;return!1}function no(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!ns(r,i))return!0}return!1}function vh({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const gl=t=>t.__isSuspense;function yh(t,e){e&&e.pendingBranch?q(t)?e.effects.push(...t):e.effects.push(t):Tu(t)}const Be=Symbol.for("v-fgt"),ss=Symbol.for("v-txt"),Ft=Symbol.for("v-cmt"),vs=Symbol.for("v-stc"),Wr=[];let Ke=null;function ie(t=!1){Wr.push(Ke=t?null:[])}function wh(){Wr.pop(),Ke=Wr[Wr.length-1]||null}let Zr=1;function Un(t,e=!1){Zr+=t,t<0&&Ke&&e&&(Ke.hasOnce=!0)}function ml(t){return t.dynamicChildren=Zr>0?Ke||vr:null,wh(),Zr>0&&Ke&&Ke.push(t),t}function fe(t,e,r,n,s,i){return ml(re(t,e,r,n,s,i,!0))}function Tn(t,e,r,n,s){return ml(be(t,e,r,n,s,!0))}function Ln(t){return t?t.__v_isVNode===!0:!1}function jr(t,e){return t.type===e.type&&t.key===e.key}const _l=({key:t})=>t??null,kn=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?ve(t)||me(t)||J(t)?{i:He,r:t,k:e,f:!!r}:t:null);function re(t,e=null,r=null,n=0,s=null,i=t===Be?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&_l(e),ref:e&&kn(e),scopeId:Ka,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:He};return a?(Ai(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=ve(r)?8:16),Zr>0&&!o&&Ke&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ke.push(l),l}const be=bh;function bh(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===Vu)&&(t=Ft),Ln(t)){const a=Or(t,e,!0);return r&&Ai(a,r),Zr>0&&!i&&Ke&&(a.shapeFlag&6?Ke[Ke.indexOf(t)]=a:Ke.push(a)),a.patchFlag=-2,a}if(jh(t)&&(t=t.__vccOpts),e){e=Sh(e);let{class:a,style:l}=e;a&&!ve(a)&&(e.class=St(a)),oe(l)&&(bi(l)&&!q(l)&&(l=Ae({},l)),e.style=pi(l))}const o=ve(t)?1:gl(t)?128:Pu(t)?64:oe(t)?4:J(t)?2:0;return re(t,e,r,n,s,o,i,!0)}function Sh(t){return t?bi(t)||sl(t)?Ae({},t):t:null}function Or(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?Oh(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&_l(c),ref:e&&e.ref?r&&i?q(i)?i.concat(kn(e)):[i,kn(e)]:kn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Be?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Or(t.ssContent),ssFallback:t.ssFallback&&Or(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Oi(u,l.clone(u)),u}function Eh(t=" ",e=0){return be(ss,null,t,e)}function bt(t="",e=!1){return e?(ie(),Tn(Ft,null,t)):be(Ft,null,t)}function at(t){return t==null||typeof t=="boolean"?be(Ft):q(t)?be(Be,null,t.slice()):Ln(t)?jt(t):be(ss,null,String(t))}function jt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Or(t)}function Ai(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(q(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),Ai(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!sl(e)?e._ctx=He:s===3&&He&&(He.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else J(e)?(e={default:e,_ctx:He},r=32):(e=String(e),n&64?(r=16,e=[Eh(e)]):r=8);t.children=e,t.shapeFlag|=r}function Oh(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=St([e.class,n.class]));else if(s==="style")e.style=pi([e.style,n.style]);else if(Gn(s)){const i=e[s],o=n[s];o&&i!==o&&!(q(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function it(t,e,r,n=null){ht(t,e,7,[r,n])}const Th=tl();let kh=0;function Ah(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||Th,i={uid:kh++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Sa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ol(n,s),emitsOptions:pl(n,s),emit:null,emitted:null,propsDefaults:se,inheritAttrs:n.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=fh.bind(null,i),t.ce&&t.ce(i),i}let ke=null;const vl=()=>ke||He;let Fn,qs;{const t=Qn(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Fn=e("__VUE_INSTANCE_SETTERS__",r=>ke=r),qs=e("__VUE_SSR_SETTERS__",r=>en=r)}const cn=t=>{const e=ke;return Fn(t),t.scope.on(),()=>{t.scope.off(),Fn(e)}},so=()=>{ke&&ke.scope.off(),Fn(null)};function yl(t){return t.vnode.shapeFlag&4}let en=!1;function Ph(t,e=!1,r=!1){e&&qs(e);const{props:n,children:s}=t.vnode,i=yl(t);Zu(t,n,i,e),nh(t,s,r||e);const o=i?Rh(t,e):void 0;return e&&qs(!1),o}function Rh(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Wu);const{setup:n}=r;if(n){Et();const s=t.setupContext=n.length>1?Ch(t):null,i=cn(t),o=ln(n,t,0,[t.props,s]),a=ga(o);if(Ot(),i(),(a||t.sp)&&!Br(t)&&Ja(t),a){if(o.then(so,so),e)return o.then(l=>{io(t,l)}).catch(l=>{es(l,t,0)});t.asyncDep=o}else io(t,o)}else wl(t)}function io(t,e,r){J(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:oe(e)&&(t.setupState=Ba(e)),wl(t)}function wl(t,e,r){const n=t.type;t.render||(t.render=n.render||lt);{const s=cn(t);Et();try{Hu(t)}finally{Ot(),s()}}}const Ih={get(t,e){return Te(t,"get",""),t[e]}};function Ch(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Ih),slots:t.slots,emit:t.emit,expose:e}}function is(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ba(Si(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Vr)return Vr[r](t)},has(e,r){return r in e||r in Vr}})):t.proxy}function xh(t,e=!0){return J(t)?t.displayName||t.name:t.name||e&&t.__name}function jh(t){return J(t)&&"__vccOpts"in t}const ge=(t,e)=>wu(t,e,en);function bl(t,e,r){try{Un(-1);const n=arguments.length;return n===2?oe(e)&&!q(e)?Ln(e)?be(t,null,[e]):be(t,e):be(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Ln(r)&&(r=[r]),be(t,e,r))}finally{Un(1)}}const Nh="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ws;const oo=typeof window<"u"&&window.trustedTypes;if(oo)try{Ws=oo.createPolicy("vue",{createHTML:t=>t})}catch{}const Sl=Ws?t=>Ws.createHTML(t):t=>t,Dh="http://www.w3.org/2000/svg",$h="http://www.w3.org/1998/Math/MathML",mt=typeof document<"u"?document:null,ao=mt&&mt.createElement("template"),Uh={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?mt.createElementNS(Dh,t):e==="mathml"?mt.createElementNS($h,t):r?mt.createElement(t,{is:r}):mt.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>mt.createTextNode(t),createComment:t=>mt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>mt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{ao.innerHTML=Sl(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=ao.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Lh=Symbol("_vtc");function Fh(t,e,r){const n=t[Lh];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const lo=Symbol("_vod"),Mh=Symbol("_vsh"),Bh=Symbol(""),Vh=/(?:^|;)\s*display\s*:/;function qh(t,e,r){const n=t.style,s=ve(r);let i=!1;if(r&&!s){if(e)if(ve(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&An(n,a,"")}else for(const o in e)r[o]==null&&An(n,o,"");for(const o in r)o==="display"&&(i=!0),An(n,o,r[o])}else if(s){if(e!==r){const o=n[Bh];o&&(r+=";"+o),n.cssText=r,i=Vh.test(r)}}else e&&t.removeAttribute("style");lo in t&&(t[lo]=i?n.display:"",t[Mh]&&(n.display="none"))}const co=/\s*!important$/;function An(t,e,r){if(q(r))r.forEach(n=>An(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=Wh(t,e);co.test(r)?t.setProperty(rr(n),r.replace(co,""),"important"):t[n]=r}}const uo=["Webkit","Moz","ms"],ys={};function Wh(t,e){const r=ys[e];if(r)return r;let n=ze(e);if(n!=="filter"&&n in t)return ys[e]=n;n=Yn(n);for(let s=0;s<uo.length;s++){const i=uo[s]+n;if(i in t)return ys[e]=i}return e}const ho="http://www.w3.org/1999/xlink";function fo(t,e,r,n,s,i=Wc(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(ho,e.slice(6,e.length)):t.setAttributeNS(ho,e,r):r==null||i&&!ya(r)?t.removeAttribute(e):t.setAttribute(e,i?"":ut(r)?String(r):r)}function po(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Sl(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=ya(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function zt(t,e,r,n){t.addEventListener(e,r,n)}function Hh(t,e,r,n){t.removeEventListener(e,r,n)}const go=Symbol("_vei");function Kh(t,e,r,n,s=null){const i=t[go]||(t[go]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=Gh(e);if(n){const c=i[e]=Yh(n,s);zt(t,a,c,l)}else o&&(Hh(t,a,o,l),i[e]=void 0)}}const mo=/(?:Once|Passive|Capture)$/;function Gh(t){let e;if(mo.test(t)){e={};let n;for(;n=t.match(mo);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):rr(t.slice(2)),e]}let ws=0;const Jh=Promise.resolve(),zh=()=>ws||(Jh.then(()=>ws=0),ws=Date.now());function Yh(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;ht(Qh(n,r.value),e,5,[n])};return r.value=t,r.attached=zh(),r}function Qh(t,e){if(q(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const _o=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Xh=(t,e,r,n,s,i)=>{const o=s==="svg";e==="class"?Fh(t,n,o):e==="style"?qh(t,r,n):Gn(e)?hi(e)||Kh(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Zh(t,e,n,o))?(po(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&fo(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ve(n))?po(t,ze(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),fo(t,e,n,o))};function Zh(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&_o(e)&&J(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return _o(e)&&ve(r)?!1:e in t}const Mn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return q(e)?r=>En(e,r):e};function ed(t){t.target.composing=!0}function vo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Sr=Symbol("_assign"),f_={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t[Sr]=Mn(s);const i=n||s.props&&s.props.type==="number";zt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=Pn(a)),t[Sr](a)}),r&&zt(t,"change",()=>{t.value=t.value.trim()}),e||(zt(t,"compositionstart",ed),zt(t,"compositionend",vo),zt(t,"change",vo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:s,number:i}},o){if(t[Sr]=Mn(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Pn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||s&&t.value.trim()===l)||(t.value=l))}},p_={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const s=Jn(e);zt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?Pn(Bn(o)):Bn(o));t[Sr](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,ts(()=>{t._assigning=!1})}),t[Sr]=Mn(n)},mounted(t,{value:e}){yo(t,e)},beforeUpdate(t,e,r){t[Sr]=Mn(r)},updated(t,{value:e}){t._assigning||yo(t,e)}};function yo(t,e){const r=t.multiple,n=q(e);if(!(r&&!n&&!Jn(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=Bn(o);if(r)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Kc(e,a)>-1}else o.selected=e.has(a);else if(Xn(Bn(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Bn(t){return"_value"in t?t._value:t.value}const td=["ctrl","shift","alt","meta"],rd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>td.some(r=>t[`${r}Key`]&&!e.includes(r))},g_=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=rd[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},nd=Ae({patchProp:Xh},Uh);let wo;function sd(){return wo||(wo=ih(nd))}const id=((...t)=>{const e=sd().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=ad(n);if(!s)return;const i=e._component;!J(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,od(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function od(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ad(t){return ve(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let El;const os=t=>El=t,Ol=Symbol();function Hs(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Hr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Hr||(Hr={}));function ld(){const t=Ea(!0),e=t.run(()=>xe({}));let r=[],n=[];const s=Si({install(i){os(s),s._a=i,i.provide(Ol,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const Tl=()=>{};function bo(t,e,r,n=Tl){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&Oa()&&Gc(s),s}function lr(t,...e){t.slice().forEach(r=>{r(...e)})}const cd=t=>t(),So=Symbol(),bs=Symbol();function Ks(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];Hs(s)&&Hs(n)&&t.hasOwnProperty(r)&&!me(n)&&!Ut(n)?t[r]=Ks(s,n):t[r]=n}return t}const ud=Symbol();function hd(t){return!Hs(t)||!Object.prototype.hasOwnProperty.call(t,ud)}const{assign:It}=Object;function dd(t){return!!(me(t)&&t.effect)}function fd(t,e,r,n){const{state:s,actions:i,getters:o}=e,a=r.state.value[t];let l;function c(){a||(r.state.value[t]=s?s():{});const u=mu(r.state.value[t]);return It(u,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=Si(ge(()=>{os(r);const f=r._s.get(t);return o[d].call(f,f)})),h),{}))}return l=kl(t,c,e,r,n,!0),l}function kl(t,e,r={},n,s,i){let o;const a=It({actions:{}},r),l={deep:!0};let c,u,h=[],d=[],f;const _=n.state.value[t];!i&&!_&&(n.state.value[t]={}),xe({});let v;function y(H){let W;c=u=!1,typeof H=="function"?(H(n.state.value[t]),W={type:Hr.patchFunction,storeId:t,events:f}):(Ks(n.state.value[t],H),W={type:Hr.patchObject,payload:H,storeId:t,events:f});const he=v=Symbol();ts().then(()=>{v===he&&(c=!0)}),u=!0,lr(h,W,n.state.value[t])}const w=i?function(){const{state:W}=r,he=W?W():{};this.$patch(Pe=>{It(Pe,he)})}:Tl;function b(){o.stop(),h=[],d=[],n._s.delete(t)}const S=(H,W="")=>{if(So in H)return H[bs]=W,H;const he=function(){os(n);const Pe=Array.from(arguments),Ue=[],je=[];function Bt(z){Ue.push(z)}function kt(z){je.push(z)}lr(d,{args:Pe,name:he[bs],store:N,after:Bt,onError:kt});let ue;try{ue=H.apply(this&&this.$id===t?this:N,Pe)}catch(z){throw lr(je,z),z}return ue instanceof Promise?ue.then(z=>(lr(Ue,z),z)).catch(z=>(lr(je,z),Promise.reject(z))):(lr(Ue,ue),ue)};return he[So]=!0,he[bs]=W,he},k={_p:n,$id:t,$onAction:bo.bind(null,d),$patch:y,$reset:w,$subscribe(H,W={}){const he=bo(h,H,W.detached,()=>Pe()),Pe=o.run(()=>qr(()=>n.state.value[t],Ue=>{(W.flush==="sync"?u:c)&&H({storeId:t,type:Hr.direct,events:f},Ue)},It({},l,W)));return he},$dispose:b},N=an(k);n._s.set(t,N);const V=(n._a&&n._a.runWithContext||cd)(()=>n._e.run(()=>(o=Ea()).run(()=>e({action:S}))));for(const H in V){const W=V[H];if(me(W)&&!dd(W)||Ut(W))i||(_&&hd(W)&&(me(W)?W.value=_[H]:Ks(W,_[H])),n.state.value[t][H]=W);else if(typeof W=="function"){const he=S(W,H);V[H]=he,a.actions[H]=W}}return It(N,V),It(X(N),V),Object.defineProperty(N,"$state",{get:()=>n.state.value[t],set:H=>{y(W=>{It(W,H)})}}),n._p.forEach(H=>{It(N,o.run(()=>H({store:N,app:n._a,pinia:n,options:a})))}),_&&i&&r.hydrate&&r.hydrate(N.$state,_),c=!0,u=!0,N}/*! #__NO_SIDE_EFFECTS__ */function Al(t,e,r){let n;const s=typeof e=="function";n=s?r:e;function i(o,a){const l=Xu();return o=o||(l?ct(Ol,null):null),o&&os(o),o=El,o._s.has(t)||(s?kl(t,e,n,o):fd(t,n,o)),o._s.get(t)}return i.$id=t,i}const dt=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},pd={name:"App"},gd={id:"app"},md={class:"container"};function _d(t,e,r,n,s,i){const o=wt("router-view");return ie(),fe("div",gd,[re("div",md,[be(o)])])}const vd=dt(pd,[["render",_d]]),yd="modulepreload",wd=function(t){return"/rss-agg/"+t},Eo={},nr=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=o(r.map(c=>{if(c=wd(c),c in Eo)return;Eo[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":yd,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,_)=>{d.addEventListener("load",f),d.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const gr=typeof document<"u";function Pl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function bd(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Pl(t.default)}const ee=Object.assign;function Ss(t,e){const r={};for(const n in e){const s=e[n];r[n]=et(s)?s.map(t):t(s)}return r}const Kr=()=>{},et=Array.isArray;function Oo(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}const Rl=/#/g,Sd=/&/g,Ed=/\//g,Od=/=/g,Td=/\?/g,Il=/\+/g,kd=/%5B/g,Ad=/%5D/g,Cl=/%5E/g,Pd=/%60/g,xl=/%7B/g,Rd=/%7C/g,jl=/%7D/g,Id=/%20/g;function Pi(t){return t==null?"":encodeURI(""+t).replace(Rd,"|").replace(kd,"[").replace(Ad,"]")}function Cd(t){return Pi(t).replace(xl,"{").replace(jl,"}").replace(Cl,"^")}function Gs(t){return Pi(t).replace(Il,"%2B").replace(Id,"+").replace(Rl,"%23").replace(Sd,"%26").replace(Pd,"`").replace(xl,"{").replace(jl,"}").replace(Cl,"^")}function xd(t){return Gs(t).replace(Od,"%3D")}function jd(t){return Pi(t).replace(Rl,"%23").replace(Td,"%3F")}function Nd(t){return jd(t).replace(Ed,"%2F")}function tn(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Dd=/\/$/,$d=t=>t.replace(Dd,"");function Es(t,e,r="/"){let n,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=e.slice(0,l),i=e.slice(l,a>0?a:e.length),s=t(i.slice(1))),a>=0&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=Md(n??e,r),{fullPath:n+i+o,path:n,query:s,hash:tn(o)}}function Ud(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function To(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ld(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&Tr(e.matched[n],r.matched[s])&&Nl(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Tr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Nl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Fd(t[r],e[r]))return!1;return!0}function Fd(t,e){return et(t)?ko(t,e):et(e)?ko(e,t):t===e}function ko(t,e){return et(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function Md(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Pt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Js=(function(t){return t.pop="pop",t.push="push",t})({}),Os=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Bd(t){if(!t)if(gr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),$d(t)}const Vd=/^[^#]+#/;function qd(t,e){return t.replace(Vd,"#")+e}function Wd(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const as=()=>({left:window.scrollX,top:window.scrollY});function Hd(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=Wd(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ao(t,e){return(history.state?history.state.position-e:-1)+t}const zs=new Map;function Kd(t,e){zs.set(t,e)}function Gd(t){const e=zs.get(t);return zs.delete(t),e}function Jd(t){return typeof t=="string"||t&&typeof t=="object"}function Dl(t){return typeof t=="string"||typeof t=="symbol"}let pe=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const $l=Symbol("");pe.MATCHER_NOT_FOUND+"",pe.NAVIGATION_GUARD_REDIRECT+"",pe.NAVIGATION_ABORTED+"",pe.NAVIGATION_CANCELLED+"",pe.NAVIGATION_DUPLICATED+"";function kr(t,e){return ee(new Error,{type:t,[$l]:!0},e)}function gt(t,e){return t instanceof Error&&$l in t&&(e==null||!!(t.type&e))}const zd=["params","query","hash"];function Yd(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of zd)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function Qd(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const s=r[n].replace(Il," "),i=s.indexOf("="),o=tn(i<0?s:s.slice(0,i)),a=i<0?null:tn(s.slice(i+1));if(o in e){let l=e[o];et(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function Po(t){let e="";for(let r in t){const n=t[r];if(r=xd(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(et(n)?n.map(s=>s&&Gs(s)):[n&&Gs(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function Xd(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=et(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const Zd=Symbol(""),Ro=Symbol(""),Ri=Symbol(""),Ul=Symbol(""),Ys=Symbol("");function Nr(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Nt(t,e,r,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(kr(pe.NAVIGATION_ABORTED,{from:r,to:e})):d instanceof Error?l(d):Jd(d)?l(kr(pe.NAVIGATION_GUARD_REDIRECT,{from:e,to:d})):(o&&n.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>t.call(n&&n.instances[s],e,r,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function Ts(t,e,r,n,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Pl(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Nt(c,r,n,o,a,s))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=bd(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&Nt(d,r,n,o,a,s)()}))}}return i}function ef(t,e){const r=[],n=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Tr(c,a))?n.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Tr(c,l))||s.push(l))}return[r,n,s]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let tf=()=>location.protocol+"//"+location.host;function Ll(t,e){const{pathname:r,search:n,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,a=s.slice(o);return a[0]!=="/"&&(a="/"+a),To(a,"")}return To(r,t)+n+s}function rf(t,e,r,n){let s=[],i=[],o=null;const a=({state:d})=>{const f=Ll(t,location),_=r.value,v=e.value;let y=0;if(d){if(r.value=f,e.value=d,o&&o===_){o=null;return}y=v?d.position-v.position:0}else n(f);s.forEach(w=>{w(r.value,_,{delta:y,type:Js.pop,direction:y?y>0?Os.forward:Os.back:Os.unknown})})};function l(){o=r.value}function c(d){s.push(d);const f=()=>{const _=s.indexOf(d);_>-1&&s.splice(_,1)};return i.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(ee({},d.state,{scroll:as()}),"")}}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function Io(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?as():null}}function nf(t){const{history:e,location:r}=window,n={value:Ll(t,r)},s={value:e.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),d=h>-1?(r.host&&document.querySelector("base")?t:t.slice(h))+l:tf()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),s.value=c}catch(f){console.error(f),r[u?"replace":"assign"](d)}}function o(l,c){i(l,ee({},e.state,Io(s.value.back,l,s.value.forward,!0),c,{position:s.value.position}),!0),n.value=l}function a(l,c){const u=ee({},s.value,e.state,{forward:l,scroll:as()});i(u.current,u,!0),i(l,ee({},Io(n.value,l,null),{position:u.position+1},c),!1),n.value=l}return{location:n,state:s,push:a,replace:o}}function sf(t){t=Bd(t);const e=nf(t),r=rf(t,e.state,e.location,e.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=ee({location:"",base:t,go:n,createHref:qd.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}let Xt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var ye=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(ye||{});const of={type:Xt.Static,value:""},af=/[a-zA-Z0-9_]/;function lf(t){if(!t)return[[]];if(t==="/")return[[of]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${r})/"${c}": ${f}`)}let r=ye.Static,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(r===ye.Static?i.push({type:Xt.Static,value:c}):r===ye.Param||r===ye.ParamRegExp||r===ye.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Xt.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==ye.ParamRegExp){n=r,r=ye.EscapeNext;continue}switch(r){case ye.Static:l==="/"?(c&&h(),o()):l===":"?(h(),r=ye.Param):d();break;case ye.EscapeNext:d(),r=n;break;case ye.Param:l==="("?r=ye.ParamRegExp:af.test(l)?d():(h(),r=ye.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case ye.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=ye.ParamRegExpEnd:u+=l;break;case ye.ParamRegExpEnd:h(),r=ye.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===ye.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}const Co="[^/]+?",cf={sensitive:!1,strict:!1,start:!0,end:!0};var Ie=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Ie||{});const uf=/[.+*?^${}()[\]/\\]/g;function hf(t,e){const r=ee({},cf,e),n=[];let s=r.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[Ie.Root];r.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=Ie.Segment+(r.sensitive?Ie.BonusCaseSensitive:0);if(d.type===Xt.Static)h||(s+="/"),s+=d.value.replace(uf,"\\$&"),f+=Ie.Static;else if(d.type===Xt.Param){const{value:_,repeatable:v,optional:y,regexp:w}=d;i.push({name:_,repeatable:v,optional:y});const b=w||Co;if(b!==Co){f+=Ie.BonusCustomRegExp;try{`${b}`}catch(k){throw new Error(`Invalid custom RegExp for param "${_}" (${b}): `+k.message)}}let S=v?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||(S=y&&c.length<2?`(?:/${S})`:"/"+S),y&&(S+="?"),s+=S,f+=Ie.Dynamic,y&&(f+=Ie.BonusOptional),v&&(f+=Ie.BonusRepeatable),b===".*"&&(f+=Ie.BonusWildcard)}u.push(f)}n.push(u)}if(r.strict&&r.end){const c=n.length-1;n[c][n[c].length-1]+=Ie.BonusStrict}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",_=i[d-1];h[_.name]=f&&_.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===Xt.Static)u+=f.value;else if(f.type===Xt.Param){const{value:_,repeatable:v,optional:y}=f,w=_ in c?c[_]:"";if(et(w)&&!v)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const b=et(w)?w.join("/"):w;if(!b)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);u+=b}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function df(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===Ie.Static+Ie.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Ie.Static+Ie.Segment?1:-1:0}function Fl(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const i=df(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(xo(n))return 1;if(xo(s))return-1}return s.length-n.length}function xo(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ff={strict:!1,end:!0,sensitive:!1};function pf(t,e,r){const n=hf(lf(t.path),r),s=ee(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function gf(t,e){const r=[],n=new Map;e=Oo(ff,e);function s(h){return n.get(h)}function i(h,d,f){const _=!f,v=No(h);v.aliasOf=f&&f.record;const y=Oo(e,h),w=[v];if("alias"in h){const k=typeof h.alias=="string"?[h.alias]:h.alias;for(const N of k)w.push(No(ee({},v,{components:f?f.record.components:v.components,path:N,aliasOf:f?f.record:v})))}let b,S;for(const k of w){const{path:N}=k;if(d&&N[0]!=="/"){const M=d.record.path,V=M[M.length-1]==="/"?"":"/";k.path=d.record.path+(N&&V+N)}if(b=pf(k,d,y),f?f.alias.push(b):(S=S||b,S!==b&&S.alias.push(b),_&&h.name&&!Do(b)&&o(h.name)),Ml(b)&&l(b),v.children){const M=v.children;for(let V=0;V<M.length;V++)i(M[V],b,f&&f.children[V])}f=f||b}return S?()=>{o(S)}:Kr}function o(h){if(Dl(h)){const d=n.get(h);d&&(n.delete(h),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(h);d>-1&&(r.splice(d,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return r}function l(h){const d=vf(h,r);r.splice(d,0,h),h.record.name&&!Do(h)&&n.set(h.record.name,h)}function c(h,d){let f,_={},v,y;if("name"in h&&h.name){if(f=n.get(h.name),!f)throw kr(pe.MATCHER_NOT_FOUND,{location:h});y=f.record.name,_=ee(jo(d.params,f.keys.filter(S=>!S.optional).concat(f.parent?f.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),h.params&&jo(h.params,f.keys.map(S=>S.name))),v=f.stringify(_)}else if(h.path!=null)v=h.path,f=r.find(S=>S.re.test(v)),f&&(_=f.parse(v),y=f.record.name);else{if(f=d.name?n.get(d.name):r.find(S=>S.re.test(d.path)),!f)throw kr(pe.MATCHER_NOT_FOUND,{location:h,currentLocation:d});y=f.record.name,_=ee({},d.params,h.params),v=f.stringify(_)}const w=[];let b=f;for(;b;)w.unshift(b.record),b=b.parent;return{name:y,path:v,params:_,matched:w,meta:_f(w)}}t.forEach(h=>i(h));function u(){r.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function jo(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function No(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:mf(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function mf(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function Do(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _f(t){return t.reduce((e,r)=>ee(e,r.meta),{})}function vf(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;Fl(t,e[i])<0?n=i:r=i+1}const s=yf(t);return s&&(n=e.lastIndexOf(s,n-1)),n}function yf(t){let e=t;for(;e=e.parent;)if(Ml(e)&&Fl(t,e)===0)return e}function Ml({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function $o(t){const e=ct(Ri),r=ct(Ul),n=ge(()=>{const l=wr(t.to);return e.resolve(l)}),s=ge(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],h=r.matched;if(!u||!h.length)return-1;const d=h.findIndex(Tr.bind(null,u));if(d>-1)return d;const f=Uo(l[c-2]);return c>1&&Uo(u)===f&&h[h.length-1].path!==f?h.findIndex(Tr.bind(null,l[c-2])):d}),i=ge(()=>s.value>-1&&Of(r.params,n.value.params)),o=ge(()=>s.value>-1&&s.value===r.matched.length-1&&Nl(r.params,n.value.params));function a(l={}){if(Ef(l)){const c=e[wr(t.replace)?"replace":"push"](wr(t.to)).catch(Kr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:ge(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function wf(t){return t.length===1?t[0]:t}const bf=Ga({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:$o,setup(t,{slots:e}){const r=an($o(t)),{options:n}=ct(Ri),s=ge(()=>({[Lo(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Lo(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&wf(e.default(r));return t.custom?i:bl("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),Sf=bf;function Ef(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Of(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!et(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function Uo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Lo=(t,e,r)=>t??e??r,Tf=Ga({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=ct(Ys),s=ge(()=>t.route||n.value),i=ct(Ro,0),o=ge(()=>{let c=wr(i);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=ge(()=>s.value.matched[o.value]);On(Ro,ge(()=>o.value+1)),On(Zd,a),On(Ys,s);const l=xe();return qr(()=>[l.value,a.value,t.name],([c,u,h],[d,f,_])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Tr(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return Fo(r.default,{Component:d,route:c});const f=h.props[u],_=f?f===!0?c.params:typeof f=="function"?f(c):f:null,y=bl(d,ee({},_,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Fo(r.default,{Component:y,route:c})||y}}});function Fo(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const kf=Tf;function Af(t){const e=gf(t.routes,t),r=t.parseQuery||Qd,n=t.stringifyQuery||Po,s=t.history,i=Nr(),o=Nr(),a=Nr(),l=fu(Pt);let c=Pt;gr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ss.bind(null,T=>""+T),h=Ss.bind(null,Nd),d=Ss.bind(null,tn);function f(T,D){let x,U;return Dl(T)?(x=e.getRecordMatcher(T),U=D):U=T,e.addRoute(U,x)}function _(T){const D=e.getRecordMatcher(T);D&&e.removeRoute(D)}function v(){return e.getRoutes().map(T=>T.record)}function y(T){return!!e.getRecordMatcher(T)}function w(T,D){if(D=ee({},D||l.value),typeof T=="string"){const m=Es(r,T,D.path),O=e.resolve({path:m.path},D),A=s.createHref(m.fullPath);return ee(m,O,{params:d(O.params),hash:tn(m.hash),redirectedFrom:void 0,href:A})}let x;if(T.path!=null)x=ee({},T,{path:Es(r,T.path,D.path).path});else{const m=ee({},T.params);for(const O in m)m[O]==null&&delete m[O];x=ee({},T,{params:h(m)}),D.params=h(D.params)}const U=e.resolve(x,D),Y=T.hash||"";U.params=u(d(U.params));const p=Ud(n,ee({},T,{hash:Cd(Y),path:U.path})),g=s.createHref(p);return ee({fullPath:p,hash:Y,query:n===Po?Xd(T.query):T.query||{}},U,{redirectedFrom:void 0,href:g})}function b(T){return typeof T=="string"?Es(r,T,l.value.path):ee({},T)}function S(T,D){if(c!==T)return kr(pe.NAVIGATION_CANCELLED,{from:D,to:T})}function k(T){return V(T)}function N(T){return k(ee(b(T),{replace:!0}))}function M(T,D){const x=T.matched[T.matched.length-1];if(x&&x.redirect){const{redirect:U}=x;let Y=typeof U=="function"?U(T,D):U;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=b(Y):{path:Y},Y.params={}),ee({query:T.query,hash:T.hash,params:Y.path!=null?{}:T.params},Y)}}function V(T,D){const x=c=w(T),U=l.value,Y=T.state,p=T.force,g=T.replace===!0,m=M(x,U);if(m)return V(ee(b(m),{state:typeof m=="object"?ee({},Y,m.state):Y,force:p,replace:g}),D||x);const O=x;O.redirectedFrom=D;let A;return!p&&Ld(n,U,x)&&(A=kr(pe.NAVIGATION_DUPLICATED,{to:O,from:U}),tt(U,U,!0,!1)),(A?Promise.resolve(A):he(O,U)).catch(E=>gt(E)?gt(E,pe.NAVIGATION_GUARD_REDIRECT)?E:At(E):Z(E,O,U)).then(E=>{if(E){if(gt(E,pe.NAVIGATION_GUARD_REDIRECT))return V(ee({replace:g},b(E.to),{state:typeof E.to=="object"?ee({},Y,E.to.state):Y,force:p}),D||O)}else E=Ue(O,U,!0,g,Y);return Pe(O,U,E),E})}function H(T,D){const x=S(T,D);return x?Promise.reject(x):Promise.resolve()}function W(T){const D=or.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(T):T()}function he(T,D){let x;const[U,Y,p]=ef(T,D);x=Ts(U.reverse(),"beforeRouteLeave",T,D);for(const m of U)m.leaveGuards.forEach(O=>{x.push(Nt(O,T,D))});const g=H.bind(null,T,D);return x.push(g),Ge(x).then(()=>{x=[];for(const m of i.list())x.push(Nt(m,T,D));return x.push(g),Ge(x)}).then(()=>{x=Ts(Y,"beforeRouteUpdate",T,D);for(const m of Y)m.updateGuards.forEach(O=>{x.push(Nt(O,T,D))});return x.push(g),Ge(x)}).then(()=>{x=[];for(const m of p)if(m.beforeEnter)if(et(m.beforeEnter))for(const O of m.beforeEnter)x.push(Nt(O,T,D));else x.push(Nt(m.beforeEnter,T,D));return x.push(g),Ge(x)}).then(()=>(T.matched.forEach(m=>m.enterCallbacks={}),x=Ts(p,"beforeRouteEnter",T,D,W),x.push(g),Ge(x))).then(()=>{x=[];for(const m of o.list())x.push(Nt(m,T,D));return x.push(g),Ge(x)}).catch(m=>gt(m,pe.NAVIGATION_CANCELLED)?m:Promise.reject(m))}function Pe(T,D,x){a.list().forEach(U=>W(()=>U(T,D,x)))}function Ue(T,D,x,U,Y){const p=S(T,D);if(p)return p;const g=D===Pt,m=gr?history.state:{};x&&(U||g?s.replace(T.fullPath,ee({scroll:g&&m&&m.scroll},Y)):s.push(T.fullPath,Y)),l.value=T,tt(T,D,x,g),At()}let je;function Bt(){je||(je=s.listen((T,D,x)=>{if(!Vt.listening)return;const U=w(T),Y=M(U,Vt.currentRoute.value);if(Y){V(ee(Y,{replace:!0,force:!0}),U).catch(Kr);return}c=U;const p=l.value;gr&&Kd(Ao(p.fullPath,x.delta),as()),he(U,p).catch(g=>gt(g,pe.NAVIGATION_ABORTED|pe.NAVIGATION_CANCELLED)?g:gt(g,pe.NAVIGATION_GUARD_REDIRECT)?(V(ee(b(g.to),{force:!0}),U).then(m=>{gt(m,pe.NAVIGATION_ABORTED|pe.NAVIGATION_DUPLICATED)&&!x.delta&&x.type===Js.pop&&s.go(-1,!1)}).catch(Kr),Promise.reject()):(x.delta&&s.go(-x.delta,!1),Z(g,U,p))).then(g=>{g=g||Ue(U,p,!1),g&&(x.delta&&!gt(g,pe.NAVIGATION_CANCELLED)?s.go(-x.delta,!1):x.type===Js.pop&&gt(g,pe.NAVIGATION_ABORTED|pe.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),Pe(U,p,g)}).catch(Kr)}))}let kt=Nr(),ue=Nr(),z;function Z(T,D,x){At(T);const U=ue.list();return U.length?U.forEach(Y=>Y(T,D,x)):console.error(T),Promise.reject(T)}function ft(){return z&&l.value!==Pt?Promise.resolve():new Promise((T,D)=>{kt.add([T,D])})}function At(T){return z||(z=!T,Bt(),kt.list().forEach(([D,x])=>T?x(T):D()),kt.reset()),T}function tt(T,D,x,U){const{scrollBehavior:Y}=t;if(!gr||!Y)return Promise.resolve();const p=!x&&Gd(Ao(T.fullPath,0))||(U||!x)&&history.state&&history.state.scroll||null;return ts().then(()=>Y(T,D,p)).then(g=>g&&Hd(g)).catch(g=>Z(g,T,D))}const Ne=T=>s.go(T);let ir;const or=new Set,Vt={currentRoute:l,listening:!0,addRoute:f,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:v,resolve:w,options:t,push:k,replace:N,go:Ne,back:()=>Ne(-1),forward:()=>Ne(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ue.add,isReady:ft,install(T){T.component("RouterLink",Sf),T.component("RouterView",kf),T.config.globalProperties.$router=Vt,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>wr(l)}),gr&&!ir&&l.value===Pt&&(ir=!0,k(s.location).catch(U=>{}));const D={};for(const U in Pt)Object.defineProperty(D,U,{get:()=>l.value[U],enumerable:!0});T.provide(Ri,Vt),T.provide(Ul,Fa(D)),T.provide(Ys,l);const x=T.unmount;or.add(T),T.unmount=function(){or.delete(T),or.size<1&&(c=Pt,je&&je(),je=null,l.value=Pt,ir=!1,z=!1),x()}}};function Ge(T){return T.reduce((D,x)=>D.then(()=>W(x)),Promise.resolve())}return Vt}const Pf=Al("ui",()=>{const t=xe(""),e=xe(1),r=xe(15),n=xe([]),s=ge(()=>{if(!t.value.trim())return n.value;const y=t.value.toLowerCase().trim();return n.value.filter(w=>{var k,N;const b=((k=w.title)==null?void 0:k.toLowerCase())||"",S=((N=w.content)==null?void 0:N.toLowerCase())||"";return b.includes(y)||S.includes(y)})}),i=ge(()=>Math.ceil(s.value.length/r.value)),o=ge(()=>{const y=(e.value-1)*r.value,w=y+r.value;return s.value.slice(y,w)}),a=ge(()=>{if(s.value.length===0)return{start:0,end:0,total:0};const y=(e.value-1)*r.value+1,w=Math.min(y+r.value-1,s.value.length);return{start:y,end:w,total:s.value.length}});function l(y){t.value=y,e.value=1}function c(){t.value="",e.value=1}function u(y){y>=1&&y<=i.value&&(e.value=y)}function h(){e.value<i.value&&e.value++}function d(){e.value>1&&e.value--}function f(y){r.value=y,e.value=1}function _(y){n.value=y,e.value=1}function v(){e.value=1}return{searchQuery:t,currentPage:e,itemsPerPage:r,allItems:n,filteredItems:s,totalPages:i,paginatedItems:o,currentItemRange:a,setSearch:l,clearSearch:c,setPage:u,nextPage:h,previousPage:d,setItemsPerPage:f,setAllItems:_,resetPagination:v}});var Qs=function(t,e){return Qs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Qs(t,e)};function Bl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qs(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Vn=function(){return Vn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Vn.apply(this,arguments)};function Rr(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Vl(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function ql(t,e){return function(r,n){e(r,n,t)}}function Wl(t,e,r,n,s,i){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,d=!1,f=r.length-1;f>=0;f--){var _={};for(var v in n)_[v]=v==="access"?{}:n[v];for(var v in n.access)_.access[v]=n.access[v];_.addInitializer=function(w){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(w||null))};var y=(0,r[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],_);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=o(y.get))&&(u.get=h),(h=o(y.set))&&(u.set=h),(h=o(y.init))&&s.unshift(h)}else(h=o(y))&&(a==="field"?s.unshift(h):u[l]=h)}c&&Object.defineProperty(c,n.name,u),d=!0}function Hl(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function Kl(t){return typeof t=="symbol"?t:"".concat(t)}function Gl(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Jl(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function $(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function zl(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var ls=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function Yl(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ls(e,t,r)}function qn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ii(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Ql(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ii(arguments[e]));return t}function Xl(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Zl(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Ar(t){return this instanceof Ar?(this.v=t,this):new Ar(t)}function ec(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(f){return function(_){return Promise.resolve(_).then(f,h)}}function a(f,_){n[f]&&(s[f]=function(v){return new Promise(function(y,w){i.push([f,v,y,w])>1||l(f,v)})},_&&(s[f]=_(s[f])))}function l(f,_){try{c(n[f](_))}catch(v){d(i[0][3],v)}}function c(f){f.value instanceof Ar?Promise.resolve(f.value.v).then(u,h):d(i[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,_){f(_),i.shift(),i.length&&l(i[0][0],i[0][1])}}function tc(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Ar(t[s](o)),done:!1}:i?i(o):o}:i}}function rc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof qn=="function"?qn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function nc(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Rf=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Xs=function(t){return Xs=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Xs(t)};function sc(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Xs(t),n=0;n<r.length;n++)r[n]!=="default"&&ls(e,t,r[n]);return Rf(e,t),e}function ic(t){return t&&t.__esModule?t:{default:t}}function oc(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function ac(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function lc(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function cc(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var If=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function uc(t){function e(i){t.error=t.hasError?new If(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function hc(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const Cf={__extends:Bl,__assign:Vn,__rest:Rr,__decorate:Vl,__param:ql,__esDecorate:Wl,__runInitializers:Hl,__propKey:Kl,__setFunctionName:Gl,__metadata:Jl,__awaiter:$,__generator:zl,__createBinding:ls,__exportStar:Yl,__values:qn,__read:Ii,__spread:Ql,__spreadArrays:Xl,__spreadArray:Zl,__await:Ar,__asyncGenerator:ec,__asyncDelegator:tc,__asyncValues:rc,__makeTemplateObject:nc,__importStar:sc,__importDefault:ic,__classPrivateFieldGet:oc,__classPrivateFieldSet:ac,__classPrivateFieldIn:lc,__addDisposableResource:cc,__disposeResources:uc,__rewriteRelativeImportExtension:hc},xf=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cc,get __assign(){return Vn},__asyncDelegator:tc,__asyncGenerator:ec,__asyncValues:rc,__await:Ar,__awaiter:$,__classPrivateFieldGet:oc,__classPrivateFieldIn:lc,__classPrivateFieldSet:ac,__createBinding:ls,__decorate:Vl,__disposeResources:uc,__esDecorate:Wl,__exportStar:Yl,__extends:Bl,__generator:zl,__importDefault:ic,__importStar:sc,__makeTemplateObject:nc,__metadata:Jl,__param:ql,__propKey:Kl,__read:Ii,__rest:Rr,__rewriteRelativeImportExtension:hc,__runInitializers:Hl,__setFunctionName:Gl,__spread:Ql,__spreadArray:Zl,__spreadArrays:Xl,__values:qn,default:Cf},Symbol.toStringTag,{value:"Module"})),jf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>nr(async()=>{const{default:n}=await Promise.resolve().then(()=>sr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ci extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Mo extends Ci{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Bo extends Ci{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vo extends Ci{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zs;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zs||(Zs={}));class Nf{constructor(e,{headers:r={},customFetch:n,region:s=Zs.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=jf(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:a,signal:l}=n;let c={},{region:u}=n;u||(u=this.region);const h=new URL(`${this.url}/${r}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(c["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(c["Content-Type"]="application/json",d=JSON.stringify(a)):d=a;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:d,signal:l}).catch(w=>{throw w.name==="AbortError"?w:new Mo(w)}),_=f.headers.get("x-relay-error");if(_&&_==="true")throw new Bo(f);if(!f.ok)throw new Vo(f);let v=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield f.json():v==="application/octet-stream"||v==="application/pdf"?y=yield f.blob():v==="text/event-stream"?y=f:v==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Mo(i)}:{data:null,error:i,response:i instanceof Vo||i instanceof Bo?i.context:void 0}}})}}function Df(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dc(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Ee={};const Ir=dc(xf);var pn={},gn={},mn={},_n={},vn={},$f=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pr=$f();const Uf=Pr.fetch,fc=Pr.fetch.bind(Pr),pc=Pr.Headers,Lf=Pr.Request,Ff=Pr.Response,sr=Object.freeze(Object.defineProperty({__proto__:null,Headers:pc,Request:Lf,Response:Ff,default:fc,fetch:Uf},Symbol.toStringTag,{value:"Module"})),Mf=dc(sr);var yn={},qo;function gc(){if(qo)return yn;qo=1,Object.defineProperty(yn,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yn.default=t,yn}var Wo;function mc(){if(Wo)return vn;Wo=1,Object.defineProperty(vn,"__esModule",{value:!0});const t=Ir,e=t.__importDefault(Mf),r=t.__importDefault(gc());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,d,f;let _=null,v=null,y=null,w=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const M=await c.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=M:v=JSON.parse(M))}const k=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),N=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");k&&N&&N.length>1&&(y=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(_={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,y=null,w=406,b="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const k=await c.text();try{_=JSON.parse(k),Array.isArray(_)&&c.status===404&&(v=[],_=null,w=200,b="OK")}catch{c.status===404&&k===""?(w=204,b="No Content"):_={message:k}}if(_&&this.isMaybeSingle&&(!((f=_==null?void 0:_.details)===null||f===void 0)&&f.includes("0 rows"))&&(_=null,w=200,b="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:v,count:y,status:w,statusText:b}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,d;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=c==null?void 0:c.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return vn.default=n,vn}var Ho;function _c(){if(Ho)return _n;Ho=1,Object.defineProperty(_n,"__esModule",{value:!0});const e=Ir.__importDefault(mc());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return _n.default=r,_n}var Ko;function xi(){if(Ko)return mn;Ko=1,Object.defineProperty(mn,"__esModule",{value:!0});const e=Ir.__importDefault(_c());class r extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return mn.default=r,mn}var Go;function vc(){if(Go)return gn;Go=1,Object.defineProperty(gn,"__esModule",{value:!0});const e=Ir.__importDefault(xi());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return gn.default=r,gn}var Jo;function Bf(){if(Jo)return pn;Jo=1,Object.defineProperty(pn,"__esModule",{value:!0});const t=Ir,e=t.__importDefault(vc()),r=t.__importDefault(xi());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const d=new URL(`${this.url}/rpc/${i}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{d.searchParams.append(v,y)})):(h="POST",f=o);const _=new Headers(this.headers);return c&&_.set("Prefer",`count=${c}`),new r.default({method:h,url:d,headers:_,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return pn.default=n,pn}var zo;function Vf(){if(zo)return Ee;zo=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const t=Ir,e=t.__importDefault(Bf());Ee.PostgrestClient=e.default;const r=t.__importDefault(vc());Ee.PostgrestQueryBuilder=r.default;const n=t.__importDefault(xi());Ee.PostgrestFilterBuilder=n.default;const s=t.__importDefault(_c());Ee.PostgrestTransformBuilder=s.default;const i=t.__importDefault(mc());Ee.PostgrestBuilder=i.default;const o=t.__importDefault(gc());return Ee.PostgrestError=o.default,Ee.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ee}var qf=Vf();const Wf=Df(qf),{PostgrestClient:Hf,PostgrestQueryBuilder:m_,PostgrestFilterBuilder:__,PostgrestTransformBuilder:v_,PostgrestBuilder:y_,PostgrestError:w_}=Wf;class Kf{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Gf="2.76.1",Jf=`realtime-js/${Gf}`,zf="1.0.0",ei=1e4,Yf=1e3,Qf=100;var Gr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gr||(Gr={}));var we;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(we||(we={}));var Xe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xe||(Xe={}));var ti;(function(t){t.websocket="websocket"})(ti||(ti={}));var Yt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yt||(Yt={}));class Xf{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class yc{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(le||(le={}));const Yo=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Zf(o,t,e,s),i),{}):{}},Zf=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?wc(i,o):ri(o)},wc=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return np(e,r)}switch(t){case le.bool:return ep(e);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return tp(e);case le.json:case le.jsonb:return rp(e);case le.timestamp:return sp(e);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return ri(e);default:return ri(e)}},ri=t=>t,ep=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tp=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rp=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},np=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>wc(e,a))}return t},sp=t=>typeof t=="string"?t.replace(" ","T"):t,bc=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ks{constructor(e,r,n={},s=ei){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Qo;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Qo||(Qo={}));class Jr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Jr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const d=u.map(y=>y.presence_ref),f=h.map(y=>y.presence_ref),_=u.filter(y=>f.indexOf(y.presence_ref)<0),v=h.filter(y=>d.indexOf(y.presence_ref)<0);_.length>0&&(a[c]=_),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Xo||(Xo={}));var zr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(zr||(zr={}));var _t;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(_t||(_t={}));class ji{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ks(this,Xe.join,this.params,this.timeout),this.rejoinTimer=new yc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xe.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Jr(this),this.broadcastEndpointURL=bc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==we.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[zr.PRESENCE]&&this.bindings[zr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(_t.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(_t.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var _;if(this.socket.setAuth(),f===void 0){e==null||e(_t.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(_=v==null?void 0:v.length)!==null&&_!==void 0?_:0,w=[];for(let b=0;b<y;b++){const S=v[b],{filter:{event:k,schema:N,table:M,filter:V}}=S,H=f&&f[b];if(H&&H.event===k&&H.schema===N&&H.table===M&&H.filter===V)w.push(Object.assign(Object.assign({},S),{id:H.id}));else{this.unsubscribe(),this.state=we.errored,e==null||e(_t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(_t.SUBSCRIBED);return}}).receive("error",f=>{this.state=we.errored,e==null||e(_t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(_t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===we.joined&&e===zr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=we.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xe.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ks(this,Xe.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=we.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ks(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Qf){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Xe;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var _,v,y;return((_=f.filter)===null||_===void 0?void 0:_.event)==="*"||((y=(v=f.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var _,v,y,w,b,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,N=(_=f.filter)===null||_===void 0?void 0:_.event;return k&&((v=r.ids)===null||v===void 0?void 0:v.includes(k))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const k=(b=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return k==="*"||k===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const _=d.data,{schema:v,table:y,commit_timestamp:w,type:b,errors:S}=_;d=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:w,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(_))}f.callback(d,n)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ji.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xe.close,{},e)}_onError(e){this._on(Xe.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Yo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Yo(e.columns,e.old_record)),r}}const As=()=>{},wn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ip=[1e3,2e3,5e3,1e4],op=1e4,ap=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lp{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ei,this.transport=null,this.heartbeatIntervalMs=wn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=As,this.ref=0,this.reconnectTimer=null,this.logger=As,this.conn=null,this.sendBuffer=[],this.serializer=new Xf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>nr(async()=>{const{default:a}=await Promise.resolve().then(()=>sr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ti.websocket}`,this.httpEndpoint=bc(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Kf.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zf}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gr.connecting:return Yt.Connecting;case Gr.open:return Yt.Open;case Gr.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ji(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Yf,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},wn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xe.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([ap],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Jf};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Xe.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new yc(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ei,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:wn.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:As,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:(h=>ip[h-1]||op),this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:((h,d)=>d(JSON.stringify(h))),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ni extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function de(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class cp extends Ni{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ni extends Ni{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Di=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>nr(async()=>{const{default:n}=await Promise.resolve().then(()=>sr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},up=()=>$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nr(()=>Promise.resolve().then(()=>sr),void 0)).Response:Response}),si=t=>{if(Array.isArray(t))return t.map(r=>si(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=si(n)}),e},hp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ps=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dp=(t,e,r)=>$(void 0,void 0,void 0,function*(){const n=yield up();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new cp(Ps(s),i,o))}).catch(s=>{e(new ni(Ps(s),s))}):e(new ni(Ps(t),t))}),fp=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(hp(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function un(t,e,r,n,s,i){return $(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,fp(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>dp(l,a,n))})})}function rn(t,e,r,n){return $(this,void 0,void 0,function*(){return un(t,"GET",e,r,n)})}function Qe(t,e,r,n,s){return $(this,void 0,void 0,function*(){return un(t,"POST",e,n,s,r)})}function ii(t,e,r,n,s){return $(this,void 0,void 0,function*(){return un(t,"PUT",e,n,s,r)})}function pp(t,e,r,n){return $(this,void 0,void 0,function*(){return un(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $i(t,e,r,n,s){return $(this,void 0,void 0,function*(){return un(t,"DELETE",e,n,s,r)})}class gp{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return $(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(de(e))return{data:null,error:e};throw e}})}}var Sc;class mp{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Sc]="BlobDownloadBuilder",this.promise=null}asStream(){return new gp(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return $(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(de(e))return{data:null,error:e};throw e}})}}Sc=Symbol.toStringTag;const _p={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vp{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Di(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return $(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Zo),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield(e=="PUT"?ii:Qe)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(de(i))return{data:null,error:i};throw i}})}upload(e,r,n){return $(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return $(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Zo.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield ii(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(de(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return $(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Qe(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ni("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(de(n))return{data:null,error:n};throw n}})}update(e,r,n){return $(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return $(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(de(s))return{data:null,error:s};throw s}})}copy(e,r,n){return $(this,void 0,void 0,function*(){try{return{data:{path:(yield Qe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return $(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Qe(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return $(this,void 0,void 0,function*(){try{const s=yield Qe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(de(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>rn(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new mp(l,this.shouldThrowOnError)}info(e){return $(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield rn(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:si(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(de(n))return{data:null,error:n};throw n}})}exists(e){return $(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield pp(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(de(n)&&n instanceof ni){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return $(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(de(r))return{data:null,error:r};throw r}})}list(e,r,n){return $(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},_p),r),{prefix:e||""});return{data:yield Qe(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(de(s))return{data:null,error:s};throw s}})}listV2(e,r){return $(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Qe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(de(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ec="2.76.1",Oc={"X-Client-Info":`storage-js/${Ec}`};class yp{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oc),r),this.fetch=Di(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return $(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(de(e))return{data:null,error:e};throw e}})}getBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(de(r))return{data:null,error:r};throw r}})}createBucket(e){return $(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Qe(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(de(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return $(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(de(n))return{data:null,error:n};throw n}})}emptyBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(de(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(de(r))return{data:null,error:r};throw r}})}}class wp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oc),r),this.fetch=Di(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(de(r))return{data:null,error:r};throw r}})}listBuckets(e){return $(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,i=yield rn(this.fetch,s,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(de(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(de(r))return{data:null,error:r};throw r}})}}const Ui={"X-Client-Info":`storage-js/${Ec}`,"Content-Type":"application/json"};class Tc extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function qe(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Rs extends Tc{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bp extends Tc{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var ea;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ea||(ea={}));const Li=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>nr(async()=>{const{default:n}=await Promise.resolve().then(()=>sr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Sp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ta=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ep=(t,e,r)=>$(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Rs(ta(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Rs(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Rs(a,s,o))}}else e(new bp(ta(t),t))}),Op=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Sp(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Tp(t,e,r,n,s,i){return $(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Op(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Ep(l,a,n))})})}function We(t,e,r,n,s){return $(this,void 0,void 0,function*(){return Tp(t,"POST",e,n,s,r)})}class kp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ui),r),this.fetch=Li(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return $(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}getIndex(e,r){return $(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}listIndexes(e){return $(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return $(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}}class Ap{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ui),r),this.fetch=Li(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return $(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield We(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}getVectors(e){return $(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}listVectors(e){return $(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield We(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}queryVectors(e){return $(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}deleteVectors(e){return $(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield We(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}}class Pp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ui),r),this.fetch=Li(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return $(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}getBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}listBuckets(){return $(this,arguments,void 0,function*(e={}){try{return{data:yield We(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}}class Rp extends Pp{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Ip(this.url,this.headers,e,this.fetch)}}class Ip extends kp{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return $(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return $(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return $(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return $(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Cp(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Cp extends Ap{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return $(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return $(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return $(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return $(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return $(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class xp extends yp{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new vp(this.url,this.headers,e,this.fetch)}get vectors(){return new Rp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wp(this.url+"/iceberg",this.headers,this.fetch)}}const jp="2.76.1";let $r="";typeof Deno<"u"?$r="deno":typeof document<"u"?$r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$r="react-native":$r="node";const Np={"X-Client-Info":`supabase-js-${$r}/${jp}`},Dp={headers:Np},$p={schema:"public"},Up={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lp={},Fp=t=>{let e;return t?e=t:typeof fetch>"u"?e=fc:e=fetch,(...r)=>e(...r)},Mp=()=>typeof Headers>"u"?pc:Headers,Bp=(t,e,r)=>{const n=Fp(r),s=Mp();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))}};function Vp(t){return t.endsWith("/")?t:t+"/"}function qp(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,d={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function Wp(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kc="2.76.1",mr=30*1e3,oi=3,Is=oi*mr,Hp="http://localhost:9999",Kp="supabase.auth.token",Gp={"X-Client-Info":`gotrue-js/${kc}`},ai="X-Supabase-Api-Version",Ac={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zp=600*1e3;class nn extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function F(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Yp extends nn{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Qp(t){return F(t)&&t.name==="AuthApiError"}class Qt extends nn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Mt extends nn{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ct extends Mt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xp(t){return F(t)&&t.name==="AuthSessionMissingError"}class cr extends Mt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bn extends Mt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Sn extends Mt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zp(t){return F(t)&&t.name==="AuthImplicitGrantRedirectError"}class ra extends Mt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class li extends Mt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Cs(t){return F(t)&&t.name==="AuthRetryableFetchError"}class na extends Mt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ci extends Mt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sa=` 	
\r=`.split(""),eg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<sa.length;e+=1)t[sa[e].charCodeAt(0)]=-2;for(let e=0;e<Wn.length;e+=1)t[Wn[e].charCodeAt(0)]=e;return t})();function ia(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wn[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wn[n]),e.queuedBits-=6}}function Pc(t,e,r){const n=eg[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function oa(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{ng(o,n,r)};for(let o=0;o<t.length;o+=1)Pc(t.charCodeAt(o),s,i);return e.join("")}function tg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function rg(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}tg(n,e)}}function ng(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Er(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Pc(t.charCodeAt(s),r,n);return new Uint8Array(e)}function sg(t){const e=[];return rg(t,r=>e.push(r)),new Uint8Array(e)}function Zt(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>ia(s,r,n)),ia(null,r,n),e.join("")}function ig(t){return Math.round(Date.now()/1e3)+t}function og(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",Ht={tested:!1,writable:!1},Rc=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ht.tested)return Ht.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ht.tested=!0,Ht.writable=!0}catch{Ht.tested=!0,Ht.writable=!1}return Ht.writable};function ag(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ic=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>nr(async()=>{const{default:n}=await Promise.resolve().then(()=>sr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},lg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_r=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Kt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rt=async(t,e)=>{await t.removeItem(e)};class cs{constructor(){this.promise=new cs.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}cs.promiseConstructor=Promise;function xs(t){const e=t.split(".");if(e.length!==3)throw new ci("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Jp.test(e[n]))throw new ci("JWT not in base64url format");return{header:JSON.parse(oa(e[0])),payload:JSON.parse(oa(e[1])),signature:Er(e[2]),raw:{header:e[0],payload:e[1]}}}async function cg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ug(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function hg(t){return("0"+t.toString(16)).substr(-2)}function dg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,hg).join("")}async function fg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function pg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await fg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ur(t,e,r=!1){const n=dg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await _r(t,`${e}-code-verifier`,s);const i=await pg(n);return[i,n===i?"plain":"s256"]}const gg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mg(t){const e=t.headers.get(ai);if(!e||!e.match(gg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _g(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hr(t){if(!yg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function js(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aa(t){return JSON.parse(JSON.stringify(t))}const Jt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wg=[502,503,504];async function la(t){var e;if(!lg(t))throw new li(Jt(t),0);if(wg.includes(t.status))throw new li(Jt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Qt(Jt(i),i)}let n;const s=mg(t);if(s&&s.getTime()>=Ac["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new na(Jt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new na(Jt(r),t.status,r.weak_password.reasons);throw new Yp(Jt(r),t.status||500,n)}const bg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function G(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ai]||(i[ai]=Ac["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Sg(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Sg(t,e,r,n,s,i){const o=bg(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new li(Jt(l),0)}if(a.ok||await la(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await la(l)}}function Ye(t){var e;let r=null;Tg(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ig(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ca(t){const e=Ye(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Dt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Eg(t){return{data:t,error:null}}function Og(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Rr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ua(t){return t}function Tg(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ns=["global","local","others"];class kg{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ic(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Ns[0]){if(Ns.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ns.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Rr(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Og,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(F(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dt})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ua});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(_=>{const v=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(_.split(";")[1].split("=")[1]);c[`${y}Page`]=v}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(F(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){hr(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dt})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){hr(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Dt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){hr(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){hr(e.userId);try{const{data:r,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteFactor(e){hr(e.userId),hr(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ua});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(_=>{const v=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(_.split(";")[1].split("=")[1]);c[`${y}Page`]=v}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(F(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}}function ha(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const dr={debug:!!(globalThis&&Rc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ag extends Cc{}async function Pg(t,e,r){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ag(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(dr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Rg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xc(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ig(t){return parseInt(t,16)}function Cg(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function xg(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=xc(t.address),_=u?`${u}://${n}`:n,v=t.statement?`${t.statement}
`:"",y=`${_} wants you to sign in with your Ethereum account:
${f}

${v}`;let w=`URI: ${h}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const S of c){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);b+=`
- ${S}`}w+=b}return`${y}
${w}`}class _e extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Hn extends _e{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function jg({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new _e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new _e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new _e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new _e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(jc(o)){if(i.rp.id!==o)return new _e({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new _e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new _e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ng({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new _e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(jc(n)){if(r.rpId!==n)return new _e({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new _e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Dg{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $g=new Dg;function Ug(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Rr(t,["challenge","user","excludeCredentials"]),i=Er(e).buffer,o=Object.assign(Object.assign({},r),{id:Er(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Er(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Lg(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Rr(t,["challenge","allowCredentials"]),s=Er(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Er(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Fg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Zt(new Uint8Array(t.response.attestationObject)),clientDataJSON:Zt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Zt(new Uint8Array(s.authenticatorData)),clientDataJSON:Zt(new Uint8Array(s.clientDataJSON)),signature:Zt(new Uint8Array(s.signature)),userHandle:s.userHandle?Zt(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jc(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function da(){var t,e;return!!(Me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Bg(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hn("Browser returned unexpected credential type",e)}:{data:null,error:new Hn("Empty credential response",e)}}catch(e){return{data:null,error:jg({error:e,options:t})}}}async function Vg(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hn("Browser returned unexpected credential type",e)}:{data:null,error:new Hn("Empty credential response",e)}}catch(e){return{data:null,error:Ng({error:e,options:t})}}}const qg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Wg={userVerification:"preferred",hints:["security-key"]};function Kn(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Kn(a,o):n[i]=Kn(o)}else n[i]=o}return n}function Hg(t,e){return Kn(qg,t,e||{})}function Kg(t,e){return Kn(Wg,t,e||{})}class Gg{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??$g.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Hg(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await Bg({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=Kg(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await Vg(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new Qt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new nn("rpId is required for WebAuthn authentication")};try{if(!da())return{data:null,error:new Qt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new Qt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new nn("rpId is required for WebAuthn registration")};try{if(!da())return{data:null,error:new Qt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new Qt("Unexpected error in register",o)}}}}Rg();const Jg={url:Hp,storageKey:Kp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fa(t,e,r){return await r()}const fr={};class sn{get jwks(){var e,r;return(r=(e=fr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=fr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sn.nextInstanceID,sn.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Jg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new kg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ic(s.fetch),this.lock=s.lock||fa,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Me()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Pg:this.lock=fa,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Gg(this)},this.persistSession?(s.storage?this.storage=s.storage:Rc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ha(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ha(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=ag(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Me()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Zp(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return F(r)?{error:r}:{error:new Qt("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ye}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,_=null;this.flowType==="pkce"&&([f,_]=await ur(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:_},xform:Ye})}else if("phone"in e){const{phone:u,password:h,options:d}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ye})}else throw new bn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ca})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ca})}else throw new bn("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new cr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,c,u,h,d;let f,_;if("message"in e)f=e.message,_=e.signature;else{const{chain:v,wallet:y,statement:w,options:b}=e;let S;if(Me())if(typeof y=="object")S=y;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")S=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const k=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),N=await S.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=xc(N[0]);let V=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!V){const W=await S.request({method:"eth_chainId"});V=Ig(W)}const H={domain:k.host,address:M,statement:w,uri:k.href,version:"1",chainId:V,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=xg(H),_=await S.request({method:"personal_sign",params:[Cg(f),M]})}try{const{data:v,error:y}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:_},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Ye});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new cr}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(F(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(e){var r,n,s,i,o,a,l,c,u,h,d,f;let _,v;if("message"in e)_=e.message,v=e.signature;else{const{chain:y,wallet:w,statement:b,options:S}=e;let k;if(Me())if(typeof w=="object")k=w;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))k=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=w}const N=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const M=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let V;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")V=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)V=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)_=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),v=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${N.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(u=S==null?void 0:S.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const M=await k.signMessage(new TextEncoder().encode(_),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=M}}try{const{data:y,error:w}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Zt(v)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ye});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new cr}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(F(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const r=await Kt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ye});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(F(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ye}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new cr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ur(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new bn("You must provide either an email or phone number.")}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ye});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ur(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Eg})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ct;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(F(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new bn("You must provide either an email or phone number and a type")}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Kt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Is:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Kt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=js()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Dt})})}catch(r){if(F(r))return Xp(r)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ct;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ur(this.storage,this.storageKey));const{data:c,error:u}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Dt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ct;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=xs(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(F(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ct;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Me())throw new Sn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ra("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ra("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Sn("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const _=d-h;u-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,d,u):u-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,d,u);const{data:v,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(F(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Kt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Qp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=og(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ur(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Me()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(F(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ye}),{data:d,error:f}=h;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new cr}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:f})}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ug(async s=>(s>0&&await cg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ye})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Cs(i)&&Date.now()+o-n<mr})}catch(n){if(this._debug(r,"error",n),F(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Me()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Kt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Kt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await _r(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:js()}else if(s&&!s.user&&!s.user){const o=await Kt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Rt(this.storage,this.storageKey+"-user"),await _r(this.storage,this.storageKey,s)):s.user=js()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Is;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Is}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Cs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new cs;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),F(i)){const o={data:null,error:i};return Cs(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await _r(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=aa(s);await _r(this.storage,this.storageKey,i)}else{const s=aa(r);await _r(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mr}ms, refresh threshold is ${oi} ticks`),s<=oi&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Cc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ur(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Fg(e.webauthn.credential_response):Mg(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ug(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Lg(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=xs(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+zp>s)return n;const{data:i,error:o}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:_}=await this.getSession();if(_||!f.session)return{data:null,error:_};n=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=xs(n);r!=null&&r.allowExpired||_g(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const u=vg(s.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,sg(`${a}.${l}`)))throw new ci("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}}sn.nextInstanceID=0;const zg=sn;class Yg extends zg{constructor(e){super(e)}}class Qg{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Wp(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:$p,realtime:Lp,auth:Object.assign(Object.assign({},Up),{storageKey:l}),global:Dp},u=qp(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Bp(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Hf(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new xp(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Nf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yg({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lp(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xg=(t,e,r)=>new Qg(t,e,r);function Zg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Zg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const em="https://godeglzovkxzhwxyxbdd.supabase.co",tm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdvZGVnbHpvdmt4emh3eHl4YmRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNDE2ODAsImV4cCI6MjA3NjYxNzY4MH0.VJ8rpKqRkWyL6DYiViV6_MLdyhkWweUPcSHcPuvmVXg",us=Xg(em,tm);async function rm(){try{const{data:t,error:e}=await us.from("feeds").select("*").order("display_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){throw console.error("Error fetching feeds:",t),t}}async function nm(t){try{const{data:e,error:r}=await us.from("feeds").insert([t]).select().single();if(r)throw r;return e}catch(e){throw console.error("Error creating feed:",e),e}}async function Nc(t,e){try{const{data:r,error:n}=await us.from("feeds").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating feed:",r),r}}async function sm(t){try{const{error:e}=await us.from("feeds").delete().eq("id",t);if(e)throw e}catch(e){throw console.error("Error deleting feed:",e),e}}async function im(t,e){try{return await Nc(t,{enabled:e})}catch(r){throw console.error("Error toggling feed status:",r),r}}const om=Al("feeds",()=>{const t=xe([]),e=xe("all"),r=xe(!1),n=xe(null),s=xe([]),i=ge(()=>t.value.filter(w=>w.enabled)),o=ge(()=>t.value.filter(w=>w.type==="scraped")),a=ge(()=>t.value.filter(w=>w.type==="native_rss")),l=ge(()=>w=>t.value.find(b=>b.id===w));async function c(){r.value=!0,n.value=null;try{const w=await rm();return t.value=w,w}catch(w){throw n.value=w.message,console.error("Error loading feeds:",w),w}finally{r.value=!1}}async function u(w){r.value=!0,n.value=null;try{const b=await nm(w);return t.value.push(b),b}catch(b){throw n.value=b.message,console.error("Error adding feed:",b),b}finally{r.value=!1}}async function h(w,b){r.value=!0,n.value=null;try{const S=await Nc(w,b),k=t.value.findIndex(N=>N.id===w);return k!==-1&&(t.value[k]=S),S}catch(S){throw n.value=S.message,console.error("Error updating feed:",S),S}finally{r.value=!1}}async function d(w){r.value=!0,n.value=null;try{await sm(w),t.value=t.value.filter(b=>b.id!==w)}catch(b){throw n.value=b.message,console.error("Error deleting feed:",b),b}finally{r.value=!1}}async function f(w,b){r.value=!0,n.value=null;try{const S=await im(w,b),k=t.value.findIndex(N=>N.id===w);return k!==-1&&(t.value[k]=S),S}catch(S){throw n.value=S.message,console.error("Error toggling feed:",S),S}finally{r.value=!1}}function _(w){e.value=w}function v(w){s.value=w}const y=ge(()=>e.value==="all"?s.value:s.value.filter(w=>w.feedId===e.value));return{feeds:t,currentFeed:e,loading:r,error:n,feedItems:s,enabledFeeds:i,scrapedFeeds:o,nativeFeeds:a,feedById:l,currentFeedItems:y,loadFeeds:c,addFeed:u,updateFeed:h,deleteFeed:d,toggleFeed:f,setCurrentFeed:_,setFeedItems:v}}),am={name:"Header"};function lm(t,e,r,n,s,i){return ie(),fe("header",null,[...e[0]||(e[0]=[re("h1",null,"RSS",-1),re("p",{class:"subtitle"},"Real Simple Syndication",-1)])])}const cm=dt(am,[["render",lm],["__scopeId","data-v-0cd510de"]]),um={name:"Footer"};function hm(t,e,r,n,s,i){return ie(),fe("footer",null,[...e[0]||(e[0]=[re("p",null,"Automated RSS Feed Aggregator  Updates twice daily",-1)])])}const dm=dt(um,[["render",hm],["__scopeId","data-v-63e4900c"]]),fm={name:"FeedSelector",props:{currentFeed:{type:String,default:"all"},feedOptions:{type:Array,required:!0},isUpdating:{type:Boolean,default:!1}},emits:["feed-change","update"],methods:{selectFeed(t){this.$emit("feed-change",t)},handleMobileChange(t){this.$emit("feed-change",t.target.value)},handleUpdate(){this.$emit("update")}}},pm={class:"controls"},gm={class:"feed-selector"},mm=["onClick"],_m=["value"],vm=["value"],ym=["disabled"];function wm(t,e,r,n,s,i){return ie(),fe("div",pm,[re("div",gm,[(ie(!0),fe(Be,null,Dn(r.feedOptions,o=>(ie(),fe("button",{key:o.id,class:St(["feed-button",{active:r.currentFeed===o.id}]),onClick:a=>i.selectFeed(o.id)},Ve(o.name),11,mm))),128))]),re("select",{class:"feed-selector-mobile",value:r.currentFeed,onChange:e[0]||(e[0]=(...o)=>i.handleMobileChange&&i.handleMobileChange(...o))},[(ie(!0),fe(Be,null,Dn(r.feedOptions,o=>(ie(),fe("option",{key:o.id,value:o.id},Ve(o.name),9,vm))),128))],40,_m),re("button",{class:St(["update-button",{updating:r.isUpdating}]),disabled:r.isUpdating,onClick:e[1]||(e[1]=(...o)=>i.handleUpdate&&i.handleUpdate(...o))},"  Update ",10,ym)])}const bm=dt(fm,[["render",wm],["__scopeId","data-v-6035fce2"]]),Sm={name:"SearchBar",props:{searchQuery:{type:String,default:""},totalItems:{type:Number,default:0}},emits:["search","clear"],methods:{handleInput(t){this.$emit("search",t.target.value)},handleClear(){this.$emit("clear")}}},Em={class:"search-container"},Om={class:"search-box"},Tm=["value"],km={class:"stats-inline"},Am={class:"stat-number"};function Pm(t,e,r,n,s,i){return ie(),fe("div",Em,[re("div",Om,[re("input",{type:"text",class:"search-input",placeholder:"Search feeds...",value:r.searchQuery,onInput:e[0]||(e[0]=(...o)=>i.handleInput&&i.handleInput(...o))},null,40,Tm),re("button",{class:St(["clear-search",{visible:r.searchQuery}]),onClick:e[1]||(e[1]=(...o)=>i.handleClear&&i.handleClear(...o))},"  ",2)]),re("div",km,[re("span",Am,Ve(r.totalItems),1),e[2]||(e[2]=re("span",null,"items",-1))])])}const Rm=dt(Sm,[["render",Pm],["__scopeId","data-v-fe7bbd4b"]]),Im={name:"FeedItem",props:{item:{type:Object,required:!0},isVideo:{type:Boolean,default:!1}},methods:{truncateText(t,e=200){if(!t)return"";const r=t.replace(/<[^>]*>/g,"");return r.length<=e?r:r.substring(0,e).trim()+"..."},formatDate(t){if(!t)return"";try{return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return t}},formatNumber(t){return t?new Intl.NumberFormat().format(t):"0"}}},Cm=["href"],xm=["src","alt"],jm={class:"feed-source"},Nm=["href"],Dm={key:0,class:"video-indicator"},$m={key:0,class:"feed-date"},Um={key:1,class:"feed-content"},Lm={key:2,class:"video-stats"},Fm={class:"video-stat"},Mm={class:"video-stat-value"};function Bm(t,e,r,n,s,i){return ie(),fe("div",{class:St(["feed-item",{video:r.isVideo}])},[r.isVideo&&r.item.thumbnailUrl?(ie(),fe("a",{key:0,href:r.item.link,target:"_blank",rel:"noopener noreferrer"},[re("img",{src:r.item.thumbnailUrl,alt:r.item.title,class:"video-thumbnail"},null,8,xm)],8,Cm)):bt("",!0),re("div",{class:St({"video-content":r.isVideo})},[re("span",jm,Ve(r.item.source||"unknown"),1),re("h3",null,[re("a",{href:r.item.link,target:"_blank",rel:"noopener noreferrer"},Ve(r.item.title),9,Nm),r.isVideo?(ie(),fe("span",Dm," Video")):bt("",!0)]),r.item.pubDate?(ie(),fe("div",$m,Ve(i.formatDate(r.item.pubDate)),1)):bt("",!0),r.item.content?(ie(),fe("div",Um,Ve(i.truncateText(r.item.content,200)),1)):bt("",!0),r.isVideo&&r.item.views?(ie(),fe("div",Lm,[re("div",Fm,[e[0]||(e[0]=re("span",null," Views:",-1)),re("span",Mm,Ve(i.formatNumber(r.item.views)),1)])])):bt("",!0)],2)],2)}const Vm=dt(Im,[["render",Bm],["__scopeId","data-v-0465060d"]]),qm={name:"Pagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},maxPagesToShow:{type:Number,default:5}},emits:["page-change"],computed:{visiblePages(){const t=this.maxPagesToShow;let e=Math.max(1,this.currentPage-Math.floor(t/2)),r=Math.min(this.totalPages,e+t-1);r-e<t-1&&(e=Math.max(1,r-t+1));const n=[];for(let s=e;s<=r;s++)n.push(s);return n}},methods:{changePage(t){t>=1&&t<=this.totalPages&&this.$emit("page-change",t)}}},Wm={key:0,class:"pagination"},Hm=["disabled"],Km=["onClick"],Gm=["disabled"],Jm={class:"pagination-info"};function zm(t,e,r,n,s,i){return r.totalPages>1?(ie(),fe("div",Wm,[re("button",{class:"pagination-button",disabled:r.currentPage===1,onClick:e[0]||(e[0]=o=>i.changePage(r.currentPage-1))},"  Prev ",8,Hm),(ie(!0),fe(Be,null,Dn(i.visiblePages,o=>(ie(),fe("button",{key:o,class:St(["pagination-button",{active:o===r.currentPage}]),onClick:a=>i.changePage(o)},Ve(o),11,Km))),128)),re("button",{class:"pagination-button",disabled:r.currentPage===r.totalPages,onClick:e[1]||(e[1]=o=>i.changePage(r.currentPage+1))}," Next  ",8,Gm),re("span",Jm," Page "+Ve(r.currentPage)+" of "+Ve(r.totalPages),1)])):bt("",!0)}const Ym=dt(qm,[["render",zm],["__scopeId","data-v-023f544e"]]),Qm={name:"Loading",props:{message:{type:String,default:"Loading..."}}},Xm={class:"loading"};function Zm(t,e,r,n,s,i){return ie(),fe("div",Xm,[e[0]||(e[0]=re("div",{class:"spinner"},null,-1)),re("p",null,Ve(r.message),1)])}const e_=dt(Qm,[["render",Zm],["__scopeId","data-v-a4463c4b"]]),t_={name:"FeedList",components:{FeedItem:Vm,Pagination:Ym,Loading:e_},props:{items:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},loadingMessage:{type:String,default:"Loading..."},currentPage:{type:Number,default:1},totalPages:{type:Number,default:1}},emits:["page-change"]},r_={class:"feed-items"},n_={key:0,class:"empty-state"};function s_(t,e,r,n,s,i){const o=wt("FeedItem"),a=wt("Loading"),l=wt("Pagination");return ie(),fe("div",null,[re("div",r_,[(ie(!0),fe(Be,null,Dn(r.items,(c,u)=>(ie(),Tn(o,{key:`${c.link}-${u}`,item:c,"is-video":c.source==="youtube"},null,8,["item","is-video"]))),128))]),r.items.length===0&&!r.loading?(ie(),fe("div",n_,[...e[1]||(e[1]=[re("p",null,"No items found",-1)])])):bt("",!0),r.loading?(ie(),Tn(a,{key:1,message:r.loadingMessage},null,8,["message"])):bt("",!0),!r.loading&&r.totalPages>1?(ie(),Tn(l,{key:2,"current-page":r.currentPage,"total-pages":r.totalPages,onPageChange:e[0]||(e[0]=c=>t.$emit("page-change",c))},null,8,["current-page","total-pages"])):bt("",!0)])}const i_=dt(t_,[["render",s_],["__scopeId","data-v-1b62c5ef"]]),o_={name:"FeedReaderView",components:{Header:cm,Footer:dm,FeedSelector:bm,SearchBar:Rm,FeedList:i_},setup(){const t=Pf(),e=om(),r=xe(!1),n=xe("Loading..."),s=xe(!1),i=ge(()=>{const c=[{id:"all",name:"All Feeds"}];return e.enabledFeeds.forEach(u=>{const h=u.title.replace("Wikipedia  did you know?","Wikipedia").replace("Wikivoyage recommendations","Wikivoyage").replace("Hacker News - Front Page","Hacker News").replace("Medium - Matteo's Articles","Medium").replace("Economy Media YouTube Channel","Economy Media");c.push({id:u.id,name:h})}),c});async function o(){r.value=!0,n.value="Loading feeds...";try{await e.loadFeeds();const c=[{feedId:"funfacts",title:"...that the first documented use of a smiley emoticon was in 1648?",link:"https://en.wikipedia.org/wiki/Smiley",content:"The smiley face has become one of the most recognizable symbols in modern communication.",pubDate:new Date().toISOString(),source:"Wikipedia"},{feedId:"funfacts",title:"...that octopuses have three hearts and blue blood?",link:"https://en.wikipedia.org/wiki/Octopus",content:"Octopuses are among the most intelligent invertebrates, with complex nervous systems.",pubDate:new Date(Date.now()-18e5).toISOString(),source:"Wikipedia"},{feedId:"funfacts",title:"...that honey never spoils and can last thousands of years?",link:"https://en.wikipedia.org/wiki/Honey",content:"Archaeologists have found 3,000-year-old honey in Egyptian tombs that was still perfectly edible.",pubDate:new Date(Date.now()-36e5).toISOString(),source:"Wikipedia"},{feedId:"funfacts",title:"...that bananas are berries, but strawberries are not?",link:"https://en.wikipedia.org/wiki/Berry",content:"In botanical terms, a berry is a fruit produced from a single flower with one ovary.",pubDate:new Date(Date.now()-54e5).toISOString(),source:"Wikipedia"},{feedId:"funfacts",title:"...that the Eiffel Tower can grow over 6 inches in summer?",link:"https://en.wikipedia.org/wiki/Eiffel_Tower",content:"The iron structure expands when heated by the sun, causing the tower to grow taller.",pubDate:new Date(Date.now()-72e5).toISOString(),source:"Wikipedia"},{feedId:"hackernews",title:"Ask HN: What are you working on this month?",link:"https://news.ycombinator.com/item?id=123",content:"Monthly thread for sharing projects and getting feedback from the community.",pubDate:new Date(Date.now()-9e6).toISOString(),source:"Hacker News"},{feedId:"hackernews",title:"Show HN: RSS Feed Aggregator with Supabase",link:"https://news.ycombinator.com/item?id=124",content:"Built a modern RSS aggregator using Vue 3 and Supabase for dynamic feed management.",pubDate:new Date(Date.now()-108e5).toISOString(),source:"Hacker News"},{feedId:"hackernews",title:"The State of WebAssembly in 2024",link:"https://news.ycombinator.com/item?id=125",content:"A comprehensive overview of WebAssembly adoption and future developments.",pubDate:new Date(Date.now()-126e5).toISOString(),source:"Hacker News"},{feedId:"hackernews",title:"Why SQLite is so great for embedded applications",link:"https://news.ycombinator.com/item?id=126",content:"Discussion on the benefits of using SQLite for local-first applications.",pubDate:new Date(Date.now()-144e5).toISOString(),source:"Hacker News"},{feedId:"hackernews",title:"Ask HN: Best resources for learning system design?",link:"https://news.ycombinator.com/item?id=127",content:"Community recommendations for mastering distributed systems and architecture.",pubDate:new Date(Date.now()-162e5).toISOString(),source:"Hacker News"},{feedId:"youtube_economy",title:"Economy Media: Understanding Market Trends 2024",link:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",content:"In-depth analysis of current market trends and economic indicators for the upcoming quarter.",pubDate:new Date(Date.now()-18e6).toISOString(),source:"Economy Media YouTube",thumbnailUrl:"https://via.placeholder.com/320x180/000000/FFFFFF/?text=Market+Trends",views:45823},{feedId:"youtube_economy",title:"Economy Media: Tech Industry Report",link:"https://www.youtube.com/watch?v=abc123",content:"Latest developments in the technology sector and their economic impact.",pubDate:new Date(Date.now()-198e5).toISOString(),source:"Economy Media YouTube",thumbnailUrl:"https://via.placeholder.com/320x180/0066cc/FFFFFF/?text=Tech+Report",views:32145},{feedId:"youtube_economy",title:"Economy Media: Global Trade Analysis",link:"https://www.youtube.com/watch?v=xyz789",content:"Examining the impact of recent trade policies on international markets.",pubDate:new Date(Date.now()-216e5).toISOString(),source:"Economy Media YouTube",thumbnailUrl:"https://via.placeholder.com/320x180/ff6600/FFFFFF/?text=Global+Trade",views:28934},{feedId:"youtube_economy",title:"Economy Media: Cryptocurrency Market Update",link:"https://www.youtube.com/watch?v=crypto123",content:"Weekly review of cryptocurrency trends and blockchain technology developments.",pubDate:new Date(Date.now()-234e5).toISOString(),source:"Economy Media YouTube",thumbnailUrl:"https://via.placeholder.com/320x180/4CAF50/FFFFFF/?text=Crypto+Market",views:52147},{feedId:"medium_matteo",title:"Building Scalable Web Applications with Vue 3",link:"https://medium.com/@matteo28/vue3-scalable",content:"Learn how to architect Vue 3 applications that can scale from prototype to production with best practices and real-world examples.",pubDate:new Date(Date.now()-252e5).toISOString(),source:"Medium"},{feedId:"medium_matteo",title:"The Power of Supabase for Modern Apps",link:"https://medium.com/@matteo28/supabase-power",content:"Exploring Supabase as a backend solution: real-time capabilities, authentication, and database management.",pubDate:new Date(Date.now()-27e6).toISOString(),source:"Medium"},{feedId:"medium_matteo",title:"Mastering Pinia State Management in Vue 3",link:"https://medium.com/@matteo28/pinia-state",content:"A deep dive into Pinia, the intuitive state management library for Vue applications.",pubDate:new Date(Date.now()-288e5).toISOString(),source:"Medium"},{feedId:"medium_matteo",title:"Modern CSS Techniques for 2024",link:"https://medium.com/@matteo28/modern-css",content:"Exploring container queries, cascade layers, and other cutting-edge CSS features.",pubDate:new Date(Date.now()-306e5).toISOString(),source:"Medium"},{feedId:"medium_matteo",title:"TypeScript Best Practices for Large Projects",link:"https://medium.com/@matteo28/typescript-best",content:"Essential patterns and practices for maintaining type safety in enterprise applications.",pubDate:new Date(Date.now()-324e5).toISOString(),source:"Medium"},{feedId:"wikivoyage",title:"Paris: The City of Light",link:"https://en.wikivoyage.org/wiki/Paris",content:"Discover the romantic capital of France with its iconic monuments, world-class museums, and charming cafs.",pubDate:new Date(Date.now()-342e5).toISOString(),source:"Wikivoyage"},{feedId:"wikivoyage",title:"Tokyo: Where Tradition Meets Future",link:"https://en.wikivoyage.org/wiki/Tokyo",content:"Experience the vibrant metropolis that seamlessly blends ancient temples with cutting-edge technology.",pubDate:new Date(Date.now()-36e6).toISOString(),source:"Wikivoyage"},{feedId:"wikivoyage",title:"Barcelona: Architecture and Mediterranean Beauty",link:"https://en.wikivoyage.org/wiki/Barcelona",content:"Explore Gaud's masterpieces, enjoy tapas, and relax on beautiful beaches in Catalonia's capital.",pubDate:new Date(Date.now()-378e5).toISOString(),source:"Wikivoyage"},{feedId:"wikivoyage",title:"Iceland: Land of Fire and Ice",link:"https://en.wikivoyage.org/wiki/Iceland",content:"Witness the Northern Lights, explore volcanic landscapes, and soak in geothermal hot springs.",pubDate:new Date(Date.now()-396e5).toISOString(),source:"Wikivoyage"},{feedId:"wikivoyage",title:"New York City: The Big Apple",link:"https://en.wikivoyage.org/wiki/New_York_City",content:"From Times Square to Central Park, discover the city that never sleeps.",pubDate:new Date(Date.now()-414e5).toISOString(),source:"Wikivoyage"}];e.setFeedItems(c),t.setAllItems(c),console.log("Loaded test feeds:",e.feeds.length,"feed configurations"),console.log("Displaying",c.length,"test items")}catch(c){console.error("Error loading feeds:",c)}finally{r.value=!1}}function a(c){e.setCurrentFeed(c);const u=c==="all"?e.feedItems:e.feedItems.filter(h=>h.feedId===c);t.setAllItems(u),console.log(`Switched to feed: ${c}, showing ${u.length} items`)}async function l(){s.value=!0;try{await o()}finally{s.value=!1}}return Qa(()=>{o()}),{uiStore:t,feedStore:e,feedOptions:i,loading:r,loadingMessage:n,isUpdating:s,handleFeedChange:a,handleUpdate:l}}},a_={class:"feed-reader"};function l_(t,e,r,n,s,i){const o=wt("Header"),a=wt("FeedSelector"),l=wt("SearchBar"),c=wt("FeedList"),u=wt("Footer");return ie(),fe("div",a_,[be(o),be(a,{"current-feed":n.feedStore.currentFeed,"feed-options":n.feedOptions,"is-updating":n.isUpdating,onFeedChange:n.handleFeedChange,onUpdate:n.handleUpdate},null,8,["current-feed","feed-options","is-updating","onFeedChange","onUpdate"]),be(l,{"search-query":n.uiStore.searchQuery,"total-items":n.uiStore.currentItemRange.total,onSearch:n.uiStore.setSearch,onClear:n.uiStore.clearSearch},null,8,["search-query","total-items","onSearch","onClear"]),be(c,{items:n.uiStore.paginatedItems,loading:n.loading,"loading-message":n.loadingMessage,"current-page":n.uiStore.currentPage,"total-pages":n.uiStore.totalPages,onPageChange:n.uiStore.setPage},null,8,["items","loading","loading-message","current-page","total-pages","onPageChange"]),be(u)])}const c_=dt(o_,[["render",l_],["__scopeId","data-v-025408ff"]]),u_=Af({history:sf("/rss-agg/"),routes:[{path:"/",name:"reader",component:c_},{path:"/admin",name:"admin",component:()=>nr(()=>import("./AdminView-2HuUUV0-.js"),__vite__mapDeps([0,1]))}]}),Fi=id(vd),h_=ld();Fi.use(h_);Fi.use(u_);Fi.mount("#app");export{Be as F,cm as H,dt as _,fe as a,re as b,ge as c,Al as d,bt as e,g_ as f,p_ as g,Dn as h,dm as i,be as j,Tn as k,wt as l,St as n,ie as o,xe as r,us as s,Ve as t,om as u,f_ as v,d_ as w};
