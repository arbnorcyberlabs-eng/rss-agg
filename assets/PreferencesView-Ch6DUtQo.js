import{_ as g,F as v,H as y,c as a,a as p,b as e,r as h,d as k,e as m,u as S,f as F,g as w,h as b,o as P,i as C,j as n,t as _}from"./index-bGP-_lxB.js";const B={name:"PreferencesView",components:{Header:y,Footer:v},setup(){const c=C(),s=S(),d=F(),o=w(),i=b(!0);async function f(){try{await d.loadFeeds(),await o.loadPreferences()}catch(r){console.error("Error loading data:",r)}finally{i.value=!1}}async function l(r,t){try{await o.toggleFeed(r,t)}catch(u){console.error("Error toggling feed:",u)}}return P(async()=>{if(!s.isAuthenticated){c.push("/");return}await f()}),{loading:i,feedStore:d,userPrefStore:o,handleToggle:l}}},E={class:"preferences-view"},H={class:"container"},V={key:0,class:"loading"},x={key:1,class:"feed-list"},N={class:"feed-info"},R={class:"feed-type"},A={class:"toggle-switch"},D=["checked","onChange"],L={class:"actions"};function T(c,s,d,o,i,f){const l=h("Header"),r=h("Footer");return n(),a("div",E,[p(l),e("div",H,[s[2]||(s[2]=e("div",{class:"preferences-header"},[e("h1",null,"Feed Preferences"),e("p",null,"Customize which feeds appear in your reader")],-1)),o.loading?(n(),a("div",V,"Loading preferences...")):(n(),a("div",x,[(n(!0),a(k,null,m(o.feedStore.feeds,t=>(n(),a("div",{key:t.id,class:"feed-item"},[e("div",N,[e("h3",null,_(t.title),1),e("span",R,_(t.type==="scraped"?"Scraped":"Native RSS"),1)]),e("label",A,[e("input",{type:"checkbox",checked:o.userPrefStore.isFeedEnabled(t.id),onChange:u=>o.handleToggle(t.id,u.target.checked)},null,40,D),s[1]||(s[1]=e("span",{class:"slider"},null,-1))])]))),128))])),e("div",L,[e("button",{class:"back-button",onClick:s[0]||(s[0]=t=>c.$router.push("/"))}," Back to Feed Reader ")])]),p(r)])}const j=g(B,[["render",T],["__scopeId","data-v-a7d99577"]]);export{j as default};
