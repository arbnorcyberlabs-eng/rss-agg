const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PreferencesView-CABfAvI-.js","assets/PreferencesView-Fby51Esr.css","assets/AdminView-C-c4AHvJ.js","assets/LoginForm-ZdYqkuP8.js","assets/LoginForm-Dx66JjzR.css","assets/AdminView-COH3D7t0.css","assets/AuthView-BI6JUmUT.js","assets/AuthView-ChHlDN0g.css","assets/EmailConfirmedView-CKqN-1XX.js","assets/EmailConfirmedView-D0b0mBBi.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yi(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const le={},br=[],gt=()=>{},Oa=()=>!1,Xn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),_i=t=>t.startsWith("onUpdate:"),xe=Object.assign,wi=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},zc=Object.prototype.hasOwnProperty,se=(t,e)=>zc.call(t,e),H=Array.isArray,Sr=t=>un(t)==="[object Map]",Zn=t=>un(t)==="[object Set]",Qi=t=>un(t)==="[object Date]",J=t=>typeof t=="function",be=t=>typeof t=="string",pt=t=>typeof t=="symbol",ce=t=>t!==null&&typeof t=="object",ka=t=>(ce(t)||J(t))&&J(t.then)&&J(t.catch),Ta=Object.prototype.toString,un=t=>Ta.call(t),Jc=t=>un(t).slice(8,-1),Aa=t=>un(t)==="[object Object]",bi=t=>be(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,qr=yi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),es=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},Yc=/-\w/g,Xe=es(t=>t.replace(Yc,e=>e.slice(1).toUpperCase())),Qc=/\B([A-Z])/g,or=es(t=>t.replace(Qc,"-$1").toLowerCase()),ts=es(t=>t.charAt(0).toUpperCase()+t.slice(1)),vs=es(t=>t?`on${ts(t)}`:""),Ft=(t,e)=>!Object.is(t,e),Pn=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Pa=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},jn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Xi;const rs=()=>Xi||(Xi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Si(t){if(H(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=be(n)?tu(n):Si(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(be(t)||ce(t))return t}const Xc=/;(?![^(]*\))/g,Zc=/:([^]+)/,eu=/\/\*[^]*?\*\//g;function tu(t){const e={};return t.replace(eu,"").split(Xc).forEach(r=>{if(r){const n=r.split(Zc);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function kt(t){let e="";if(be(t))e=t;else if(H(t))for(let r=0;r<t.length;r++){const n=kt(t[r]);n&&(e+=n+" ")}else if(ce(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const ru="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nu=yi(ru);function Ra(t){return!!t||t===""}function su(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=ns(t[n],e[n]);return r}function ns(t,e){if(t===e)return!0;let r=Qi(t),n=Qi(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=pt(t),n=pt(e),r||n)return t===e;if(r=H(t),n=H(e),r||n)return r&&n?su(t,e):!1;if(r=ce(t),n=ce(e),r||n){if(!r||!n)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ns(t[o],e[o]))return!1}}return String(t)===String(e)}function iu(t,e){return t.findIndex(r=>ns(r,e))}const Ia=t=>!!(t&&t.__v_isRef===!0),Me=t=>be(t)?t:t==null?"":H(t)||ce(t)&&(t.toString===Ta||!J(t.toString))?Ia(t)?Me(t.value):JSON.stringify(t,Ca,2):String(t),Ca=(t,e)=>Ia(e)?Ca(t,e.value):Sr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[ys(n,i)+" =>"]=s,r),{})}:Zn(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>ys(r))}:pt(e)?ys(e):ce(e)&&!H(e)&&!Aa(e)?String(e):e,ys=(t,e="")=>{var r;return pt(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Re;class xa{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Re,!e&&Re&&(this.index=(Re.scopes||(Re.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Re;try{return Re=this,e()}finally{Re=r}}}on(){++this._on===1&&(this.prevScope=Re,Re=this)}off(){this._on>0&&--this._on===0&&(Re=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function ja(t){return new xa(t)}function Na(){return Re}function ou(t,e=!1){Re&&Re.cleanups.push(t)}let fe;const _s=new WeakSet;class Da{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Re&&Re.active&&Re.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_s.has(this)&&(_s.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||La(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zi(this),Ua(this);const e=fe,r=st;fe=this,st=!0;try{return this.fn()}finally{Fa(this),fe=e,st=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ki(e);this.deps=this.depsTail=void 0,Zi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_s.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ms(this)&&this.run()}get dirty(){return Ms(this)}}let $a=0,Vr,Hr;function La(t,e=!1){if(t.flags|=8,e){t.next=Hr,Hr=t;return}t.next=Vr,Vr=t}function Ei(){$a++}function Oi(){if(--$a>0)return;if(Hr){let e=Hr;for(Hr=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Vr;){let e=Vr;for(Vr=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function Ua(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Fa(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),ki(n),au(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function Ms(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ma(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ma(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===en)||(t.globalVersion=en,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ms(t))))return;t.flags|=2;const e=t.dep,r=fe,n=st;fe=t,st=!0;try{Ua(t);const s=t.fn(t._value);(e.version===0||Ft(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{fe=r,st=n,Fa(t),t.flags&=-3}}function ki(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)ki(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function au(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let st=!0;const Ba=[];function Tt(){Ba.push(st),st=!1}function At(){const t=Ba.pop();st=t===void 0?!0:t}function Zi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=fe;fe=void 0;try{e()}finally{fe=r}}}let en=0;class lu{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ti{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!fe||!st||fe===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==fe)r=this.activeLink=new lu(fe,this),fe.deps?(r.prevDep=fe.depsTail,fe.depsTail.nextDep=r,fe.depsTail=r):fe.deps=fe.depsTail=r,qa(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=fe.depsTail,r.nextDep=void 0,fe.depsTail.nextDep=r,fe.depsTail=r,fe.deps===r&&(fe.deps=n)}return r}trigger(e){this.version++,en++,this.notify(e)}notify(e){Ei();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Oi()}}}function qa(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)qa(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Nn=new WeakMap,sr=Symbol(""),Bs=Symbol(""),tn=Symbol("");function Ie(t,e,r){if(st&&fe){let n=Nn.get(t);n||Nn.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new Ti),s.map=n,s.key=r),s.track()}}function Et(t,e,r,n,s,i){const o=Nn.get(t);if(!o){en++;return}const a=l=>{l&&l.trigger()};if(Ei(),e==="clear")o.forEach(a);else{const l=H(t),c=l&&bi(r);if(l&&r==="length"){const u=Number(n);o.forEach((d,h)=>{(h==="length"||h===tn||!pt(h)&&h>=u)&&a(d)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(tn)),e){case"add":l?c&&a(o.get("length")):(a(o.get(sr)),Sr(t)&&a(o.get(Bs)));break;case"delete":l||(a(o.get(sr)),Sr(t)&&a(o.get(Bs)));break;case"set":Sr(t)&&a(o.get(sr));break}}Oi()}function cu(t,e){const r=Nn.get(t);return r&&r.get(e)}function ur(t){const e=ee(t);return e===t?e:(Ie(e,"iterate",tn),Ye(t)?e:e.map(Te))}function ss(t){return Ie(t=ee(t),"iterate",tn),t}const uu={__proto__:null,[Symbol.iterator](){return ws(this,Symbol.iterator,Te)},concat(...t){return ur(this).concat(...t.map(e=>H(e)?ur(e):e))},entries(){return ws(this,"entries",t=>(t[1]=Te(t[1]),t))},every(t,e){return _t(this,"every",t,e,void 0,arguments)},filter(t,e){return _t(this,"filter",t,e,r=>r.map(Te),arguments)},find(t,e){return _t(this,"find",t,e,Te,arguments)},findIndex(t,e){return _t(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return _t(this,"findLast",t,e,Te,arguments)},findLastIndex(t,e){return _t(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return _t(this,"forEach",t,e,void 0,arguments)},includes(...t){return bs(this,"includes",t)},indexOf(...t){return bs(this,"indexOf",t)},join(t){return ur(this).join(t)},lastIndexOf(...t){return bs(this,"lastIndexOf",t)},map(t,e){return _t(this,"map",t,e,void 0,arguments)},pop(){return $r(this,"pop")},push(...t){return $r(this,"push",t)},reduce(t,...e){return eo(this,"reduce",t,e)},reduceRight(t,...e){return eo(this,"reduceRight",t,e)},shift(){return $r(this,"shift")},some(t,e){return _t(this,"some",t,e,void 0,arguments)},splice(...t){return $r(this,"splice",t)},toReversed(){return ur(this).toReversed()},toSorted(t){return ur(this).toSorted(t)},toSpliced(...t){return ur(this).toSpliced(...t)},unshift(...t){return $r(this,"unshift",t)},values(){return ws(this,"values",Te)}};function ws(t,e,r){const n=ss(t),s=n[e]();return n!==t&&!Ye(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=r(i.value)),i}),s}const du=Array.prototype;function _t(t,e,r,n,s,i){const o=ss(t),a=o!==t&&!Ye(t),l=o[e];if(l!==du[e]){const d=l.apply(t,i);return a?Te(d):d}let c=r;o!==t&&(a?c=function(d,h){return r.call(this,Te(d),h,t)}:r.length>2&&(c=function(d,h){return r.call(this,d,h,t)}));const u=l.call(o,c,n);return a&&s?s(u):u}function eo(t,e,r,n){const s=ss(t);let i=r;return s!==t&&(Ye(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,Te(a),l,t)}),s[e](i,...n)}function bs(t,e,r){const n=ee(t);Ie(n,"iterate",tn);const s=n[e](...r);return(s===-1||s===!1)&&Ri(r[0])?(r[0]=ee(r[0]),n[e](...r)):s}function $r(t,e,r=[]){Tt(),Ei();const n=ee(t)[e].apply(t,r);return Oi(),At(),n}const hu=yi("__proto__,__v_isRef,__isVue"),Va=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(pt));function fu(t){pt(t)||(t=String(t));const e=ee(this);return Ie(e,"has",t),e.hasOwnProperty(t)}class Ha{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?Eu:za:i?Ga:Ka).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=H(e);if(!s){let l;if(o&&(l=uu[r]))return l;if(r==="hasOwnProperty")return fu}const a=Reflect.get(e,r,ye(e)?e:n);if((pt(r)?Va.has(r):hu(r))||(s||Ie(e,"get",r),i))return a;if(ye(a)){const l=o&&bi(r)?a:a.value;return s&&ce(l)?Vs(l):l}return ce(a)?s?Vs(a):dn(a):a}}class Wa extends Ha{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];if(!this._isShallow){const l=Vt(i);if(!Ye(n)&&!Vt(n)&&(i=ee(i),n=ee(n)),!H(e)&&ye(i)&&!ye(n))return l||(i.value=n),!0}const o=H(e)&&bi(r)?Number(r)<e.length:se(e,r),a=Reflect.set(e,r,n,ye(e)?e:s);return e===ee(s)&&(o?Ft(n,i)&&Et(e,"set",r,n):Et(e,"add",r,n)),a}deleteProperty(e,r){const n=se(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&Et(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!pt(r)||!Va.has(r))&&Ie(e,"has",r),n}ownKeys(e){return Ie(e,"iterate",H(e)?"length":sr),Reflect.ownKeys(e)}}class gu extends Ha{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const pu=new Wa,mu=new gu,vu=new Wa(!0);const qs=t=>t,pn=t=>Reflect.getPrototypeOf(t);function yu(t,e,r){return function(...n){const s=this.__v_raw,i=ee(s),o=Sr(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...n),u=r?qs:e?Dn:Te;return!e&&Ie(i,"iterate",l?Bs:sr),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function mn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function _u(t,e){const r={get(s){const i=this.__v_raw,o=ee(i),a=ee(s);t||(Ft(s,a)&&Ie(o,"get",s),Ie(o,"get",a));const{has:l}=pn(o),c=e?qs:t?Dn:Te;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Ie(ee(s),"iterate",sr),s.size},has(s){const i=this.__v_raw,o=ee(i),a=ee(s);return t||(Ft(s,a)&&Ie(o,"has",s),Ie(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=ee(a),c=e?qs:t?Dn:Te;return!t&&Ie(l,"iterate",sr),a.forEach((u,d)=>s.call(i,c(u),c(d),o))}};return xe(r,t?{add:mn("add"),set:mn("set"),delete:mn("delete"),clear:mn("clear")}:{add(s){!e&&!Ye(s)&&!Vt(s)&&(s=ee(s));const i=ee(this);return pn(i).has.call(i,s)||(i.add(s),Et(i,"add",s,s)),this},set(s,i){!e&&!Ye(i)&&!Vt(i)&&(i=ee(i));const o=ee(this),{has:a,get:l}=pn(o);let c=a.call(o,s);c||(s=ee(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?Ft(i,u)&&Et(o,"set",s,i):Et(o,"add",s,i),this},delete(s){const i=ee(this),{has:o,get:a}=pn(i);let l=o.call(i,s);l||(s=ee(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&Et(i,"delete",s,void 0),c},clear(){const s=ee(this),i=s.size!==0,o=s.clear();return i&&Et(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=yu(s,t,e)}),r}function Ai(t,e){const r=_u(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(se(r,s)&&s in n?r:n,s,i)}const wu={get:Ai(!1,!1)},bu={get:Ai(!1,!0)},Su={get:Ai(!0,!1)};const Ka=new WeakMap,Ga=new WeakMap,za=new WeakMap,Eu=new WeakMap;function Ou(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ku(t){return t.__v_skip||!Object.isExtensible(t)?0:Ou(Jc(t))}function dn(t){return Vt(t)?t:Pi(t,!1,pu,wu,Ka)}function Ja(t){return Pi(t,!1,vu,bu,Ga)}function Vs(t){return Pi(t,!0,mu,Su,za)}function Pi(t,e,r,n,s){if(!ce(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=ku(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?n:r);return s.set(t,a),a}function Mt(t){return Vt(t)?Mt(t.__v_raw):!!(t&&t.__v_isReactive)}function Vt(t){return!!(t&&t.__v_isReadonly)}function Ye(t){return!!(t&&t.__v_isShallow)}function Ri(t){return t?!!t.__v_raw:!1}function ee(t){const e=t&&t.__v_raw;return e?ee(e):t}function Ii(t){return!se(t,"__v_skip")&&Object.isExtensible(t)&&Pa(t,"__v_skip",!0),t}const Te=t=>ce(t)?dn(t):t,Dn=t=>ce(t)?Vs(t):t;function ye(t){return t?t.__v_isRef===!0:!1}function ge(t){return Ya(t,!1)}function Tu(t){return Ya(t,!0)}function Ya(t,e){return ye(t)?t:new Au(t,e)}class Au{constructor(e,r){this.dep=new Ti,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:ee(e),this._value=r?e:Te(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Ye(e)||Vt(e);e=n?e:ee(e),Ft(e,r)&&(this._rawValue=e,this._value=n?e:Te(e),this.dep.trigger())}}function Er(t){return ye(t)?t.value:t}const Pu={get:(t,e,r)=>e==="__v_raw"?t:Er(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return ye(s)&&!ye(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function Qa(t){return Mt(t)?t:new Proxy(t,Pu)}function Ru(t){const e=H(t)?new Array(t.length):{};for(const r in t)e[r]=Cu(t,r);return e}class Iu{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return cu(ee(this._object),this._key)}}function Cu(t,e,r){const n=t[e];return ye(n)?n:new Iu(t,e,r)}class xu{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new Ti(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=en-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&fe!==this)return La(this,!0),!0}get value(){const e=this.dep.track();return Ma(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ju(t,e,r=!1){let n,s;return J(t)?n=t:(n=t.get,s=t.set),new xu(n,s,r)}const vn={},$n=new WeakMap;let Qt;function Nu(t,e=!1,r=Qt){if(r){let n=$n.get(r);n||$n.set(r,n=[]),n.push(t)}}function Du(t,e,r=le){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=r,c=E=>s?E:Ye(E)||s===!1||s===0?Ot(E,1):Ot(E);let u,d,h,f,m=!1,y=!1;if(ye(t)?(d=()=>t.value,m=Ye(t)):Mt(t)?(d=()=>c(t),m=!0):H(t)?(y=!0,m=t.some(E=>Mt(E)||Ye(E)),d=()=>t.map(E=>{if(ye(E))return E.value;if(Mt(E))return c(E);if(J(E))return l?l(E,2):E()})):J(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){Tt();try{h()}finally{At()}}const E=Qt;Qt=u;try{return l?l(t,3,[f]):t(f)}finally{Qt=E}}:d=gt,e&&s){const E=d,R=s===!0?1/0:s;d=()=>Ot(E(),R)}const b=Na(),v=()=>{u.stop(),b&&b.active&&wi(b.effects,u)};if(i&&e){const E=e;e=(...R)=>{E(...R),v()}}let w=y?new Array(t.length).fill(vn):vn;const S=E=>{if(!(!(u.flags&1)||!u.dirty&&!E))if(e){const R=u.run();if(s||m||(y?R.some((D,F)=>Ft(D,w[F])):Ft(R,w))){h&&h();const D=Qt;Qt=u;try{const F=[R,w===vn?void 0:y&&w[0]===vn?[]:w,f];w=R,l?l(e,3,F):e(...F)}finally{Qt=D}}}else u.run()};return a&&a(S),u=new Da(d),u.scheduler=o?()=>o(S,!1):S,f=E=>Nu(E,!1,u),h=u.onStop=()=>{const E=$n.get(u);if(E){if(l)l(E,4);else for(const R of E)R();$n.delete(u)}},e?n?S(!0):w=u.run():o?o(S.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function Ot(t,e=1/0,r){if(e<=0||!ce(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,ye(t))Ot(t.value,e,r);else if(H(t))for(let n=0;n<t.length;n++)Ot(t[n],e,r);else if(Zn(t)||Sr(t))t.forEach(n=>{Ot(n,e,r)});else if(Aa(t)){for(const n in t)Ot(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Ot(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hn(t,e,r,n){try{return n?t(...n):t()}catch(s){is(s,e,r)}}function mt(t,e,r,n){if(J(t)){const s=hn(t,e,r,n);return s&&ka(s)&&s.catch(i=>{is(i,e,r)}),s}if(H(t)){const s=[];for(let i=0;i<t.length;i++)s.push(mt(t[i],e,r,n));return s}}function is(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||le;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(i){Tt(),hn(i,null,10,[t,l,c]),At();return}}$u(t,r,s,n,o)}function $u(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const De=[];let dt=-1;const Or=[];let Dt=null,vr=0;const Xa=Promise.resolve();let Ln=null;function os(t){const e=Ln||Xa;return t?e.then(this?t.bind(this):t):e}function Lu(t){let e=dt+1,r=De.length;for(;e<r;){const n=e+r>>>1,s=De[n],i=rn(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function Ci(t){if(!(t.flags&1)){const e=rn(t),r=De[De.length-1];!r||!(t.flags&2)&&e>=rn(r)?De.push(t):De.splice(Lu(e),0,t),t.flags|=1,Za()}}function Za(){Ln||(Ln=Xa.then(tl))}function Uu(t){H(t)?Or.push(...t):Dt&&t.id===-1?Dt.splice(vr+1,0,t):t.flags&1||(Or.push(t),t.flags|=1),Za()}function to(t,e,r=dt+1){for(;r<De.length;r++){const n=De[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;De.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function el(t){if(Or.length){const e=[...new Set(Or)].sort((r,n)=>rn(r)-rn(n));if(Or.length=0,Dt){Dt.push(...e);return}for(Dt=e,vr=0;vr<Dt.length;vr++){const r=Dt[vr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Dt=null,vr=0}}const rn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function tl(t){try{for(dt=0;dt<De.length;dt++){const e=De[dt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),hn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;dt<De.length;dt++){const e=De[dt];e&&(e.flags&=-2)}dt=-1,De.length=0,el(),Ln=null,(De.length||Or.length)&&tl()}}let Ge=null,rl=null;function Un(t){const e=Ge;return Ge=t,rl=t&&t.type.__scopeId||null,e}function Hs(t,e=Ge,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&qn(-1);const i=Un(e);let o;try{o=t(...s)}finally{Un(i),n._d&&qn(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Hv(t,e){if(Ge===null)return t;const r=us(Ge),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=le]=e[s];i&&(J(i)&&(i={mounted:i,updated:i}),i.deep&&Ot(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Gt(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Tt(),mt(l,r,8,[t.el,a,t,e]),At())}}const Fu=Symbol("_vte"),Mu=t=>t.__isTeleport,Bu=Symbol("_leaveCb");function xi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,xi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function nl(t,e){return J(t)?xe({name:t.name},e,{setup:t}):t}function sl(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Fn=new WeakMap;function Wr(t,e,r,n,s=!1){if(H(t)){t.forEach((m,y)=>Wr(m,e&&(H(e)?e[y]:e),r,n,s));return}if(Kr(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Wr(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?us(n.component):n.el,o=s?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===le?a.refs={}:a.refs,d=a.setupState,h=ee(d),f=d===le?Oa:m=>se(h,m);if(c!=null&&c!==l){if(ro(e),be(c))u[c]=null,f(c)&&(d[c]=null);else if(ye(c)){c.value=null;const m=e;m.k&&(u[m.k]=null)}}if(J(l))hn(l,a,12,[o,u]);else{const m=be(l),y=ye(l);if(m||y){const b=()=>{if(t.f){const v=m?f(l)?d[l]:u[l]:l.value;if(s)H(v)&&wi(v,i);else if(H(v))v.includes(i)||v.push(i);else if(m)u[l]=[i],f(l)&&(d[l]=u[l]);else{const w=[i];l.value=w,t.k&&(u[t.k]=w)}}else m?(u[l]=o,f(l)&&(d[l]=o)):y&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const v=()=>{b(),Fn.delete(t)};v.id=-1,Fn.set(t,v),qe(v,r)}else ro(t),b()}}}function ro(t){const e=Fn.get(t);e&&(e.flags|=8,Fn.delete(t))}rs().requestIdleCallback;rs().cancelIdleCallback;const Kr=t=>!!t.type.__asyncLoader,il=t=>t.type.__isKeepAlive;function qu(t,e){ol(t,"a",e)}function Vu(t,e){ol(t,"da",e)}function ol(t,e,r=Ce){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(as(e,n,r),r){let s=r.parent;for(;s&&s.parent;)il(s.parent.vnode)&&Hu(n,e,r,s),s=s.parent}}function Hu(t,e,r,n){const s=as(e,t,n,!0);ll(()=>{wi(n[e],s)},r)}function as(t,e,r=Ce,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Tt();const a=fn(r),l=mt(e,r,t,o);return a(),At(),l});return n?s.unshift(i):s.push(i),i}}const Pt=t=>(e,r=Ce)=>{(!sn||t==="sp")&&as(t,(...n)=>e(...n),r)},Wu=Pt("bm"),al=Pt("m"),Ku=Pt("bu"),Gu=Pt("u"),zu=Pt("bum"),ll=Pt("um"),Ju=Pt("sp"),Yu=Pt("rtg"),Qu=Pt("rtc");function Xu(t,e=Ce){as("ec",t,e)}const Zu="components";function nt(t,e){return td(Zu,t,!0,e)||t}const ed=Symbol.for("v-ndc");function td(t,e,r=!0,n=!1){const s=Ge||Ce;if(s){const i=s.type;{const a=Hd(i,!1);if(a&&(a===e||a===Xe(e)||a===ts(Xe(e))))return i}const o=no(s[t]||i[t],e)||no(s.appContext[t],e);return!o&&n?i:o}}function no(t,e){return t&&(t[e]||t[Xe(e)]||t[ts(Xe(e))])}function Mn(t,e,r,n){let s;const i=r,o=H(t);if(o||be(t)){const a=o&&Mt(t);let l=!1,c=!1;a&&(l=!Ye(t),c=Vt(t),t=ss(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(l?c?Dn(Te(t[u])):Te(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(ce(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,i)}}else s=[];return s}const Ws=t=>t?Rl(t)?us(t):Ws(t.parent):null,Gr=xe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ws(t.parent),$root:t=>Ws(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ul(t),$forceUpdate:t=>t.f||(t.f=()=>{Ci(t.update)}),$nextTick:t=>t.n||(t.n=os.bind(t.proxy)),$watch:t=>Ed.bind(t)}),Ss=(t,e)=>t!==le&&!t.__isScriptSetup&&se(t,e),rd={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(Ss(n,e))return o[e]=1,n[e];if(s!==le&&se(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&se(c,e))return o[e]=3,i[e];if(r!==le&&se(r,e))return o[e]=4,r[e];Ks&&(o[e]=0)}}const u=Gr[e];let d,h;if(u)return e==="$attrs"&&Ie(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(r!==le&&se(r,e))return o[e]=4,r[e];if(h=l.config.globalProperties,se(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return Ss(s,e)?(s[e]=r,!0):n!==le&&se(n,e)?(n[e]=r,!0):se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i,type:o}},a){let l,c;return!!(r[a]||t!==le&&a[0]!=="$"&&se(t,a)||Ss(e,a)||(l=i[0])&&se(l,a)||se(n,a)||se(Gr,a)||se(s.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:se(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function so(t){return H(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Ks=!0;function nd(t){const e=ul(t),r=t.proxy,n=t.ctx;Ks=!1,e.beforeCreate&&io(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:m,activated:y,deactivated:b,beforeDestroy:v,beforeUnmount:w,destroyed:S,unmounted:E,render:R,renderTracked:D,renderTriggered:F,errorCaptured:W,serverPrefetch:j,expose:te,inheritAttrs:pe,components:_e,directives:Ae,filters:Rt}=e;if(c&&sd(c,n,null),o)for(const Y in o){const re=o[Y];J(re)&&(n[Y]=re.bind(r))}if(s){const Y=s.call(r,r);ce(Y)&&(t.data=dn(Y))}if(Ks=!0,i)for(const Y in i){const re=i[Y],yt=J(re)?re.bind(r,r):J(re.get)?re.get.bind(r,r):gt,It=!J(re)&&J(re.set)?re.set.bind(r):gt,ot=oe({get:yt,set:It});Object.defineProperty(n,Y,{enumerable:!0,configurable:!0,get:()=>ot.value,set:$e=>ot.value=$e})}if(a)for(const Y in a)cl(a[Y],n,r,Y);if(l){const Y=J(l)?l.call(r):l;Reflect.ownKeys(Y).forEach(re=>{Rn(re,Y[re])})}u&&io(u,t,"c");function ue(Y,re){H(re)?re.forEach(yt=>Y(yt.bind(r))):re&&Y(re.bind(r))}if(ue(Wu,d),ue(al,h),ue(Ku,f),ue(Gu,m),ue(qu,y),ue(Vu,b),ue(Xu,W),ue(Qu,D),ue(Yu,F),ue(zu,w),ue(ll,E),ue(Ju,j),H(te))if(te.length){const Y=t.exposed||(t.exposed={});te.forEach(re=>{Object.defineProperty(Y,re,{get:()=>r[re],set:yt=>r[re]=yt,enumerable:!0})})}else t.exposed||(t.exposed={});R&&t.render===gt&&(t.render=R),pe!=null&&(t.inheritAttrs=pe),_e&&(t.components=_e),Ae&&(t.directives=Ae),j&&sl(t)}function sd(t,e,r=gt){H(t)&&(t=Gs(t));for(const n in t){const s=t[n];let i;ce(s)?"default"in s?i=Qe(s.from||n,s.default,!0):i=Qe(s.from||n):i=Qe(s),ye(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function io(t,e,r){mt(H(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function cl(t,e,r,n){let s=n.includes(".")?El(r,n):()=>r[n];if(be(t)){const i=e[t];J(i)&&Bt(s,i)}else if(J(t))Bt(s,t.bind(r));else if(ce(t))if(H(t))t.forEach(i=>cl(i,e,r,n));else{const i=J(t.handler)?t.handler.bind(r):e[t.handler];J(i)&&Bt(s,i,t)}}function ul(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!r&&!n?l=e:(l={},s.length&&s.forEach(c=>Bn(l,c,o,!0)),Bn(l,e,o)),ce(e)&&i.set(e,l),l}function Bn(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&Bn(t,i,r,!0),s&&s.forEach(o=>Bn(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=id[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const id={data:oo,props:ao,emits:ao,methods:Mr,computed:Mr,beforeCreate:je,created:je,beforeMount:je,mounted:je,beforeUpdate:je,updated:je,beforeDestroy:je,beforeUnmount:je,destroyed:je,unmounted:je,activated:je,deactivated:je,errorCaptured:je,serverPrefetch:je,components:Mr,directives:Mr,watch:ad,provide:oo,inject:od};function oo(t,e){return e?t?function(){return xe(J(t)?t.call(this,this):t,J(e)?e.call(this,this):e)}:e:t}function od(t,e){return Mr(Gs(t),Gs(e))}function Gs(t){if(H(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function je(t,e){return t?[...new Set([].concat(t,e))]:e}function Mr(t,e){return t?xe(Object.create(null),t,e):e}function ao(t,e){return t?H(t)&&H(e)?[...new Set([...t,...e])]:xe(Object.create(null),so(t),so(e??{})):e}function ad(t,e){if(!t)return e;if(!e)return t;const r=xe(Object.create(null),t);for(const n in e)r[n]=je(t[n],e[n]);return r}function dl(){return{app:null,config:{isNativeTag:Oa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ld=0;function cd(t,e){return function(n,s=null){J(n)||(n=xe({},n)),s!=null&&!ce(s)&&(s=null);const i=dl(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:ld++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Kd,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&J(u.install)?(o.add(u),u.install(c,...d)):J(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||Oe(n,s);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,us(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(mt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=ir;ir=c;try{return u()}finally{ir=d}}};return c}}let ir=null;function Rn(t,e){if(Ce){let r=Ce.provides;const n=Ce.parent&&Ce.parent.provides;n===r&&(r=Ce.provides=Object.create(n)),r[t]=e}}function Qe(t,e,r=!1){const n=Pl();if(n||ir){let s=ir?ir._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&J(e)?e.call(n&&n.proxy):e}}function ud(){return!!(Pl()||ir)}const hl={},fl=()=>Object.create(hl),gl=t=>Object.getPrototypeOf(t)===hl;function dd(t,e,r,n=!1){const s={},i=fl();t.propsDefaults=Object.create(null),pl(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:Ja(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function hd(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=ee(s),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(ls(t.emitsOptions,h))continue;const f=e[h];if(l)if(se(i,h))f!==i[h]&&(i[h]=f,c=!0);else{const m=Xe(h);s[m]=zs(l,a,m,f,t,!1)}else f!==i[h]&&(i[h]=f,c=!0)}}}else{pl(t,e,s,i)&&(c=!0);let u;for(const d in a)(!e||!se(e,d)&&((u=or(d))===d||!se(e,u)))&&(l?r&&(r[d]!==void 0||r[u]!==void 0)&&(s[d]=zs(l,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!se(e,d))&&(delete i[d],c=!0)}c&&Et(t.attrs,"set","")}function pl(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(qr(l))continue;const c=e[l];let u;s&&se(s,u=Xe(l))?!i||!i.includes(u)?r[u]=c:(a||(a={}))[u]=c:ls(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=ee(r),c=a||le;for(let u=0;u<i.length;u++){const d=i[u];r[d]=zs(s,l,d,c[d],t,!se(c,d))}}return o}function zs(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=se(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&J(l)){const{propsDefaults:c}=s;if(r in c)n=c[r];else{const u=fn(s);n=c[r]=l.call(null,e),u()}}else n=l;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===or(r))&&(n=!0))}return n}const fd=new WeakMap;function ml(t,e,r=!1){const n=r?fd:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!J(t)){const u=d=>{l=!0;const[h,f]=ml(d,e,!0);xe(o,h),f&&a.push(...f)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return ce(t)&&n.set(t,br),br;if(H(i))for(let u=0;u<i.length;u++){const d=Xe(i[u]);lo(d)&&(o[d]=le)}else if(i)for(const u in i){const d=Xe(u);if(lo(d)){const h=i[u],f=o[d]=H(h)||J(h)?{type:h}:xe({},h),m=f.type;let y=!1,b=!0;if(H(m))for(let v=0;v<m.length;++v){const w=m[v],S=J(w)&&w.name;if(S==="Boolean"){y=!0;break}else S==="String"&&(b=!1)}else y=J(m)&&m.name==="Boolean";f[0]=y,f[1]=b,(y||se(f,"default"))&&a.push(d)}}const c=[o,a];return ce(t)&&n.set(t,c),c}function lo(t){return t[0]!=="$"&&!qr(t)}const ji=t=>t==="_"||t==="_ctx"||t==="$stable",Ni=t=>H(t)?t.map(ht):[ht(t)],gd=(t,e,r)=>{if(e._n)return e;const n=Hs((...s)=>Ni(e(...s)),r);return n._c=!1,n},vl=(t,e,r)=>{const n=t._ctx;for(const s in t){if(ji(s))continue;const i=t[s];if(J(i))e[s]=gd(s,i,n);else if(i!=null){const o=Ni(i);e[s]=()=>o}}},yl=(t,e)=>{const r=Ni(e);t.slots.default=()=>r},_l=(t,e,r)=>{for(const n in e)(r||!ji(n))&&(t[n]=e[n])},pd=(t,e,r)=>{const n=t.slots=fl();if(t.vnode.shapeFlag&32){const s=e._;s?(_l(n,e,r),r&&Pa(n,"_",s,!0)):vl(e,n)}else e&&yl(t,e)},md=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=le;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:_l(s,e,r):(i=!e.$stable,vl(e,s)),o=e}else e&&(yl(t,e),o={default:1});if(i)for(const a in s)!ji(a)&&o[a]==null&&delete s[a]},qe=Cd;function vd(t){return yd(t)}function yd(t,e){const r=rs();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=gt,insertStaticContent:m}=t,y=(g,p,_,k=null,A=null,O=null,x=void 0,C=null,I=!!p.dynamicChildren)=>{if(g===p)return;g&&!Lr(g,p)&&(k=T(g),$e(g,A,O,!0),g=null),p.patchFlag===-2&&(I=!1,p.dynamicChildren=null);const{type:P,ref:V,shapeFlag:$}=p;switch(P){case cs:b(g,p,_,k);break;case Ht:v(g,p,_,k);break;case In:g==null&&w(p,_,k,x);break;case Fe:_e(g,p,_,k,A,O,x,C,I);break;default:$&1?R(g,p,_,k,A,O,x,C,I):$&6?Ae(g,p,_,k,A,O,x,C,I):($&64||$&128)&&P.process(g,p,_,k,A,O,x,C,I,M)}V!=null&&A?Wr(V,g&&g.ref,O,p||g,!p):V==null&&g&&g.ref!=null&&Wr(g.ref,null,O,g,!0)},b=(g,p,_,k)=>{if(g==null)n(p.el=a(p.children),_,k);else{const A=p.el=g.el;p.children!==g.children&&c(A,p.children)}},v=(g,p,_,k)=>{g==null?n(p.el=l(p.children||""),_,k):p.el=g.el},w=(g,p,_,k)=>{[g.el,g.anchor]=m(g.children,p,_,k,g.el,g.anchor)},S=({el:g,anchor:p},_,k)=>{let A;for(;g&&g!==p;)A=h(g),n(g,_,k),g=A;n(p,_,k)},E=({el:g,anchor:p})=>{let _;for(;g&&g!==p;)_=h(g),s(g),g=_;s(p)},R=(g,p,_,k,A,O,x,C,I)=>{p.type==="svg"?x="svg":p.type==="math"&&(x="mathml"),g==null?D(p,_,k,A,O,x,C,I):j(g,p,A,O,x,C,I)},D=(g,p,_,k,A,O,x,C)=>{let I,P;const{props:V,shapeFlag:$,transition:B,dirs:K}=g;if(I=g.el=o(g.type,O,V&&V.is,V),$&8?u(I,g.children):$&16&&W(g.children,I,null,k,A,Es(g,O),x,C),K&&Gt(g,null,k,"created"),F(I,g,g.scopeId,x,k),V){for(const de in V)de!=="value"&&!qr(de)&&i(I,de,null,V[de],O,k);"value"in V&&i(I,"value",null,V.value,O),(P=V.onVnodeBeforeMount)&&ut(P,k,g)}K&&Gt(g,null,k,"beforeMount");const Z=_d(A,B);Z&&B.beforeEnter(I),n(I,p,_),((P=V&&V.onVnodeMounted)||Z||K)&&qe(()=>{P&&ut(P,k,g),Z&&B.enter(I),K&&Gt(g,null,k,"mounted")},A)},F=(g,p,_,k,A)=>{if(_&&f(g,_),k)for(let O=0;O<k.length;O++)f(g,k[O]);if(A){let O=A.subTree;if(p===O||kl(O.type)&&(O.ssContent===p||O.ssFallback===p)){const x=A.vnode;F(g,x,x.scopeId,x.slotScopeIds,A.parent)}}},W=(g,p,_,k,A,O,x,C,I=0)=>{for(let P=I;P<g.length;P++){const V=g[P]=C?$t(g[P]):ht(g[P]);y(null,V,p,_,k,A,O,x,C)}},j=(g,p,_,k,A,O,x)=>{const C=p.el=g.el;let{patchFlag:I,dynamicChildren:P,dirs:V}=p;I|=g.patchFlag&16;const $=g.props||le,B=p.props||le;let K;if(_&&zt(_,!1),(K=B.onVnodeBeforeUpdate)&&ut(K,_,p,g),V&&Gt(p,g,_,"beforeUpdate"),_&&zt(_,!0),($.innerHTML&&B.innerHTML==null||$.textContent&&B.textContent==null)&&u(C,""),P?te(g.dynamicChildren,P,C,_,k,Es(p,A),O):x||re(g,p,C,null,_,k,Es(p,A),O,!1),I>0){if(I&16)pe(C,$,B,_,A);else if(I&2&&$.class!==B.class&&i(C,"class",null,B.class,A),I&4&&i(C,"style",$.style,B.style,A),I&8){const Z=p.dynamicProps;for(let de=0;de<Z.length;de++){const ae=Z[de],Le=$[ae],Ue=B[ae];(Ue!==Le||ae==="value")&&i(C,ae,Le,Ue,A,_)}}I&1&&g.children!==p.children&&u(C,p.children)}else!x&&P==null&&pe(C,$,B,_,A);((K=B.onVnodeUpdated)||V)&&qe(()=>{K&&ut(K,_,p,g),V&&Gt(p,g,_,"updated")},k)},te=(g,p,_,k,A,O,x)=>{for(let C=0;C<p.length;C++){const I=g[C],P=p[C],V=I.el&&(I.type===Fe||!Lr(I,P)||I.shapeFlag&198)?d(I.el):_;y(I,P,V,null,k,A,O,x,!0)}},pe=(g,p,_,k,A)=>{if(p!==_){if(p!==le)for(const O in p)!qr(O)&&!(O in _)&&i(g,O,p[O],null,A,k);for(const O in _){if(qr(O))continue;const x=_[O],C=p[O];x!==C&&O!=="value"&&i(g,O,C,x,A,k)}"value"in _&&i(g,"value",p.value,_.value,A)}},_e=(g,p,_,k,A,O,x,C,I)=>{const P=p.el=g?g.el:a(""),V=p.anchor=g?g.anchor:a("");let{patchFlag:$,dynamicChildren:B,slotScopeIds:K}=p;K&&(C=C?C.concat(K):K),g==null?(n(P,_,k),n(V,_,k),W(p.children||[],_,V,A,O,x,C,I)):$>0&&$&64&&B&&g.dynamicChildren?(te(g.dynamicChildren,B,_,A,O,x,C),(p.key!=null||A&&p===A.subTree)&&wl(g,p,!0)):re(g,p,_,V,A,O,x,C,I)},Ae=(g,p,_,k,A,O,x,C,I)=>{p.slotScopeIds=C,g==null?p.shapeFlag&512?A.ctx.activate(p,_,k,x,I):Rt(p,_,k,A,O,x,I):Ze(g,p,I)},Rt=(g,p,_,k,A,O,x)=>{const C=g.component=Fd(g,k,A);if(il(g)&&(C.ctx.renderer=M),Md(C,!1,x),C.asyncDep){if(A&&A.registerDep(C,ue,x),!g.el){const I=C.subTree=Oe(Ht);v(null,I,p,_),g.placeholder=I.el}}else ue(C,g,p,_,A,O,x)},Ze=(g,p,_)=>{const k=p.component=g.component;if(Rd(g,p,_))if(k.asyncDep&&!k.asyncResolved){Y(k,p,_);return}else k.next=p,k.update();else p.el=g.el,k.vnode=p},ue=(g,p,_,k,A,O,x)=>{const C=()=>{if(g.isMounted){let{next:$,bu:B,u:K,parent:Z,vnode:de}=g;{const lt=bl(g);if(lt){$&&($.el=de.el,Y(g,$,x)),lt.asyncDep.then(()=>{g.isUnmounted||C()});return}}let ae=$,Le;zt(g,!1),$?($.el=de.el,Y(g,$,x)):$=de,B&&Pn(B),(Le=$.props&&$.props.onVnodeBeforeUpdate)&&ut(Le,Z,$,de),zt(g,!0);const Ue=uo(g),at=g.subTree;g.subTree=Ue,y(at,Ue,d(at.el),T(at),g,A,O),$.el=Ue.el,ae===null&&Id(g,Ue.el),K&&qe(K,A),(Le=$.props&&$.props.onVnodeUpdated)&&qe(()=>ut(Le,Z,$,de),A)}else{let $;const{el:B,props:K}=p,{bm:Z,m:de,parent:ae,root:Le,type:Ue}=g,at=Kr(p);zt(g,!1),Z&&Pn(Z),!at&&($=K&&K.onVnodeBeforeMount)&&ut($,ae,p),zt(g,!0);{Le.ce&&Le.ce._def.shadowRoot!==!1&&Le.ce._injectChildStyle(Ue);const lt=g.subTree=uo(g);y(null,lt,_,k,g,A,O),p.el=lt.el}if(de&&qe(de,A),!at&&($=K&&K.onVnodeMounted)){const lt=p;qe(()=>ut($,ae,lt),A)}(p.shapeFlag&256||ae&&Kr(ae.vnode)&&ae.vnode.shapeFlag&256)&&g.a&&qe(g.a,A),g.isMounted=!0,p=_=k=null}};g.scope.on();const I=g.effect=new Da(C);g.scope.off();const P=g.update=I.run.bind(I),V=g.job=I.runIfDirty.bind(I);V.i=g,V.id=g.uid,I.scheduler=()=>Ci(V),zt(g,!0),P()},Y=(g,p,_)=>{p.component=g;const k=g.vnode.props;g.vnode=p,g.next=null,hd(g,p.props,k,_),md(g,p.children,_),Tt(),to(g),At()},re=(g,p,_,k,A,O,x,C,I=!1)=>{const P=g&&g.children,V=g?g.shapeFlag:0,$=p.children,{patchFlag:B,shapeFlag:K}=p;if(B>0){if(B&128){It(P,$,_,k,A,O,x,C,I);return}else if(B&256){yt(P,$,_,k,A,O,x,C,I);return}}K&8?(V&16&&Je(P,A,O),$!==P&&u(_,$)):V&16?K&16?It(P,$,_,k,A,O,x,C,I):Je(P,A,O,!0):(V&8&&u(_,""),K&16&&W($,_,k,A,O,x,C,I))},yt=(g,p,_,k,A,O,x,C,I)=>{g=g||br,p=p||br;const P=g.length,V=p.length,$=Math.min(P,V);let B;for(B=0;B<$;B++){const K=p[B]=I?$t(p[B]):ht(p[B]);y(g[B],K,_,null,A,O,x,C,I)}P>V?Je(g,A,O,!0,!1,$):W(p,_,k,A,O,x,C,I,$)},It=(g,p,_,k,A,O,x,C,I)=>{let P=0;const V=p.length;let $=g.length-1,B=V-1;for(;P<=$&&P<=B;){const K=g[P],Z=p[P]=I?$t(p[P]):ht(p[P]);if(Lr(K,Z))y(K,Z,_,null,A,O,x,C,I);else break;P++}for(;P<=$&&P<=B;){const K=g[$],Z=p[B]=I?$t(p[B]):ht(p[B]);if(Lr(K,Z))y(K,Z,_,null,A,O,x,C,I);else break;$--,B--}if(P>$){if(P<=B){const K=B+1,Z=K<V?p[K].el:k;for(;P<=B;)y(null,p[P]=I?$t(p[P]):ht(p[P]),_,Z,A,O,x,C,I),P++}}else if(P>B)for(;P<=$;)$e(g[P],A,O,!0),P++;else{const K=P,Z=P,de=new Map;for(P=Z;P<=B;P++){const Be=p[P]=I?$t(p[P]):ht(p[P]);Be.key!=null&&de.set(Be.key,P)}let ae,Le=0;const Ue=B-Z+1;let at=!1,lt=0;const Dr=new Array(Ue);for(P=0;P<Ue;P++)Dr[P]=0;for(P=K;P<=$;P++){const Be=g[P];if(Le>=Ue){$e(Be,A,O,!0);continue}let ct;if(Be.key!=null)ct=de.get(Be.key);else for(ae=Z;ae<=B;ae++)if(Dr[ae-Z]===0&&Lr(Be,p[ae])){ct=ae;break}ct===void 0?$e(Be,A,O,!0):(Dr[ct-Z]=P+1,ct>=lt?lt=ct:at=!0,y(Be,p[ct],_,null,A,O,x,C,I),Le++)}const zi=at?wd(Dr):br;for(ae=zi.length-1,P=Ue-1;P>=0;P--){const Be=Z+P,ct=p[Be],Ji=p[Be+1],Yi=Be+1<V?Ji.el||Ji.placeholder:k;Dr[P]===0?y(null,ct,_,Yi,A,O,x,C,I):at&&(ae<0||P!==zi[ae]?ot(ct,_,Yi,2):ae--)}}},ot=(g,p,_,k,A=null)=>{const{el:O,type:x,transition:C,children:I,shapeFlag:P}=g;if(P&6){ot(g.component.subTree,p,_,k);return}if(P&128){g.suspense.move(p,_,k);return}if(P&64){x.move(g,p,_,M);return}if(x===Fe){n(O,p,_);for(let $=0;$<I.length;$++)ot(I[$],p,_,k);n(g.anchor,p,_);return}if(x===In){S(g,p,_);return}if(k!==2&&P&1&&C)if(k===0)C.beforeEnter(O),n(O,p,_),qe(()=>C.enter(O),A);else{const{leave:$,delayLeave:B,afterLeave:K}=C,Z=()=>{g.ctx.isUnmounted?s(O):n(O,p,_)},de=()=>{O._isLeaving&&O[Bu](!0),$(O,()=>{Z(),K&&K()})};B?B(O,Z,de):de()}else n(O,p,_)},$e=(g,p,_,k=!1,A=!1)=>{const{type:O,props:x,ref:C,children:I,dynamicChildren:P,shapeFlag:V,patchFlag:$,dirs:B,cacheIndex:K}=g;if($===-2&&(A=!1),C!=null&&(Tt(),Wr(C,null,_,g,!0),At()),K!=null&&(p.renderCache[K]=void 0),V&256){p.ctx.deactivate(g);return}const Z=V&1&&B,de=!Kr(g);let ae;if(de&&(ae=x&&x.onVnodeBeforeUnmount)&&ut(ae,p,g),V&6)Kt(g.component,_,k);else{if(V&128){g.suspense.unmount(_,k);return}Z&&Gt(g,null,p,"beforeUnmount"),V&64?g.type.remove(g,p,_,M,k):P&&!P.hasOnce&&(O!==Fe||$>0&&$&64)?Je(P,p,_,!1,!0):(O===Fe&&$&384||!A&&V&16)&&Je(I,p,_),k&&lr(g)}(de&&(ae=x&&x.onVnodeUnmounted)||Z)&&qe(()=>{ae&&ut(ae,p,g),Z&&Gt(g,null,p,"unmounted")},_)},lr=g=>{const{type:p,el:_,anchor:k,transition:A}=g;if(p===Fe){cr(_,k);return}if(p===In){E(g);return}const O=()=>{s(_),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(g.shapeFlag&1&&A&&!A.persisted){const{leave:x,delayLeave:C}=A,I=()=>x(_,O);C?C(g.el,O,I):I()}else O()},cr=(g,p)=>{let _;for(;g!==p;)_=h(g),s(g),g=_;s(p)},Kt=(g,p,_)=>{const{bum:k,scope:A,job:O,subTree:x,um:C,m:I,a:P}=g;co(I),co(P),k&&Pn(k),A.stop(),O&&(O.flags|=8,$e(x,g,p,_)),C&&qe(C,p),qe(()=>{g.isUnmounted=!0},p)},Je=(g,p,_,k=!1,A=!1,O=0)=>{for(let x=O;x<g.length;x++)$e(g[x],p,_,k,A)},T=g=>{if(g.shapeFlag&6)return T(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const p=h(g.anchor||g.el),_=p&&p[Fu];return _?h(_):p};let L=!1;const N=(g,p,_)=>{g==null?p._vnode&&$e(p._vnode,null,null,!0):y(p._vnode||null,g,p,null,null,null,_),p._vnode=g,L||(L=!0,to(),el(),L=!1)},M={p:y,um:$e,m:ot,r:lr,mt:Rt,mc:W,pc:re,pbc:te,n:T,o:t};return{render:N,hydrate:void 0,createApp:cd(N)}}function Es({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function zt({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function _d(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function wl(t,e,r=!1){const n=t.children,s=e.children;if(H(n)&&H(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=$t(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&wl(o,a)),a.type===cs&&a.patchFlag!==-1&&(a.el=o.el),a.type===Ht&&!a.el&&(a.el=o.el)}}function wd(t){const e=t.slice(),r=[0];let n,s,i,o,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(s=r[r.length-1],t[s]<c){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<c?i=a+1:o=a;c<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function bl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:bl(e)}function co(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const bd=Symbol.for("v-scx"),Sd=()=>Qe(bd);function Bt(t,e,r){return Sl(t,e,r)}function Sl(t,e,r=le){const{immediate:n,deep:s,flush:i,once:o}=r,a=xe({},r),l=e&&n||!e&&i!=="post";let c;if(sn){if(i==="sync"){const f=Sd();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=gt,f.resume=gt,f.pause=gt,f}}const u=Ce;a.call=(f,m,y)=>mt(f,u,m,y);let d=!1;i==="post"?a.scheduler=f=>{qe(f,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(f,m)=>{m?f():Ci(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=Du(t,e,a);return sn&&(c?c.push(h):l&&h()),h}function Ed(t,e,r){const n=this.proxy,s=be(t)?t.includes(".")?El(n,t):()=>n[t]:t.bind(n,n);let i;J(e)?i=e:(i=e.handler,r=e);const o=fn(this),a=Sl(s,i.bind(n),r);return o(),a}function El(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}const Od=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Xe(e)}Modifiers`]||t[`${or(e)}Modifiers`];function kd(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||le;let s=r;const i=e.startsWith("update:"),o=i&&Od(n,e.slice(7));o&&(o.trim&&(s=r.map(u=>be(u)?u.trim():u)),o.number&&(s=r.map(jn)));let a,l=n[a=vs(e)]||n[a=vs(Xe(e))];!l&&i&&(l=n[a=vs(or(e))]),l&&mt(l,t,6,s);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,mt(c,t,6,s)}}const Td=new WeakMap;function Ol(t,e,r=!1){const n=r?Td:e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!J(t)){const l=c=>{const u=Ol(c,e,!0);u&&(a=!0,xe(o,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ce(t)&&n.set(t,null),null):(H(i)?i.forEach(l=>o[l]=null):xe(o,i),ce(t)&&n.set(t,o),o)}function ls(t,e){return!t||!Xn(e)?!1:(e=e.slice(2).replace(/Once$/,""),se(t,e[0].toLowerCase()+e.slice(1))||se(t,or(e))||se(t,e))}function uo(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:m,inheritAttrs:y}=t,b=Un(t);let v,w;try{if(r.shapeFlag&4){const E=s||n,R=E;v=ht(c.call(R,E,u,d,f,h,m)),w=a}else{const E=e;v=ht(E.length>1?E(d,{attrs:a,slots:o,emit:l}):E(d,null)),w=e.props?a:Ad(a)}}catch(E){zr.length=0,is(E,t,1),v=Oe(Ht)}let S=v;if(w&&y!==!1){const E=Object.keys(w),{shapeFlag:R}=S;E.length&&R&7&&(i&&E.some(_i)&&(w=Pd(w,i)),S=Ar(S,w,!1,!0))}return r.dirs&&(S=Ar(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&xi(S,r.transition),v=S,Un(b),v}const Ad=t=>{let e;for(const r in t)(r==="class"||r==="style"||Xn(r))&&((e||(e={}))[r]=t[r]);return e},Pd=(t,e)=>{const r={};for(const n in t)(!_i(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Rd(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?ho(n,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==n[h]&&!ls(c,h))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?ho(n,o,c):!0:!!o;return!1}function ho(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!ls(r,i))return!0}return!1}function Id({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const kl=t=>t.__isSuspense;function Cd(t,e){e&&e.pendingBranch?H(t)?e.effects.push(...t):e.effects.push(t):Uu(t)}const Fe=Symbol.for("v-fgt"),cs=Symbol.for("v-txt"),Ht=Symbol.for("v-cmt"),In=Symbol.for("v-stc"),zr=[];let ze=null;function Q(t=!1){zr.push(ze=t?null:[])}function xd(){zr.pop(),ze=zr[zr.length-1]||null}let nn=1;function qn(t,e=!1){nn+=t,t<0&&ze&&e&&(ze.hasOnce=!0)}function Tl(t){return t.dynamicChildren=nn>0?ze||br:null,xd(),nn>0&&ze&&ze.push(t),t}function ie(t,e,r,n,s,i){return Tl(z(t,e,r,n,s,i,!0))}function qt(t,e,r,n,s){return Tl(Oe(t,e,r,n,s,!0))}function Vn(t){return t?t.__v_isVNode===!0:!1}function Lr(t,e){return t.type===e.type&&t.key===e.key}const Al=({key:t})=>t??null,Cn=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?be(t)||ye(t)||J(t)?{i:Ge,r:t,k:e,f:!!r}:t:null);function z(t,e=null,r=null,n=0,s=null,i=t===Fe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Al(e),ref:e&&Cn(e),scopeId:rl,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ge};return a?(Di(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=be(r)?8:16),nn>0&&!o&&ze&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ze.push(l),l}const Oe=jd;function jd(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===ed)&&(t=Ht),Vn(t)){const a=Ar(t,e,!0);return r&&Di(a,r),nn>0&&!i&&ze&&(a.shapeFlag&6?ze[ze.indexOf(t)]=a:ze.push(a)),a.patchFlag=-2,a}if(Wd(t)&&(t=t.__vccOpts),e){e=Nd(e);let{class:a,style:l}=e;a&&!be(a)&&(e.class=kt(a)),ce(l)&&(Ri(l)&&!H(l)&&(l=xe({},l)),e.style=Si(l))}const o=be(t)?1:kl(t)?128:Mu(t)?64:ce(t)?4:J(t)?2:0;return z(t,e,r,n,s,o,i,!0)}function Nd(t){return t?Ri(t)||gl(t)?xe({},t):t:null}function Ar(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?$d(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Al(c),ref:e&&e.ref?r&&i?H(i)?i.concat(Cn(e)):[i,Cn(e)]:Cn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ar(t.ssContent),ssFallback:t.ssFallback&&Ar(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&xi(u,l.clone(u)),u}function Js(t=" ",e=0){return Oe(cs,null,t,e)}function Dd(t,e){const r=Oe(In,null,t);return r.staticCount=e,r}function He(t="",e=!1){return e?(Q(),qt(Ht,null,t)):Oe(Ht,null,t)}function ht(t){return t==null||typeof t=="boolean"?Oe(Ht):H(t)?Oe(Fe,null,t.slice()):Vn(t)?$t(t):Oe(cs,null,String(t))}function $t(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ar(t)}function Di(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(H(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),Di(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!gl(e)?e._ctx=Ge:s===3&&Ge&&(Ge.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else J(e)?(e={default:e,_ctx:Ge},r=32):(e=String(e),n&64?(r=16,e=[Js(e)]):r=8);t.children=e,t.shapeFlag|=r}function $d(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=kt([e.class,n.class]));else if(s==="style")e.style=Si([e.style,n.style]);else if(Xn(s)){const i=e[s],o=n[s];o&&i!==o&&!(H(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function ut(t,e,r,n=null){mt(t,e,7,[r,n])}const Ld=dl();let Ud=0;function Fd(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||Ld,i={uid:Ud++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ml(n,s),emitsOptions:Ol(n,s),emit:null,emitted:null,propsDefaults:le,inheritAttrs:n.inheritAttrs,ctx:le,data:le,props:le,attrs:le,slots:le,refs:le,setupState:le,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=kd.bind(null,i),t.ce&&t.ce(i),i}let Ce=null;const Pl=()=>Ce||Ge;let Hn,Ys;{const t=rs(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Hn=e("__VUE_INSTANCE_SETTERS__",r=>Ce=r),Ys=e("__VUE_SSR_SETTERS__",r=>sn=r)}const fn=t=>{const e=Ce;return Hn(t),t.scope.on(),()=>{t.scope.off(),Hn(e)}},fo=()=>{Ce&&Ce.scope.off(),Hn(null)};function Rl(t){return t.vnode.shapeFlag&4}let sn=!1;function Md(t,e=!1,r=!1){e&&Ys(e);const{props:n,children:s}=t.vnode,i=Rl(t);dd(t,n,i,e),pd(t,s,r||e);const o=i?Bd(t,e):void 0;return e&&Ys(!1),o}function Bd(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,rd);const{setup:n}=r;if(n){Tt();const s=t.setupContext=n.length>1?Vd(t):null,i=fn(t),o=hn(n,t,0,[t.props,s]),a=ka(o);if(At(),i(),(a||t.sp)&&!Kr(t)&&sl(t),a){if(o.then(fo,fo),e)return o.then(l=>{go(t,l)}).catch(l=>{is(l,t,0)});t.asyncDep=o}else go(t,o)}else Il(t)}function go(t,e,r){J(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ce(e)&&(t.setupState=Qa(e)),Il(t)}function Il(t,e,r){const n=t.type;t.render||(t.render=n.render||gt);{const s=fn(t);Tt();try{nd(t)}finally{At(),s()}}}const qd={get(t,e){return Ie(t,"get",""),t[e]}};function Vd(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,qd),slots:t.slots,emit:t.emit,expose:e}}function us(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Qa(Ii(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Gr)return Gr[r](t)},has(e,r){return r in e||r in Gr}})):t.proxy}function Hd(t,e=!0){return J(t)?t.displayName||t.name:t.name||e&&t.__name}function Wd(t){return J(t)&&"__vccOpts"in t}const oe=(t,e)=>ju(t,e,sn);function Cl(t,e,r){try{qn(-1);const n=arguments.length;return n===2?ce(e)&&!H(e)?Vn(e)?Oe(t,null,[e]):Oe(t,e):Oe(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Vn(r)&&(r=[r]),Oe(t,e,r))}finally{qn(1)}}const Kd="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qs;const po=typeof window<"u"&&window.trustedTypes;if(po)try{Qs=po.createPolicy("vue",{createHTML:t=>t})}catch{}const xl=Qs?t=>Qs.createHTML(t):t=>t,Gd="http://www.w3.org/2000/svg",zd="http://www.w3.org/1998/Math/MathML",bt=typeof document<"u"?document:null,mo=bt&&bt.createElement("template"),Jd={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?bt.createElementNS(Gd,t):e==="mathml"?bt.createElementNS(zd,t):r?bt.createElement(t,{is:r}):bt.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>bt.createTextNode(t),createComment:t=>bt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{mo.innerHTML=xl(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=mo.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Yd=Symbol("_vtc");function Qd(t,e,r){const n=t[Yd];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const vo=Symbol("_vod"),Xd=Symbol("_vsh"),Zd=Symbol(""),eh=/(?:^|;)\s*display\s*:/;function th(t,e,r){const n=t.style,s=be(r);let i=!1;if(r&&!s){if(e)if(be(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&xn(n,a,"")}else for(const o in e)r[o]==null&&xn(n,o,"");for(const o in r)o==="display"&&(i=!0),xn(n,o,r[o])}else if(s){if(e!==r){const o=n[Zd];o&&(r+=";"+o),n.cssText=r,i=eh.test(r)}}else e&&t.removeAttribute("style");vo in t&&(t[vo]=i?n.display:"",t[Xd]&&(n.display="none"))}const yo=/\s*!important$/;function xn(t,e,r){if(H(r))r.forEach(n=>xn(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=rh(t,e);yo.test(r)?t.setProperty(or(n),r.replace(yo,""),"important"):t[n]=r}}const _o=["Webkit","Moz","ms"],Os={};function rh(t,e){const r=Os[e];if(r)return r;let n=Xe(e);if(n!=="filter"&&n in t)return Os[e]=n;n=ts(n);for(let s=0;s<_o.length;s++){const i=_o[s]+n;if(i in t)return Os[e]=i}return e}const wo="http://www.w3.org/1999/xlink";function bo(t,e,r,n,s,i=nu(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(wo,e.slice(6,e.length)):t.setAttributeNS(wo,e,r):r==null||i&&!Ra(r)?t.removeAttribute(e):t.setAttribute(e,i?"":pt(r)?String(r):r)}function So(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?xl(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=Ra(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function Zt(t,e,r,n){t.addEventListener(e,r,n)}function nh(t,e,r,n){t.removeEventListener(e,r,n)}const Eo=Symbol("_vei");function sh(t,e,r,n,s=null){const i=t[Eo]||(t[Eo]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=ih(e);if(n){const c=i[e]=lh(n,s);Zt(t,a,c,l)}else o&&(nh(t,a,o,l),i[e]=void 0)}}const Oo=/(?:Once|Passive|Capture)$/;function ih(t){let e;if(Oo.test(t)){e={};let n;for(;n=t.match(Oo);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):or(t.slice(2)),e]}let ks=0;const oh=Promise.resolve(),ah=()=>ks||(oh.then(()=>ks=0),ks=Date.now());function lh(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;mt(ch(n,r.value),e,5,[n])};return r.value=t,r.attached=ah(),r}function ch(t,e){if(H(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const ko=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,uh=(t,e,r,n,s,i)=>{const o=s==="svg";e==="class"?Qd(t,n,o):e==="style"?th(t,r,n):Xn(e)?_i(e)||sh(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):dh(t,e,n,o))?(So(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&bo(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!be(n))?So(t,Xe(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),bo(t,e,n,o))};function dh(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&ko(e)&&J(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ko(e)&&be(r)?!1:e in t}const Wn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return H(e)?r=>Pn(e,r):e};function hh(t){t.target.composing=!0}function To(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const kr=Symbol("_assign"),Wv={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t[kr]=Wn(s);const i=n||s.props&&s.props.type==="number";Zt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=jn(a)),t[kr](a)}),r&&Zt(t,"change",()=>{t.value=t.value.trim()}),e||(Zt(t,"compositionstart",hh),Zt(t,"compositionend",To),Zt(t,"change",To))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:s,number:i}},o){if(t[kr]=Wn(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?jn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||s&&t.value.trim()===l)||(t.value=l))}},Kv={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const s=Zn(e);Zt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?jn(Kn(o)):Kn(o));t[kr](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,os(()=>{t._assigning=!1})}),t[kr]=Wn(n)},mounted(t,{value:e}){Ao(t,e)},beforeUpdate(t,e,r){t[kr]=Wn(r)},updated(t,{value:e}){t._assigning||Ao(t,e)}};function Ao(t,e){const r=t.multiple,n=H(e);if(!(r&&!n&&!Zn(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=Kn(o);if(r)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=iu(e,a)>-1}else o.selected=e.has(a);else if(ns(Kn(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Kn(t){return"_value"in t?t._value:t.value}const fh=["ctrl","shift","alt","meta"],gh={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>fh.some(r=>t[`${r}Key`]&&!e.includes(r))},Gv=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=gh[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},ph=xe({patchProp:uh},Jd);let Po;function mh(){return Po||(Po=vd(ph))}const vh=((...t)=>{const e=mh().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=_h(n);if(!s)return;const i=e._component;!J(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,yh(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function yh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _h(t){return be(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let jl;const ds=t=>jl=t,Nl=Symbol();function Xs(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Jr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Jr||(Jr={}));function wh(){const t=ja(!0),e=t.run(()=>ge({}));let r=[],n=[];const s=Ii({install(i){ds(s),s._a=i,i.provide(Nl,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const Dl=()=>{};function Ro(t,e,r,n=Dl){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&Na()&&ou(s),s}function dr(t,...e){t.slice().forEach(r=>{r(...e)})}const bh=t=>t(),Io=Symbol(),Ts=Symbol();function Zs(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];Xs(s)&&Xs(n)&&t.hasOwnProperty(r)&&!ye(n)&&!Mt(n)?t[r]=Zs(s,n):t[r]=n}return t}const Sh=Symbol();function Eh(t){return!Xs(t)||!Object.prototype.hasOwnProperty.call(t,Sh)}const{assign:jt}=Object;function Oh(t){return!!(ye(t)&&t.effect)}function kh(t,e,r,n){const{state:s,actions:i,getters:o}=e,a=r.state.value[t];let l;function c(){a||(r.state.value[t]=s?s():{});const u=Ru(r.state.value[t]);return jt(u,i,Object.keys(o||{}).reduce((d,h)=>(d[h]=Ii(oe(()=>{ds(r);const f=r._s.get(t);return o[h].call(f,f)})),d),{}))}return l=$l(t,c,e,r,n,!0),l}function $l(t,e,r={},n,s,i){let o;const a=jt({actions:{}},r),l={deep:!0};let c,u,d=[],h=[],f;const m=n.state.value[t];!i&&!m&&(n.state.value[t]={}),ge({});let y;function b(W){let j;c=u=!1,typeof W=="function"?(W(n.state.value[t]),j={type:Jr.patchFunction,storeId:t,events:f}):(Zs(n.state.value[t],W),j={type:Jr.patchObject,payload:W,storeId:t,events:f});const te=y=Symbol();os().then(()=>{y===te&&(c=!0)}),u=!0,dr(d,j,n.state.value[t])}const v=i?function(){const{state:j}=r,te=j?j():{};this.$patch(pe=>{jt(pe,te)})}:Dl;function w(){o.stop(),d=[],h=[],n._s.delete(t)}const S=(W,j="")=>{if(Io in W)return W[Ts]=j,W;const te=function(){ds(n);const pe=Array.from(arguments),_e=[],Ae=[];function Rt(Y){_e.push(Y)}function Ze(Y){Ae.push(Y)}dr(h,{args:pe,name:te[Ts],store:R,after:Rt,onError:Ze});let ue;try{ue=W.apply(this&&this.$id===t?this:R,pe)}catch(Y){throw dr(Ae,Y),Y}return ue instanceof Promise?ue.then(Y=>(dr(_e,Y),Y)).catch(Y=>(dr(Ae,Y),Promise.reject(Y))):(dr(_e,ue),ue)};return te[Io]=!0,te[Ts]=j,te},E={_p:n,$id:t,$onAction:Ro.bind(null,h),$patch:b,$reset:v,$subscribe(W,j={}){const te=Ro(d,W,j.detached,()=>pe()),pe=o.run(()=>Bt(()=>n.state.value[t],_e=>{(j.flush==="sync"?u:c)&&W({storeId:t,type:Jr.direct,events:f},_e)},jt({},l,j)));return te},$dispose:w},R=dn(E);n._s.set(t,R);const F=(n._a&&n._a.runWithContext||bh)(()=>n._e.run(()=>(o=ja()).run(()=>e({action:S}))));for(const W in F){const j=F[W];if(ye(j)&&!Oh(j)||Mt(j))i||(m&&Eh(j)&&(ye(j)?j.value=m[W]:Zs(j,m[W])),n.state.value[t][W]=j);else if(typeof j=="function"){const te=S(j,W);F[W]=te,a.actions[W]=j}}return jt(R,F),jt(ee(R),F),Object.defineProperty(R,"$state",{get:()=>n.state.value[t],set:W=>{b(j=>{jt(j,W)})}}),n._p.forEach(W=>{jt(R,o.run(()=>W({store:R,app:n._a,pinia:n,options:a})))}),m&&i&&r.hydrate&&r.hydrate(R.$state,m),c=!0,u=!0,R}/*! #__NO_SIDE_EFFECTS__ */function hs(t,e,r){let n;const s=typeof e=="function";n=s?r:e;function i(o,a){const l=ud();return o=o||(l?Qe(Nl,null):null),o&&ds(o),o=jl,o._s.has(t)||(s?$l(t,e,n,o):kh(t,n,o)),o._s.get(t)}return i.$id=t,i}var ei=function(t,e){return ei=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ei(t,e)};function Ll(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ei(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Gn=function(){return Gn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Gn.apply(this,arguments)};function jr(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Ul(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Fl(t,e){return function(r,n){e(r,n,t)}}function Ml(t,e,r,n,s,i){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,h=!1,f=r.length-1;f>=0;f--){var m={};for(var y in n)m[y]=y==="access"?{}:n[y];for(var y in n.access)m.access[y]=n.access[y];m.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(v||null))};var b=(0,r[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],m);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(d=o(b.get))&&(u.get=d),(d=o(b.set))&&(u.set=d),(d=o(b.init))&&s.unshift(d)}else(d=o(b))&&(a==="field"?s.unshift(d):u[l]=d)}c&&Object.defineProperty(c,n.name,u),h=!0}function Bl(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function ql(t){return typeof t=="symbol"?t:"".concat(t)}function Vl(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Hl(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function U(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function Wl(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var fs=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function Kl(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&fs(e,t,r)}function zn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $i(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Gl(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($i(arguments[e]));return t}function zl(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Jl(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Pr(t){return this instanceof Pr?(this.v=t,this):new Pr(t)}function Yl(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(f){return function(m){return Promise.resolve(m).then(f,d)}}function a(f,m){n[f]&&(s[f]=function(y){return new Promise(function(b,v){i.push([f,y,b,v])>1||l(f,y)})},m&&(s[f]=m(s[f])))}function l(f,m){try{c(n[f](m))}catch(y){h(i[0][3],y)}}function c(f){f.value instanceof Pr?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,m){f(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Ql(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Pr(t[s](o)),done:!1}:i?i(o):o}:i}}function Xl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof zn=="function"?zn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function Zl(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Th=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},ti=function(t){return ti=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},ti(t)};function ec(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=ti(t),n=0;n<r.length;n++)r[n]!=="default"&&fs(e,t,r[n]);return Th(e,t),e}function tc(t){return t&&t.__esModule?t:{default:t}}function rc(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function nc(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function sc(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function ic(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Ah=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function oc(t){function e(i){t.error=t.hasError?new Ah(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function ac(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const Ph={__extends:Ll,__assign:Gn,__rest:jr,__decorate:Ul,__param:Fl,__esDecorate:Ml,__runInitializers:Bl,__propKey:ql,__setFunctionName:Vl,__metadata:Hl,__awaiter:U,__generator:Wl,__createBinding:fs,__exportStar:Kl,__values:zn,__read:$i,__spread:Gl,__spreadArrays:zl,__spreadArray:Jl,__await:Pr,__asyncGenerator:Yl,__asyncDelegator:Ql,__asyncValues:Xl,__makeTemplateObject:Zl,__importStar:ec,__importDefault:tc,__classPrivateFieldGet:rc,__classPrivateFieldSet:nc,__classPrivateFieldIn:sc,__addDisposableResource:ic,__disposeResources:oc,__rewriteRelativeImportExtension:ac},Rh=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ic,get __assign(){return Gn},__asyncDelegator:Ql,__asyncGenerator:Yl,__asyncValues:Xl,__await:Pr,__awaiter:U,__classPrivateFieldGet:rc,__classPrivateFieldIn:sc,__classPrivateFieldSet:nc,__createBinding:fs,__decorate:Ul,__disposeResources:oc,__esDecorate:Ml,__exportStar:Kl,__extends:Ll,__generator:Wl,__importDefault:tc,__importStar:ec,__makeTemplateObject:Zl,__metadata:Hl,__param:Fl,__propKey:ql,__read:$i,__rest:jr,__rewriteRelativeImportExtension:ac,__runInitializers:Bl,__setFunctionName:Vl,__spread:Gl,__spreadArray:Jl,__spreadArrays:zl,__values:zn,default:Ph},Symbol.toStringTag,{value:"Module"})),Ih="modulepreload",Ch=function(t){return"/rss-agg/"+t},Co={},ft=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=o(r.map(c=>{if(c=Ch(c),c in Co)return;Co[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Ih,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},xh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ft(async()=>{const{default:n}=await Promise.resolve().then(()=>ar);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Li extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class xo extends Li{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jo extends Li{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class No extends Li{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ri;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ri||(ri={}));class jh{constructor(e,{headers:r={},customFetch:n,region:s=ri.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=xh(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return U(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:a,signal:l}=n;let c={},{region:u}=n;u||(u=this.region);const d=new URL(`${this.url}/${r}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(c["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(c["Content-Type"]="application/json",h=JSON.stringify(a)):h=a;const f=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new xo(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new jo(f);if(!f.ok)throw new No(f);let y=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield f.json():y==="application/octet-stream"||y==="application/pdf"?b=yield f.blob():y==="text/event-stream"?b=f:y==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new xo(i)}:{data:null,error:i,response:i instanceof No||i instanceof jo?i.context:void 0}}})}}function Nh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lc(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Pe={};const Nr=lc(Rh);var yn={},_n={},wn={},bn={},Sn={},Dh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rr=Dh();const $h=Rr.fetch,cc=Rr.fetch.bind(Rr),uc=Rr.Headers,Lh=Rr.Request,Uh=Rr.Response,ar=Object.freeze(Object.defineProperty({__proto__:null,Headers:uc,Request:Lh,Response:Uh,default:cc,fetch:$h},Symbol.toStringTag,{value:"Module"})),Fh=lc(ar);var En={},Do;function dc(){if(Do)return En;Do=1,Object.defineProperty(En,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return En.default=t,En}var $o;function hc(){if($o)return Sn;$o=1,Object.defineProperty(Sn,"__esModule",{value:!0});const t=Nr,e=t.__importDefault(Fh),r=t.__importDefault(dc());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let m=null,y=null,b=null,v=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const D=await c.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=D:y=JSON.parse(D))}const E=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),R=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");E&&R&&R.length>1&&(b=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,v=406,w="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const E=await c.text();try{m=JSON.parse(E),Array.isArray(m)&&c.status===404&&(y=[],m=null,v=200,w="OK")}catch{c.status===404&&E===""?(v=204,w="No Content"):m={message:E}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,v=200,w="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:y,count:b,status:v,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Sn.default=n,Sn}var Lo;function fc(){if(Lo)return bn;Lo=1,Object.defineProperty(bn,"__esModule",{value:!0});const e=Nr.__importDefault(hc());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return bn.default=r,bn}var Uo;function Ui(){if(Uo)return wn;Uo=1,Object.defineProperty(wn,"__esModule",{value:!0});const e=Nr.__importDefault(fc());class r extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return wn.default=r,wn}var Fo;function gc(){if(Fo)return _n;Fo=1,Object.defineProperty(_n,"__esModule",{value:!0});const e=Nr.__importDefault(Ui());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return _n.default=r,_n}var Mo;function Mh(){if(Mo)return yn;Mo=1,Object.defineProperty(yn,"__esModule",{value:!0});const t=Nr,e=t.__importDefault(gc()),r=t.__importDefault(Ui());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let d;const h=new URL(`${this.url}/rpc/${i}`);let f;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{h.searchParams.append(y,b)})):(d="POST",f=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new r.default({method:d,url:h,headers:m,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return yn.default=n,yn}var Bo;function Bh(){if(Bo)return Pe;Bo=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const t=Nr,e=t.__importDefault(Mh());Pe.PostgrestClient=e.default;const r=t.__importDefault(gc());Pe.PostgrestQueryBuilder=r.default;const n=t.__importDefault(Ui());Pe.PostgrestFilterBuilder=n.default;const s=t.__importDefault(fc());Pe.PostgrestTransformBuilder=s.default;const i=t.__importDefault(hc());Pe.PostgrestBuilder=i.default;const o=t.__importDefault(dc());return Pe.PostgrestError=o.default,Pe.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},Pe}var qh=Bh();const Vh=Nh(qh),{PostgrestClient:Hh,PostgrestQueryBuilder:zv,PostgrestFilterBuilder:Jv,PostgrestTransformBuilder:Yv,PostgrestBuilder:Qv,PostgrestError:Xv}=Vh;class Wh{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Kh="2.76.1",Gh=`realtime-js/${Kh}`,zh="1.0.0",ni=1e4,Jh=1e3,Yh=100;var Yr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Yr||(Yr={}));var Ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ee||(Ee={}));var rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rt||(rt={}));var si;(function(t){t.websocket="websocket"})(si||(si={}));var er;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(er||(er={}));class Qh{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class pc{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(he||(he={}));const qo=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Xh(o,t,e,s),i),{}):{}},Xh=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?mc(i,o):ii(o)},mc=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return rf(e,r)}switch(t){case he.bool:return Zh(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return ef(e);case he.json:case he.jsonb:return tf(e);case he.timestamp:return nf(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return ii(e);default:return ii(e)}},ii=t=>t,Zh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ef=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tf=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rf=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>mc(e,a))}return t},nf=t=>typeof t=="string"?t.replace(" ","T"):t,vc=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class As{constructor(e,r,n={},s=ni){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Vo;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Vo||(Vo={}));class Qr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Qr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(b=>b.presence_ref),f=d.map(b=>b.presence_ref),m=u.filter(b=>f.indexOf(b.presence_ref)<0),y=d.filter(b=>h.indexOf(b.presence_ref)<0);m.length>0&&(a[c]=m),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ho;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ho||(Ho={}));var Xr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Xr||(Xr={}));var St;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(St||(St={}));class Fi{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new As(this,rt.join,this.params,this.timeout),this.rejoinTimer=new pc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Qr(this),this.broadcastEndpointURL=vc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ee.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Xr.PRESENCE]&&this.bindings[Xr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(St.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(St.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){e==null||e(St.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,v=[];for(let w=0;w<b;w++){const S=y[w],{filter:{event:E,schema:R,table:D,filter:F}}=S,W=f&&f[w];if(W&&W.event===E&&W.schema===R&&W.table===D&&W.filter===F)v.push(Object.assign(Object.assign({},S),{id:W.id}));else{this.unsubscribe(),this.state=Ee.errored,e==null||e(St.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(St.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ee.errored,e==null||e(St.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(St.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ee.joined&&e===Xr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ee.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new As(this,rt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ee.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new As(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Yh){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=rt;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var m,y,b;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(y=f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var m,y,b,v,w,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const E=f.id,R=(m=f.filter)===null||m===void 0?void 0:m.event;return E&&((y=r.ids)===null||y===void 0?void 0:y.includes(E))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const E=(w=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:b,commit_timestamp:v,type:w,errors:S}=m;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(m))}f.callback(h,n)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Fi.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=qo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=qo(e.columns,e.old_record)),r}}const Ps=()=>{},On={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sf=[1e3,2e3,5e3,1e4],of=1e4,af=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lf{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ni,this.transport=null,this.heartbeatIntervalMs=On.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ps,this.ref=0,this.reconnectTimer=null,this.logger=Ps,this.conn=null,this.sendBuffer=[],this.serializer=new Qh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ft(async()=>{const{default:a}=await Promise.resolve().then(()=>ar);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${si.websocket}`,this.httpEndpoint=vc(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Wh.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zh}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Yr.connecting:return er.Connecting;case Yr.open:return er.Open;case Yr.closing:return er.Closing;default:return er.Closed}}isConnected(){return this.connectionState()===er.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Fi(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Jh,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},On.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([af],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Gh};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(rt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new pc(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},On.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ni,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:On.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ps,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:(d=>sf[d-1]||of),this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:((d,h)=>h(JSON.stringify(d))),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Mi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class cf extends Mi{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oi extends Mi{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Bi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ft(async()=>{const{default:n}=await Promise.resolve().then(()=>ar);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},uf=()=>U(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ft(()=>Promise.resolve().then(()=>ar),void 0)).Response:Response}),ai=t=>{if(Array.isArray(t))return t.map(r=>ai(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ai(n)}),e},df=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Rs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hf=(t,e,r)=>U(void 0,void 0,void 0,function*(){const n=yield uf();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new cf(Rs(s),i,o))}).catch(s=>{e(new oi(Rs(s),s))}):e(new oi(Rs(t),t))}),ff=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(df(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function gn(t,e,r,n,s,i){return U(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,ff(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>hf(l,a,n))})})}function on(t,e,r,n){return U(this,void 0,void 0,function*(){return gn(t,"GET",e,r,n)})}function tt(t,e,r,n,s){return U(this,void 0,void 0,function*(){return gn(t,"POST",e,n,s,r)})}function li(t,e,r,n,s){return U(this,void 0,void 0,function*(){return gn(t,"PUT",e,n,s,r)})}function gf(t,e,r,n){return U(this,void 0,void 0,function*(){return gn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function qi(t,e,r,n,s){return U(this,void 0,void 0,function*(){return gn(t,"DELETE",e,n,s,r)})}class pf{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return U(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}}var yc;class mf{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[yc]="BlobDownloadBuilder",this.promise=null}asStream(){return new pf(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return U(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}}yc=Symbol.toStringTag;const vf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yf{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Bi(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return U(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Wo),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(e=="PUT"?li:tt)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}upload(e,r,n){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return U(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Wo.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield li(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return U(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield tt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Mi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}update(e,r,n){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return U(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}copy(e,r,n){return U(this,void 0,void 0,function*(){try{return{data:{path:(yield tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return U(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield tt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return U(this,void 0,void 0,function*(){try{const s=yield tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>on(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new mf(l,this.shouldThrowOnError)}info(e){return U(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield on(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ai(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}exists(e){return U(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield gf(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n)&&n instanceof oi){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return U(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}list(e,r,n){return U(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},vf),r),{prefix:e||""});return{data:yield tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}listV2(e,r){return U(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield tt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const _c="2.76.1",wc={"X-Client-Info":`storage-js/${_c}`};class _f{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wc),r),this.fetch=Bi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return U(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}getBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}createBucket(e){return U(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield tt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return U(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}emptyBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}}class wf{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wc),r),this.fetch=Bi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}listBuckets(e){return U(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,i=yield on(this.fetch,s,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}}const Vi={"X-Client-Info":`storage-js/${_c}`,"Content-Type":"application/json"};class bc extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function We(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Is extends bc{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bf extends bc{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Ko;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ko||(Ko={}));const Hi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ft(async()=>{const{default:n}=await Promise.resolve().then(()=>ar);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Sf=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Go=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ef=(t,e,r)=>U(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Is(Go(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Is(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Is(a,s,o))}}else e(new bf(Go(t),t))}),Of=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Sf(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function kf(t,e,r,n,s,i){return U(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Of(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Ef(l,a,n))})})}function Ke(t,e,r,n,s){return U(this,void 0,void 0,function*(){return kf(t,"POST",e,n,s,r)})}class Tf{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vi),r),this.fetch=Hi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return U(this,void 0,void 0,function*(){try{return{data:(yield Ke(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}getIndex(e,r){return U(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}})}listIndexes(e){return U(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return U(this,void 0,void 0,function*(){try{return{data:(yield Ke(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}})}}class Af{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vi),r),this.fetch=Hi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return U(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ke(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}getVectors(e){return U(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}listVectors(e){return U(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ke(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}queryVectors(e){return U(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}deleteVectors(e){return U(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ke(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}}class Pf{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vi),r),this.fetch=Hi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return U(this,void 0,void 0,function*(){try{return{data:(yield Ke(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}getBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}listBuckets(){return U(this,arguments,void 0,function*(e={}){try{return{data:yield Ke(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}deleteBucket(e){return U(this,void 0,void 0,function*(){try{return{data:(yield Ke(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}}class Rf extends Pf{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new If(this.url,this.headers,e,this.fetch)}}class If extends Tf{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return U(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return U(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return U(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return U(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Cf(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Cf extends Af{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return U(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return U(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return U(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return U(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return U(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class xf extends _f{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new yf(this.url,this.headers,e,this.fetch)}get vectors(){return new Rf(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wf(this.url+"/iceberg",this.headers,this.fetch)}}const jf="2.76.1";let Br="";typeof Deno<"u"?Br="deno":typeof document<"u"?Br="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Br="react-native":Br="node";const Nf={"X-Client-Info":`supabase-js-${Br}/${jf}`},Df={headers:Nf},$f={schema:"public"},Lf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Uf={},Ff=t=>{let e;return t?e=t:typeof fetch>"u"?e=cc:e=fetch,(...r)=>e(...r)},Mf=()=>typeof Headers>"u"?uc:Headers,Bf=(t,e,r)=>{const n=Ff(r),s=Mf();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))}};function qf(t){return t.endsWith("/")?t:t+"/"}function Vf(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Hf(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qf(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Sc="2.76.1",yr=30*1e3,ci=3,Cs=ci*yr,Wf="http://localhost:9999",Kf="supabase.auth.token",Gf={"X-Client-Info":`gotrue-js/${Sc}`},ui="X-Supabase-Api-Version",Ec={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zf=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Jf=600*1e3;class an extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Yf extends an{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Qf(t){return q(t)&&t.name==="AuthApiError"}class tr extends an{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Wt extends an{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Nt extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xf(t){return q(t)&&t.name==="AuthSessionMissingError"}class hr extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kn extends Wt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Tn extends Wt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zf(t){return q(t)&&t.name==="AuthImplicitGrantRedirectError"}class zo extends Wt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class di extends Wt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function xs(t){return q(t)&&t.name==="AuthRetryableFetchError"}class Jo extends Wt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hi extends Wt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yo=` 	
\r=`.split(""),eg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Yo.length;e+=1)t[Yo[e].charCodeAt(0)]=-2;for(let e=0;e<Jn.length;e+=1)t[Jn[e].charCodeAt(0)]=e;return t})();function Qo(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Jn[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Jn[n]),e.queuedBits-=6}}function Oc(t,e,r){const n=eg[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Xo(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{ng(o,n,r)};for(let o=0;o<t.length;o+=1)Oc(t.charCodeAt(o),s,i);return e.join("")}function tg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function rg(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}tg(n,e)}}function ng(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Tr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Oc(t.charCodeAt(s),r,n);return new Uint8Array(e)}function sg(t){const e=[];return rg(t,r=>e.push(r)),new Uint8Array(e)}function rr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Qo(s,r,n)),Qo(null,r,n),e.join("")}function ig(t){return Math.round(Date.now()/1e3)+t}function og(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ve=()=>typeof window<"u"&&typeof document<"u",Jt={tested:!1,writable:!1},kc=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jt.tested)return Jt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jt.tested=!0,Jt.writable=!0}catch{Jt.tested=!0,Jt.writable=!1}return Jt.writable};function ag(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Tc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ft(async()=>{const{default:n}=await Promise.resolve().then(()=>ar);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},lg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_r=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Yt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ct=async(t,e)=>{await t.removeItem(e)};class gs{constructor(){this.promise=new gs.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}gs.promiseConstructor=Promise;function js(t){const e=t.split(".");if(e.length!==3)throw new hi("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!zf.test(e[n]))throw new hi("JWT not in base64url format");return{header:JSON.parse(Xo(e[0])),payload:JSON.parse(Xo(e[1])),signature:Tr(e[2]),raw:{header:e[0],payload:e[1]}}}async function cg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ug(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function dg(t){return("0"+t.toString(16)).substr(-2)}function hg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,dg).join("")}async function fg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function gg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await fg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fr(t,e,r=!1){const n=hg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await _r(t,`${e}-code-verifier`,s);const i=await gg(n);return[i,n===i?"plain":"s256"]}const pg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mg(t){const e=t.headers.get(ui);if(!e||!e.match(pg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function vg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function yg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _g=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gr(t){if(!_g.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ns(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zo(t){return JSON.parse(JSON.stringify(t))}const Xt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wg=[502,503,504];async function ea(t){var e;if(!lg(t))throw new di(Xt(t),0);if(wg.includes(t.status))throw new di(Xt(t),t.status);let r;try{r=await t.json()}catch(i){throw new tr(Xt(i),i)}let n;const s=mg(t);if(s&&s.getTime()>=Ec["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Jo(Xt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Nt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Jo(Xt(r),t.status,r.weak_password.reasons);throw new Yf(Xt(r),t.status||500,n)}const bg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function G(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ui]||(i[ui]=Ec["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Sg(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Sg(t,e,r,n,s,i){const o=bg(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new di(Xt(l),0)}if(a.ok||await ea(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await ea(l)}}function et(t){var e;let r=null;kg(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ig(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ta(t){const e=et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ut(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Eg(t){return{data:t,error:null}}function Og(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=jr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ra(t){return t}function kg(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ds=["global","local","others"];class Tg{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Tc(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Ds[0]){if(Ds.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ds.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ut})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=jr(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Og,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ut})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ra});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){gr(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ut})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){gr(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ut})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){gr(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ut})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){gr(e.userId);try{const{data:r,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _deleteFactor(e){gr(e.userId),gr(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ra});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(q(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}}function na(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const pr={debug:!!(globalThis&&kc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ac extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ag extends Ac{}async function Pg(t,e,r){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ag(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Rg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pc(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ig(t){return parseInt(t,16)}function Cg(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function xg(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Pc(t.address),m=u?`${u}://${n}`:n,y=t.statement?`${t.statement}
`:"",b=`${m} wants you to sign in with your Ethereum account:
${f}

${y}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const S of c){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);w+=`
- ${S}`}v+=w}return`${b}
${v}`}class we extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Yn extends we{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function jg({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new we({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new we({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new we({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new we({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new we({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new we({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new we({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new we({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Rc(o)){if(i.rp.id!==o)return new we({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new we({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new we({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new we({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new we({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ng({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new we({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new we({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Rc(n)){if(r.rpId!==n)return new we({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new we({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new we({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new we({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Dg{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $g=new Dg;function Lg(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=jr(t,["challenge","user","excludeCredentials"]),i=Tr(e).buffer,o=Object.assign(Object.assign({},r),{id:Tr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Tr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Ug(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=jr(t,["challenge","allowCredentials"]),s=Tr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Tr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Fg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:rr(new Uint8Array(t.response.attestationObject)),clientDataJSON:rr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:rr(new Uint8Array(s.authenticatorData)),clientDataJSON:rr(new Uint8Array(s.clientDataJSON)),signature:rr(new Uint8Array(s.signature)),userHandle:s.userHandle?rr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Rc(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function sa(){var t,e;return!!(Ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Bg(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yn("Browser returned unexpected credential type",e)}:{data:null,error:new Yn("Empty credential response",e)}}catch(e){return{data:null,error:jg({error:e,options:t})}}}async function qg(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yn("Browser returned unexpected credential type",e)}:{data:null,error:new Yn("Empty credential response",e)}}catch(e){return{data:null,error:Ng({error:e,options:t})}}}const Vg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Hg={userVerification:"preferred",hints:["security-key"]};function Qn(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Qn(a,o):n[i]=Qn(o)}else n[i]=o}return n}function Wg(t,e){return Qn(Vg,t,e||{})}function Kg(t,e){return Qn(Hg,t,e||{})}class Gg{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??$g.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Wg(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:d}=await Bg({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=Kg(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:d}=await qg(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return q(o)?{data:null,error:o}:{data:null,error:new tr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new an("rpId is required for WebAuthn authentication")};try{if(!sa())return{data:null,error:new tr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return q(o)?{data:null,error:o}:{data:null,error:new tr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new an("rpId is required for WebAuthn registration")};try{if(!sa())return{data:null,error:new tr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return q(o)?{data:null,error:o}:{data:null,error:new tr("Unexpected error in register",o)}}}}Rg();const zg={url:Wf,storageKey:Kf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ia(t,e,r){return await r()}const mr={};class ln{get jwks(){var e,r;return(r=(e=mr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){mr[this.storageKey]=Object.assign(Object.assign({},mr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=mr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mr[this.storageKey]=Object.assign(Object.assign({},mr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ln.nextInstanceID,ln.nextInstanceID+=1,this.instanceID>0&&Ve()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},zg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Tg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Tc(s.fetch),this.lock=s.lock||ia,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ve()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Pg:this.lock=ia,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Gg(this)},this.persistSession?(s.storage?this.storage=s.storage:kc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=na(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=na(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=ag(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ve()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Zf(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return q(r)?{error:r}:{error:new tr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:et}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await fr(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},xform:et})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:et})}else throw new kn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ta})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ta})}else throw new kn("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new hr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,c,u,d,h;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:y,wallet:b,statement:v,options:w}=e;let S;if(Ve())if(typeof b=="object")S=b;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")S=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const E=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),R=await S.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=Pc(R[0]);let F=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!F){const j=await S.request({method:"eth_chainId"});F=Ig(j)}const W={domain:E.host,address:D,statement:v,uri:E.href,version:"1",chainId:F,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=xg(W),m=await S.request({method:"personal_sign",params:[Cg(f),D]})}try{const{data:y,error:b}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:et});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new hr}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(q(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var r,n,s,i,o,a,l,c,u,d,h,f;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:b,wallet:v,statement:w,options:S}=e;let E;if(Ve())if(typeof v=="object")E=v;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))E=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=v}const R=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const D=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),w?{statement:w}:null));let F;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")F=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)F=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)m=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),y=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${R.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((d=(u=S==null?void 0:S.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...S.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const D=await E.signMessage(new TextEncoder().encode(m),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=D}}try{const{data:b,error:v}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:rr(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:et});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new hr}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(q(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await Yt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:et});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new hr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:et}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new hr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await fr(this.storage,this.storageKey));const{error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new kn("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:et});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await fr(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Eg})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Nt;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new kn("You must provide either an email or phone number and a type")}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Yt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Cs:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Yt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ns()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ut}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ut})})}catch(r){if(q(r))return Xf(r)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Nt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await fr(this.storage,this.storageKey));const{data:c,error:u}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ut});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=js(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Nt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ve())throw new Tn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Tn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zo("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Tn("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Yt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Qf(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=og(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await fr(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ve()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(q(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,d=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:et}),{data:h,error:f}=d;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new hr}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:f})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ug(async s=>(s>0&&await cg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:et})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xs(i)&&Date.now()+o-n<yr})}catch(n){if(this._debug(r,"error",n),q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ve()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Yt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Yt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await _r(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ns()}else if(s&&!s.user&&!s.user){const o=await Yt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ct(this.storage,this.storageKey+"-user"),await _r(this.storage,this.storageKey,s)):s.user=Ns()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cs;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Cs}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),xs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new gs;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Nt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),q(i)){const o={data:null,error:i};return xs(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await _r(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Zo(s);await _r(this.storage,this.storageKey,i)}else{const s=Zo(r);await _r(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yr}ms, refresh threshold is ${ci} ticks`),s<=ci&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ac)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await fr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Fg(e.webauthn.credential_response):Mg(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Lg(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ug(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=js(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Jf>s)return n;const{data:i,error:o}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};n=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=js(n);r!=null&&r.allowExpired||vg(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const u=yg(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,sg(`${a}.${l}`)))throw new hi("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}ln.nextInstanceID=0;const Jg=ln;class Yg extends Jg{constructor(e){super(e)}}class Qg{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Hf(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:$f,realtime:Uf,auth:Object.assign(Object.assign({},Lf),{storageKey:l}),global:Df},u=Vf(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Bf(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Hh(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new xf(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new jh(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yg({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lf(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xg=(t,e,r)=>new Qg(t,e,r);function Zg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Zg()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ep="https://godeglzovkxzhwxyxbdd.supabase.co",tp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdvZGVnbHpvdmt4emh3eHl4YmRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNDE2ODAsImV4cCI6MjA3NjYxNzY4MH0.VJ8rpKqRkWyL6DYiViV6_MLdyhkWweUPcSHcPuvmVXg",ke=Xg(ep,tp),Ir=hs("auth",()=>{const t=ge(null),e=ge(null),r=ge(!1),n=ge(!1),s=oe(()=>!!t.value),i=oe(()=>{var m;return((m=e.value)==null?void 0:m.role)==="admin"}),o=oe(()=>{var m;return((m=e.value)==null?void 0:m.role)||"public"}),a=oe(()=>n.value);let l=null;async function c(){var m;if(!t.value){e.value=null;return}try{console.log("Loading profile for user:",t.value.id);const{data:y,error:b}=await ke.from("profiles").select("*").eq("id",t.value.id).single();if(b&&b.code==="PGRST116"){console.warn("⚠️ No profile found for user, creating one:",t.value.id);const{data:v,error:w}=await ke.from("profiles").insert({id:t.value.id,email:t.value.email,full_name:((m=t.value.user_metadata)==null?void 0:m.full_name)||"",role:"user"}).select().single();if(w)throw console.error("❌ Failed to create profile:",w),t.value=null,e.value=null,new Error("Failed to create user profile. Please try logging in again or contact support.");e.value=v,console.log("✓ Profile created successfully:",v);return}if(b)throw console.error("❌ Profile query error:",b),t.value=null,e.value=null,new Error("Failed to load profile. Please try logging in again.");if(!y)throw console.warn("⚠️ No profile data returned for user:",t.value.id),t.value=null,e.value=null,new Error("Profile not found. Please contact support.");e.value=y,console.log("✓ Profile loaded successfully:",y)}catch(y){throw console.error("Error loading profile:",y),e.value=null,t.value=null,y}}async function u(m,y,b){r.value=!0;try{console.log("Attempting signup for:",m);const{data:v,error:w}=await ke.auth.signUp({email:m,password:y,options:{data:{full_name:b}}});if(console.log("Signup response:",{data:v,error:w}),w)throw console.error("Supabase signup error:",w),w;if(!v.user)throw new Error("Signup failed: No user returned");if(console.log("User created:",v.user.id,v.user.email),v.user.identities&&v.user.identities.length===0)throw console.log("⚠️ Email already registered - identities array is empty"),t.value=null,e.value=null,new Error("This email is already registered. Please login instead.");return v.session===null?(console.log("⚠️ Email confirmation required - user NOT logged in automatically"),t.value=null,e.value=null,{user:v.user,session:null,needsConfirmation:!0}):(console.log("✓ Email confirmed or confirmation disabled - logging in user"),t.value=v.user,await c(),console.log("Profile loaded:",e.value),{...v,needsConfirmation:!1})}catch(v){throw console.error("Signup error:",v),t.value=null,e.value=null,v}finally{r.value=!1}}async function d(m,y){var b;r.value=!0;try{console.log("Attempting login for:",m);const{data:v,error:w}=await ke.auth.signInWithPassword({email:m,password:y});if(console.log("Login response:",{user:(b=v==null?void 0:v.user)==null?void 0:b.email,error:w}),w)throw console.error("Supabase login error:",w),w;if(!v.user)throw new Error("Login failed: No user returned");return t.value=v.user,console.log("User logged in:",v.user.id,v.user.email),await c(),console.log("Profile loaded after login:",e.value),v}catch(v){throw console.error("Login error:",v),t.value=null,e.value=null,v}finally{r.value=!1}}async function h(){r.value=!0;try{console.log("Attempting logout..."),t.value=null,e.value=null;const{error:m}=await ke.auth.signOut();if(m)throw console.error("Supabase logout error:",m),m;console.log("✓ Logout successful")}catch(m){throw console.error("Logout error:",m),t.value=null,e.value=null,m}finally{r.value=!1}}async function f(m={}){const{force:y=!1}=m;if(l&&!y)return l;if(n.value&&!y&&!l)return;r.value=!0;const b=(async()=>{try{const{data:{user:v}}=await ke.auth.getUser();if(t.value=v||null,v)try{await c()}catch(w){console.error("Failed to load profile during auth check:",w);try{await ke.auth.signOut()}catch{}t.value=null,e.value=null}else e.value=null}catch(v){throw console.error("Auth check error:",v),t.value=null,e.value=null,v}finally{r.value=!1,n.value=!0}})();l=b;try{await b}finally{l===b&&(l=null)}}return ke.auth.onAuthStateChange(async(m,y)=>{var b;if(console.log("Auth state change:",m,((b=y==null?void 0:y.user)==null?void 0:b.email)||"no user"),n.value=!0,m==="SIGNED_OUT"){t.value=null,e.value=null,console.log("✓ User signed out via auth state change");return}if(t.value=(y==null?void 0:y.user)||null,y!=null&&y.user)try{await c()}catch(v){console.error("Error loading profile in auth state change:",v),t.value=null,e.value=null}else e.value=null}),{user:t,profile:e,loading:r,isReady:a,isAuthenticated:s,isAdmin:i,userRole:o,signup:u,login:d,logout:h,checkAuth:f}}),rp={id:"app"},np={class:"container"},sp={key:0,class:"app-loading"},ip={__name:"App",setup(t){const e=Ir(),r=oe(()=>!e.isReady&&e.loading);return(n,s)=>{const i=nt("router-view");return Q(),ie("div",rp,[z("div",np,[r.value?(Q(),ie("div",sp,[...s[0]||(s[0]=[z("p",{class:"loading-text"},"Initializing...",-1)])])):(Q(),qt(i,{key:1}))])])}}};/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const wr=typeof document<"u";function Ic(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function op(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ic(t.default)}const ne=Object.assign;function $s(t,e){const r={};for(const n in e){const s=e[n];r[n]=it(s)?s.map(t):t(s)}return r}const Zr=()=>{},it=Array.isArray;function oa(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}const Cc=/#/g,ap=/&/g,lp=/\//g,cp=/=/g,up=/\?/g,xc=/\+/g,dp=/%5B/g,hp=/%5D/g,jc=/%5E/g,fp=/%60/g,Nc=/%7B/g,gp=/%7C/g,Dc=/%7D/g,pp=/%20/g;function Wi(t){return t==null?"":encodeURI(""+t).replace(gp,"|").replace(dp,"[").replace(hp,"]")}function mp(t){return Wi(t).replace(Nc,"{").replace(Dc,"}").replace(jc,"^")}function fi(t){return Wi(t).replace(xc,"%2B").replace(pp,"+").replace(Cc,"%23").replace(ap,"%26").replace(fp,"`").replace(Nc,"{").replace(Dc,"}").replace(jc,"^")}function vp(t){return fi(t).replace(cp,"%3D")}function yp(t){return Wi(t).replace(Cc,"%23").replace(up,"%3F")}function _p(t){return yp(t).replace(lp,"%2F")}function cn(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const wp=/\/$/,bp=t=>t.replace(wp,"");function Ls(t,e,r="/"){let n,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=e.slice(0,l),i=e.slice(l,a>0?a:e.length),s=t(i.slice(1))),a>=0&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=kp(n??e,r),{fullPath:n+i+o,path:n,query:s,hash:cn(o)}}function Sp(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function aa(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ep(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&Cr(e.matched[n],r.matched[s])&&$c(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Cr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function $c(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Op(t[r],e[r]))return!1;return!0}function Op(t,e){return it(t)?la(t,e):it(e)?la(e,t):t===e}function la(t,e){return it(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function kp(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const xt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let gi=(function(t){return t.pop="pop",t.push="push",t})({}),Us=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Tp(t){if(!t)if(wr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),bp(t)}const Ap=/^[^#]+#/;function Pp(t,e){return t.replace(Ap,"#")+e}function Rp(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const ps=()=>({left:window.scrollX,top:window.scrollY});function Ip(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=Rp(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ca(t,e){return(history.state?history.state.position-e:-1)+t}const pi=new Map;function Cp(t,e){pi.set(t,e)}function xp(t){const e=pi.get(t);return pi.delete(t),e}function jp(t){return typeof t=="string"||t&&typeof t=="object"}function Lc(t){return typeof t=="string"||typeof t=="symbol"}let ve=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Uc=Symbol("");ve.MATCHER_NOT_FOUND+"",ve.NAVIGATION_GUARD_REDIRECT+"",ve.NAVIGATION_ABORTED+"",ve.NAVIGATION_CANCELLED+"",ve.NAVIGATION_DUPLICATED+"";function xr(t,e){return ne(new Error,{type:t,[Uc]:!0},e)}function wt(t,e){return t instanceof Error&&Uc in t&&(e==null||!!(t.type&e))}const Np=["params","query","hash"];function Dp(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of Np)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function $p(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const s=r[n].replace(xc," "),i=s.indexOf("="),o=cn(i<0?s:s.slice(0,i)),a=i<0?null:cn(s.slice(i+1));if(o in e){let l=e[o];it(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function ua(t){let e="";for(let r in t){const n=t[r];if(r=vp(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(it(n)?n.map(s=>s&&fi(s)):[n&&fi(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function Lp(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=it(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const Up=Symbol(""),da=Symbol(""),ms=Symbol(""),Ki=Symbol(""),mi=Symbol("");function Ur(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Lt(t,e,r,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(xr(ve.NAVIGATION_ABORTED,{from:r,to:e})):h instanceof Error?l(h):jp(h)?l(xr(ve.NAVIGATION_GUARD_REDIRECT,{from:e,to:h})):(o&&n.enterCallbacks[s]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>t.call(n&&n.instances[s],e,r,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function Fs(t,e,r,n,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ic(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Lt(c,r,n,o,a,s))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=op(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&Lt(h,r,n,o,a,s)()}))}}return i}function Fp(t,e){const r=[],n=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Cr(c,a))?n.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Cr(c,l))||s.push(l))}return[r,n,s]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Mp=()=>location.protocol+"//"+location.host;function Fc(t,e){const{pathname:r,search:n,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,a=s.slice(o);return a[0]!=="/"&&(a="/"+a),aa(a,"")}return aa(r,t)+n+s}function Bp(t,e,r,n){let s=[],i=[],o=null;const a=({state:h})=>{const f=Fc(t,location),m=r.value,y=e.value;let b=0;if(h){if(r.value=f,e.value=h,o&&o===m){o=null;return}b=y?h.position-y.position:0}else n(f);s.forEach(v=>{v(r.value,m,{delta:b,type:gi.pop,direction:b?b>0?Us.forward:Us.back:Us.unknown})})};function l(){o=r.value}function c(h){s.push(h);const f=()=>{const m=s.indexOf(h);m>-1&&s.splice(m,1)};return i.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(ne({},h.state,{scroll:ps()}),"")}}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function ha(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?ps():null}}function qp(t){const{history:e,location:r}=window,n={value:Fc(t,r)},s={value:e.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=t.indexOf("#"),h=d>-1?(r.host&&document.querySelector("base")?t:t.slice(d))+l:Mp()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),s.value=c}catch(f){console.error(f),r[u?"replace":"assign"](h)}}function o(l,c){i(l,ne({},e.state,ha(s.value.back,l,s.value.forward,!0),c,{position:s.value.position}),!0),n.value=l}function a(l,c){const u=ne({},s.value,e.state,{forward:l,scroll:ps()});i(u.current,u,!0),i(l,ne({},ha(n.value,l,null),{position:u.position+1},c),!1),n.value=l}return{location:n,state:s,push:a,replace:o}}function Vp(t){t=Tp(t);const e=qp(t),r=Bp(t,e.state,e.location,e.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=ne({location:"",base:t,go:n,createHref:Pp.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}let nr=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Se=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Se||{});const Hp={type:nr.Static,value:""},Wp=/[a-zA-Z0-9_]/;function Kp(t){if(!t)return[[]];if(t==="/")return[[Hp]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${r})/"${c}": ${f}`)}let r=Se.Static,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(r===Se.Static?i.push({type:nr.Static,value:c}):r===Se.Param||r===Se.ParamRegExp||r===Se.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:nr.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==Se.ParamRegExp){n=r,r=Se.EscapeNext;continue}switch(r){case Se.Static:l==="/"?(c&&d(),o()):l===":"?(d(),r=Se.Param):h();break;case Se.EscapeNext:h(),r=n;break;case Se.Param:l==="("?r=Se.ParamRegExp:Wp.test(l)?h():(d(),r=Se.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case Se.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=Se.ParamRegExpEnd:u+=l;break;case Se.ParamRegExpEnd:d(),r=Se.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===Se.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),s}const fa="[^/]+?",Gp={sensitive:!1,strict:!1,start:!0,end:!0};var Ne=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Ne||{});const zp=/[.+*?^${}()[\]/\\]/g;function Jp(t,e){const r=ne({},Gp,e),n=[];let s=r.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[Ne.Root];r.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=Ne.Segment+(r.sensitive?Ne.BonusCaseSensitive:0);if(h.type===nr.Static)d||(s+="/"),s+=h.value.replace(zp,"\\$&"),f+=Ne.Static;else if(h.type===nr.Param){const{value:m,repeatable:y,optional:b,regexp:v}=h;i.push({name:m,repeatable:y,optional:b});const w=v||fa;if(w!==fa){f+=Ne.BonusCustomRegExp;try{`${w}`}catch(E){throw new Error(`Invalid custom RegExp for param "${m}" (${w}): `+E.message)}}let S=y?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(S=b&&c.length<2?`(?:/${S})`:"/"+S),b&&(S+="?"),s+=S,f+=Ne.Dynamic,b&&(f+=Ne.BonusOptional),y&&(f+=Ne.BonusRepeatable),w===".*"&&(f+=Ne.BonusWildcard)}u.push(f)}n.push(u)}if(r.strict&&r.end){const c=n.length-1;n[c][n[c].length-1]+=Ne.BonusStrict}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",m=i[h-1];d[m.name]=f&&m.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===nr.Static)u+=f.value;else if(f.type===nr.Param){const{value:m,repeatable:y,optional:b}=f,v=m in c?c[m]:"";if(it(v)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const w=it(v)?v.join("/"):v;if(!w)if(b)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);u+=w}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function Yp(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===Ne.Static+Ne.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Ne.Static+Ne.Segment?1:-1:0}function Mc(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const i=Yp(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(ga(n))return 1;if(ga(s))return-1}return s.length-n.length}function ga(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Qp={strict:!1,end:!0,sensitive:!1};function Xp(t,e,r){const n=Jp(Kp(t.path),r),s=ne(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Zp(t,e){const r=[],n=new Map;e=oa(Qp,e);function s(d){return n.get(d)}function i(d,h,f){const m=!f,y=ma(d);y.aliasOf=f&&f.record;const b=oa(e,d),v=[y];if("alias"in d){const E=typeof d.alias=="string"?[d.alias]:d.alias;for(const R of E)v.push(ma(ne({},y,{components:f?f.record.components:y.components,path:R,aliasOf:f?f.record:y})))}let w,S;for(const E of v){const{path:R}=E;if(h&&R[0]!=="/"){const D=h.record.path,F=D[D.length-1]==="/"?"":"/";E.path=h.record.path+(R&&F+R)}if(w=Xp(E,h,b),f?f.alias.push(w):(S=S||w,S!==w&&S.alias.push(w),m&&d.name&&!va(w)&&o(d.name)),Bc(w)&&l(w),y.children){const D=y.children;for(let F=0;F<D.length;F++)i(D[F],w,f&&f.children[F])}f=f||w}return S?()=>{o(S)}:Zr}function o(d){if(Lc(d)){const h=n.get(d);h&&(n.delete(d),r.splice(r.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=r.indexOf(d);h>-1&&(r.splice(h,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return r}function l(d){const h=rm(d,r);r.splice(h,0,d),d.record.name&&!va(d)&&n.set(d.record.name,d)}function c(d,h){let f,m={},y,b;if("name"in d&&d.name){if(f=n.get(d.name),!f)throw xr(ve.MATCHER_NOT_FOUND,{location:d});b=f.record.name,m=ne(pa(h.params,f.keys.filter(S=>!S.optional).concat(f.parent?f.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),d.params&&pa(d.params,f.keys.map(S=>S.name))),y=f.stringify(m)}else if(d.path!=null)y=d.path,f=r.find(S=>S.re.test(y)),f&&(m=f.parse(y),b=f.record.name);else{if(f=h.name?n.get(h.name):r.find(S=>S.re.test(h.path)),!f)throw xr(ve.MATCHER_NOT_FOUND,{location:d,currentLocation:h});b=f.record.name,m=ne({},h.params,d.params),y=f.stringify(m)}const v=[];let w=f;for(;w;)v.unshift(w.record),w=w.parent;return{name:b,path:y,params:m,matched:v,meta:tm(v)}}t.forEach(d=>i(d));function u(){r.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function pa(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function ma(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:em(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function em(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function va(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function tm(t){return t.reduce((e,r)=>ne(e,r.meta),{})}function rm(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;Mc(t,e[i])<0?n=i:r=i+1}const s=nm(t);return s&&(n=e.lastIndexOf(s,n-1)),n}function nm(t){let e=t;for(;e=e.parent;)if(Bc(e)&&Mc(t,e)===0)return e}function Bc({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ya(t){const e=Qe(ms),r=Qe(Ki),n=oe(()=>{const l=Er(t.to);return e.resolve(l)}),s=oe(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=r.matched;if(!u||!d.length)return-1;const h=d.findIndex(Cr.bind(null,u));if(h>-1)return h;const f=_a(l[c-2]);return c>1&&_a(u)===f&&d[d.length-1].path!==f?d.findIndex(Cr.bind(null,l[c-2])):h}),i=oe(()=>s.value>-1&&lm(r.params,n.value.params)),o=oe(()=>s.value>-1&&s.value===r.matched.length-1&&$c(r.params,n.value.params));function a(l={}){if(am(l)){const c=e[Er(t.replace)?"replace":"push"](Er(t.to)).catch(Zr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:oe(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function sm(t){return t.length===1?t[0]:t}const im=nl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ya,setup(t,{slots:e}){const r=dn(ya(t)),{options:n}=Qe(ms),s=oe(()=>({[wa(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[wa(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&sm(e.default(r));return t.custom?i:Cl("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),om=im;function am(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function lm(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!it(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function _a(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const wa=(t,e,r)=>t??e??r,cm=nl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Qe(mi),s=oe(()=>t.route||n.value),i=Qe(da,0),o=oe(()=>{let c=Er(i);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=oe(()=>s.value.matched[o.value]);Rn(da,oe(()=>o.value+1)),Rn(Up,a),Rn(mi,s);const l=ge();return Bt(()=>[l.value,a.value,t.name],([c,u,d],[h,f,m])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Cr(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return ba(r.default,{Component:h,route:c});const f=d.props[u],m=f?f===!0?c.params:typeof f=="function"?f(c):f:null,b=Cl(h,ne({},m,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return ba(r.default,{Component:b,route:c})||b}}});function ba(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const um=cm;function dm(t){const e=Zp(t.routes,t),r=t.parseQuery||$p,n=t.stringifyQuery||ua,s=t.history,i=Ur(),o=Ur(),a=Ur(),l=Tu(xt);let c=xt;wr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=$s.bind(null,T=>""+T),d=$s.bind(null,_p),h=$s.bind(null,cn);function f(T,L){let N,M;return Lc(T)?(N=e.getRecordMatcher(T),M=L):M=T,e.addRoute(M,N)}function m(T){const L=e.getRecordMatcher(T);L&&e.removeRoute(L)}function y(){return e.getRoutes().map(T=>T.record)}function b(T){return!!e.getRecordMatcher(T)}function v(T,L){if(L=ne({},L||l.value),typeof T=="string"){const _=Ls(r,T,L.path),k=e.resolve({path:_.path},L),A=s.createHref(_.fullPath);return ne(_,k,{params:h(k.params),hash:cn(_.hash),redirectedFrom:void 0,href:A})}let N;if(T.path!=null)N=ne({},T,{path:Ls(r,T.path,L.path).path});else{const _=ne({},T.params);for(const k in _)_[k]==null&&delete _[k];N=ne({},T,{params:d(_)}),L.params=d(L.params)}const M=e.resolve(N,L),X=T.hash||"";M.params=u(h(M.params));const g=Sp(n,ne({},T,{hash:mp(X),path:M.path})),p=s.createHref(g);return ne({fullPath:g,hash:X,query:n===ua?Lp(T.query):T.query||{}},M,{redirectedFrom:void 0,href:p})}function w(T){return typeof T=="string"?Ls(r,T,l.value.path):ne({},T)}function S(T,L){if(c!==T)return xr(ve.NAVIGATION_CANCELLED,{from:L,to:T})}function E(T){return F(T)}function R(T){return E(ne(w(T),{replace:!0}))}function D(T,L){const N=T.matched[T.matched.length-1];if(N&&N.redirect){const{redirect:M}=N;let X=typeof M=="function"?M(T,L):M;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=w(X):{path:X},X.params={}),ne({query:T.query,hash:T.hash,params:X.path!=null?{}:T.params},X)}}function F(T,L){const N=c=v(T),M=l.value,X=T.state,g=T.force,p=T.replace===!0,_=D(N,M);if(_)return F(ne(w(_),{state:typeof _=="object"?ne({},X,_.state):X,force:g,replace:p}),L||N);const k=N;k.redirectedFrom=L;let A;return!g&&Ep(n,M,N)&&(A=xr(ve.NAVIGATION_DUPLICATED,{to:k,from:M}),ot(M,M,!0,!1)),(A?Promise.resolve(A):te(k,M)).catch(O=>wt(O)?wt(O,ve.NAVIGATION_GUARD_REDIRECT)?O:It(O):re(O,k,M)).then(O=>{if(O){if(wt(O,ve.NAVIGATION_GUARD_REDIRECT))return F(ne({replace:p},w(O.to),{state:typeof O.to=="object"?ne({},X,O.to.state):X,force:g}),L||k)}else O=_e(k,M,!0,p,X);return pe(k,M,O),O})}function W(T,L){const N=S(T,L);return N?Promise.reject(N):Promise.resolve()}function j(T){const L=cr.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(T):T()}function te(T,L){let N;const[M,X,g]=Fp(T,L);N=Fs(M.reverse(),"beforeRouteLeave",T,L);for(const _ of M)_.leaveGuards.forEach(k=>{N.push(Lt(k,T,L))});const p=W.bind(null,T,L);return N.push(p),Je(N).then(()=>{N=[];for(const _ of i.list())N.push(Lt(_,T,L));return N.push(p),Je(N)}).then(()=>{N=Fs(X,"beforeRouteUpdate",T,L);for(const _ of X)_.updateGuards.forEach(k=>{N.push(Lt(k,T,L))});return N.push(p),Je(N)}).then(()=>{N=[];for(const _ of g)if(_.beforeEnter)if(it(_.beforeEnter))for(const k of _.beforeEnter)N.push(Lt(k,T,L));else N.push(Lt(_.beforeEnter,T,L));return N.push(p),Je(N)}).then(()=>(T.matched.forEach(_=>_.enterCallbacks={}),N=Fs(g,"beforeRouteEnter",T,L,j),N.push(p),Je(N))).then(()=>{N=[];for(const _ of o.list())N.push(Lt(_,T,L));return N.push(p),Je(N)}).catch(_=>wt(_,ve.NAVIGATION_CANCELLED)?_:Promise.reject(_))}function pe(T,L,N){a.list().forEach(M=>j(()=>M(T,L,N)))}function _e(T,L,N,M,X){const g=S(T,L);if(g)return g;const p=L===xt,_=wr?history.state:{};N&&(M||p?s.replace(T.fullPath,ne({scroll:p&&_&&_.scroll},X)):s.push(T.fullPath,X)),l.value=T,ot(T,L,N,p),It()}let Ae;function Rt(){Ae||(Ae=s.listen((T,L,N)=>{if(!Kt.listening)return;const M=v(T),X=D(M,Kt.currentRoute.value);if(X){F(ne(X,{replace:!0,force:!0}),M).catch(Zr);return}c=M;const g=l.value;wr&&Cp(ca(g.fullPath,N.delta),ps()),te(M,g).catch(p=>wt(p,ve.NAVIGATION_ABORTED|ve.NAVIGATION_CANCELLED)?p:wt(p,ve.NAVIGATION_GUARD_REDIRECT)?(F(ne(w(p.to),{force:!0}),M).then(_=>{wt(_,ve.NAVIGATION_ABORTED|ve.NAVIGATION_DUPLICATED)&&!N.delta&&N.type===gi.pop&&s.go(-1,!1)}).catch(Zr),Promise.reject()):(N.delta&&s.go(-N.delta,!1),re(p,M,g))).then(p=>{p=p||_e(M,g,!1),p&&(N.delta&&!wt(p,ve.NAVIGATION_CANCELLED)?s.go(-N.delta,!1):N.type===gi.pop&&wt(p,ve.NAVIGATION_ABORTED|ve.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),pe(M,g,p)}).catch(Zr)}))}let Ze=Ur(),ue=Ur(),Y;function re(T,L,N){It(T);const M=ue.list();return M.length?M.forEach(X=>X(T,L,N)):console.error(T),Promise.reject(T)}function yt(){return Y&&l.value!==xt?Promise.resolve():new Promise((T,L)=>{Ze.add([T,L])})}function It(T){return Y||(Y=!T,Rt(),Ze.list().forEach(([L,N])=>T?N(T):L()),Ze.reset()),T}function ot(T,L,N,M){const{scrollBehavior:X}=t;if(!wr||!X)return Promise.resolve();const g=!N&&xp(ca(T.fullPath,0))||(M||!N)&&history.state&&history.state.scroll||null;return os().then(()=>X(T,L,g)).then(p=>p&&Ip(p)).catch(p=>re(p,T,L))}const $e=T=>s.go(T);let lr;const cr=new Set,Kt={currentRoute:l,listening:!0,addRoute:f,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:y,resolve:v,options:t,push:E,replace:R,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ue.add,isReady:yt,install(T){T.component("RouterLink",om),T.component("RouterView",um),T.config.globalProperties.$router=Kt,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>Er(l)}),wr&&!lr&&l.value===xt&&(lr=!0,E(s.location).catch(M=>{}));const L={};for(const M in xt)Object.defineProperty(L,M,{get:()=>l.value[M],enumerable:!0});T.provide(ms,Kt),T.provide(Ki,Ja(L)),T.provide(mi,l);const N=T.unmount;cr.add(T),T.unmount=function(){cr.delete(T),cr.size<1&&(c=xt,Ae&&Ae(),Ae=null,l.value=xt,lr=!1,Y=!1),N()}}};function Je(T){return T.reduce((L,N)=>L.then(()=>j(N)),Promise.resolve())}return Kt}function qc(){return Qe(ms)}function hm(t){return Qe(Ki)}const Vc=hs("ui",()=>{const t=ge(""),e=ge(1),r=ge(15),n=ge([]),s=oe(()=>{if(!t.value.trim())return n.value;const v=t.value.toLowerCase().trim();return n.value.filter(w=>{var R,D;const S=((R=w.title)==null?void 0:R.toLowerCase())||"",E=((D=w.content)==null?void 0:D.toLowerCase())||"";return S.includes(v)||E.includes(v)})}),i=oe(()=>Math.ceil(s.value.length/r.value)),o=oe(()=>{const v=(e.value-1)*r.value,w=v+r.value;return s.value.slice(v,w)}),a=oe(()=>{if(s.value.length===0)return{start:0,end:0,total:0};const v=(e.value-1)*r.value+1,w=Math.min(v+r.value-1,s.value.length);return{start:v,end:w,total:s.value.length}});function l(v){t.value=v,e.value=1}function c(){t.value="",e.value=1}function u(){t.value="",e.value=1,r.value=15,n.value=[]}function d(v){v>=1&&v<=i.value&&(e.value=v)}function h(){e.value<i.value&&e.value++}function f(){e.value>1&&e.value--}function m(v){r.value=v,e.value=1}function y(v){n.value=v,e.value=1}function b(){e.value=1}return{searchQuery:t,currentPage:e,itemsPerPage:r,allItems:n,filteredItems:s,totalPages:i,paginatedItems:o,currentItemRange:a,setSearch:l,clearSearch:c,resetUI:u,setPage:d,nextPage:h,previousPage:f,setItemsPerPage:m,setAllItems:y,resetPagination:b}});async function fm(){try{const{data:t,error:e}=await ke.from("feeds").select("*").order("display_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){throw console.error("Error fetching feeds:",t),t}}async function gm(t){try{if(t.type!=="native_rss")throw new Error("Only native RSS feeds can be created");if(!t.rss_url)throw new Error("RSS URL is required for native RSS feeds");const e=String(t.id||"").trim().toLowerCase(),r=String(t.title||"").trim(),n=String(t.rss_url||"").trim(),s=Number.isFinite(t.display_order)?t.display_order:0;if(!/^[a-z][a-z0-9_\-]{2,31}$/.test(e))throw new Error("Invalid ID. Start with a letter, 3-32 chars, lowercase, 0-9, _ or -");if(!r)throw new Error("Title is required");try{new URL(n)}catch{throw new Error("Invalid RSS URL")}const{data:i,error:o}=await ke.from("feeds").insert([{id:e,title:r,type:"native_rss",rss_url:n,display_order:s}]).select("*").single();if(o)throw o;return i}catch(e){throw console.error("Error creating feed:",e),e}}async function Hc(t,e){try{const{data:r,error:n}=await ke.from("feeds").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating feed:",r),r}}async function pm(t){try{const{error:e}=await ke.from("feeds").delete().eq("id",t);if(e)throw e}catch(e){throw console.error("Error deleting feed:",e),e}}async function mm(t,e){try{return await Hc(t,{enabled:e})}catch(r){throw console.error("Error toggling feed status:",r),r}}const Wc=hs("feeds",()=>{const t=ge([]),e=ge("all"),r=ge(!1),n=ge(null),s=ge([]),i=oe(()=>t.value.filter(v=>v.enabled)),o=oe(()=>t.value.filter(v=>v.type==="scraped")),a=oe(()=>t.value.filter(v=>v.type==="native_rss")),l=oe(()=>v=>t.value.find(w=>w.id===v));async function c(){r.value=!0,n.value=null;try{const v=await fm();return t.value=v,v}catch(v){throw n.value=v.message,console.error("Error loading feeds:",v),v}finally{r.value=!1}}async function u(v){r.value=!0,n.value=null;try{const w=await gm(v);return t.value.push(w),w}catch(w){throw n.value=w.message,console.error("Error adding feed:",w),w}finally{r.value=!1}}async function d(v,w){r.value=!0,n.value=null;try{const S=await Hc(v,w),E=t.value.findIndex(R=>R.id===v);return E!==-1&&(t.value[E]=S),S}catch(S){throw n.value=S.message,console.error("Error updating feed:",S),S}finally{r.value=!1}}async function h(v){r.value=!0,n.value=null;try{await pm(v),t.value=t.value.filter(w=>w.id!==v)}catch(w){throw n.value=w.message,console.error("Error deleting feed:",w),w}finally{r.value=!1}}async function f(v,w){r.value=!0,n.value=null;try{const S=await mm(v,w),E=t.value.findIndex(R=>R.id===v);return E!==-1&&(t.value[E]=S),S}catch(S){throw n.value=S.message,console.error("Error toggling feed:",S),S}finally{r.value=!1}}function m(v){e.value=v}function y(v){s.value=v}const b=oe(()=>e.value==="all"?s.value:s.value.filter(v=>v.feedId===e.value));return{feeds:t,currentFeed:e,loading:r,error:n,feedItems:s,enabledFeeds:i,scrapedFeeds:o,nativeFeeds:a,feedById:l,currentFeedItems:b,loadFeeds:c,addFeed:u,updateFeed:d,deleteFeed:h,toggleFeed:f,setCurrentFeed:m,setFeedItems:y}});async function vm(t){const{data:e,error:r}=await ke.from("user_feed_preferences").select("*").eq("user_id",t);if(r)throw r;return e||[]}async function ym(t,e,r){const{data:n}=await ke.from("user_feed_preferences").select("id").eq("user_id",t).eq("feed_id",e).single();if(n){const{data:s,error:i}=await ke.from("user_feed_preferences").update({enabled:r,updated_at:new Date().toISOString()}).eq("id",n.id).select().single();if(i)throw i;return s}else{const{data:s,error:i}=await ke.from("user_feed_preferences").insert({user_id:t,feed_id:e,enabled:r}).select().single();if(i)throw i;return s}}async function _m(t,e){const r=e.map(i=>({user_id:t,feed_id:i,enabled:!0})),{data:n,error:s}=await ke.from("user_feed_preferences").insert(r).select();if(s)throw s;return n}const Kc=hs("userPreferences",()=>{const t=ge([]),e=ge(!1),r=ge(null),n=oe(()=>t.value.filter(l=>l.enabled).map(l=>l.feed_id));async function s(){const l=Ir();if(!l.user){t.value=[];return}e.value=!0,r.value=null;try{const c=await vm(l.user.id);if(c.length===0){const u=Wc();await u.loadFeeds();const d=u.feeds.map(f=>f.id),h=await _m(l.user.id,d);t.value=h}else t.value=c}catch(c){throw r.value=c.message,console.error("Error loading preferences:",c),c}finally{e.value=!1}}async function i(l,c){const u=Ir();if(u.user){e.value=!0,r.value=null;try{const d=await ym(u.user.id,l,c),h=t.value.findIndex(f=>f.feed_id===l);h!==-1?t.value[h]=d:t.value.push(d)}catch(d){throw r.value=d.message,console.error("Error toggling feed:",d),d}finally{e.value=!1}}}function o(l){const c=t.value.find(u=>u.feed_id===l);return c?c.enabled:!0}function a(){t.value=[]}return{preferences:t,loading:e,error:r,enabledFeedIds:n,loadPreferences:s,toggleFeed:i,isFeedEnabled:o,clearPreferences:a}});function Sa(t){const r=new DOMParser().parseFromString(t,"text/xml"),n=r.querySelector("parsererror");if(n)throw new Error("XML parsing error: "+n.textContent);const s=r.querySelector("feed")!==null,i=wm(r,s);return{isAtom:s,items:i,totalItems:i.length}}function wm(t,e){const r=e?t.querySelectorAll("entry"):t.querySelectorAll("item");return Array.from(r).map(n=>bm(n,e))}function bm(t,e){var r,n,s,i,o,a;if(e){const l=t.querySelector("link"),c=(l==null?void 0:l.getAttribute("href"))||"",u=t.querySelector("content"),d=t.querySelector("summary"),h=t.getElementsByTagName("media:description")[0],f=(u==null?void 0:u.textContent)||(d==null?void 0:d.textContent)||(h==null?void 0:h.textContent)||"",m=t.getElementsByTagName("media:thumbnail")[0],y=(m==null?void 0:m.getAttribute("url"))||"",b=t.getElementsByTagName("media:group")[0],v=b==null?void 0:b.getElementsByTagName("media:community")[0],w=v==null?void 0:v.getElementsByTagName("media:statistics")[0],S=(w==null?void 0:w.getAttribute("views"))||"";return{title:((r=t.querySelector("title"))==null?void 0:r.textContent)||"Untitled",link:c,content:f,pubDate:((n=t.querySelector("published, updated"))==null?void 0:n.textContent)||"",source:Ea(c),thumbnailUrl:y,views:S}}else{const l=((s=t.querySelector("link"))==null?void 0:s.textContent)||"";return{title:((i=t.querySelector("title"))==null?void 0:i.textContent)||"Untitled",link:l,content:((o=t.querySelector("description, content\\:encoded"))==null?void 0:o.textContent)||"",pubDate:((a=t.querySelector("pubDate"))==null?void 0:a.textContent)||"",source:Ea(l)}}}function Ea(t){if(!t)return"unknown";const e=t.toLowerCase();return e.includes("youtube.com")||e.includes("youtu.be")?"youtube":e.includes("wikipedia.org")?"wikipedia":e.includes("wikivoyage.org")?"wikivoyage":e.includes("news.ycombinator.com")?"hackernews":e.includes("medium.com")?"medium":"other"}const Sm="https://www.youtube.com/feeds/videos.xml?channel_id=UCc8q4B1bj-668LMHyNXnTxQ",An=["https://corsproxy.io/?","https://api.allorigins.win/raw?url=","https://cors-anywhere.herokuapp.com/"],vi="youtube_feed_cache",Em=300*1e3;function Om(){try{const t=localStorage.getItem(vi);if(!t)return null;const{data:e,timestamp:r}=JSON.parse(t);return Date.now()-r<Em?(console.log("Using cached YouTube feed"),e):(localStorage.removeItem(vi),null)}catch{return null}}function km(t){try{localStorage.setItem(vi,JSON.stringify({data:t,timestamp:Date.now()}))}catch(e){console.warn("Failed to cache YouTube feed:",e)}}function Tm(){const t=ge(!1),e=ge(null);async function r(n=!1){t.value=!0,e.value=null;try{if(!n){const s=Om();if(s)return t.value=!1,s}for(let s=0;s<An.length;s++)try{console.log(`Trying proxy ${s+1}/${An.length}`);const i=An[s]+encodeURIComponent(Sm),o=await fetch(i,{cache:n?"reload":"default",signal:AbortSignal.timeout(1e4)});if(o.ok){const a=await o.text();return km(a),t.value=!1,a}}catch(i){if(console.warn(`Proxy ${s+1} failed:`,i.message),s===An.length-1)throw new Error("All proxies failed")}throw new Error("All proxies failed")}catch(s){throw e.value=s.message,t.value=!1,s}}return{loading:t,error:e,fetchYouTubeFeed:r}}const vt=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},Am={name:"Header",setup(){const t=Ir(),e=Vc(),r=Kc(),n=qc();async function s(){try{console.log("Header: Starting logout process..."),await t.logout();try{e.clearSearch&&e.clearSearch()}catch{}try{e.setPage&&e.setPage(1)}catch{}try{r.clearPreferences&&r.clearPreferences()}catch{}const a="https://arbnorcyberlabs-eng.github.io/rss-agg/";console.log("Header: Logout successful, redirecting to base:",a),window.location.assign(a)}catch(a){console.error("Header: Logout error:",a);try{r.clearPreferences&&r.clearPreferences()}catch{}try{e.clearSearch&&e.clearSearch()}catch{}window.location.assign("https://arbnorcyberlabs-eng.github.io/rss-agg/")}}function i(){n.push("/auth")}function o(){n.push("/auth")}return{authStore:t,uiStore:e,userPrefStore:r,handleLogout:s,handleLogin:i,handleSignup:o}}},Pm={class:"container"},Rm={class:"header-content"},Im={class:"header-nav"},Cm={key:0,class:"user-menu"},xm={class:"user-email"},jm={key:1,class:"auth-actions"};function Nm(t,e,r,n,s,i){const o=nt("router-link");return Q(),ie("header",null,[z("div",Pm,[z("div",Rm,[z("div",{class:"header-title",onClick:e[0]||(e[0]=a=>t.$router.push("/"))},[...e[4]||(e[4]=[z("h1",null,"RSS",-1),z("p",{class:"subtitle"},"Real Simple Syndication",-1)])]),z("nav",Im,[n.authStore.isAuthenticated?(Q(),ie("div",Cm,[z("span",xm,Me(n.authStore.user.email),1),Oe(o,{to:"/preferences",class:"nav-link"},{default:Hs(()=>[...e[5]||(e[5]=[Js("Preferences",-1)])]),_:1}),n.authStore.isAdmin?(Q(),qt(o,{key:0,to:"/admin",class:"nav-link admin"},{default:Hs(()=>[...e[6]||(e[6]=[Js("Admin",-1)])]),_:1})):He("",!0),z("button",{class:"logout-btn",onClick:e[1]||(e[1]=(...a)=>n.handleLogout&&n.handleLogout(...a))},"Logout")])):(Q(),ie("div",jm,[z("button",{class:"login-btn",onClick:e[2]||(e[2]=(...a)=>n.handleLogin&&n.handleLogin(...a))},"Login"),z("button",{class:"signup-btn",onClick:e[3]||(e[3]=(...a)=>n.handleSignup&&n.handleSignup(...a))},"Sign Up")]))])])])])}const Dm=vt(Am,[["render",Nm],["__scopeId","data-v-7da0a58f"]]),$m={name:"Footer"};function Lm(t,e,r,n,s,i){return Q(),ie("footer",null,[...e[0]||(e[0]=[z("p",null,"Automated RSS Feed Aggregator · Updates twice daily",-1)])])}const Um=vt($m,[["render",Lm],["__scopeId","data-v-63e4900c"]]),Fm={name:"FeedSelector",props:{currentFeed:{type:String,default:"all"},feedOptions:{type:Array,required:!0},isUpdating:{type:Boolean,default:!1},showUpdate:{type:Boolean,default:!0}},emits:["feed-change","update"],methods:{selectFeed(t){this.$emit("feed-change",t)},handleMobileChange(t){this.$emit("feed-change",t.target.value)},handleUpdate(){this.$emit("update")}}},Mm={class:"controls"},Bm={class:"feed-selector"},qm=["onClick"],Vm=["value"],Hm=["value"],Wm=["disabled"];function Km(t,e,r,n,s,i){return Q(),ie("div",Mm,[z("div",Bm,[(Q(!0),ie(Fe,null,Mn(r.feedOptions,o=>(Q(),ie("button",{key:o.id,class:kt(["feed-button",{active:r.currentFeed===o.id}]),onClick:a=>i.selectFeed(o.id)},Me(o.name),11,qm))),128))]),z("select",{class:"feed-selector-mobile",value:r.currentFeed,onChange:e[0]||(e[0]=(...o)=>i.handleMobileChange&&i.handleMobileChange(...o))},[(Q(!0),ie(Fe,null,Mn(r.feedOptions,o=>(Q(),ie("option",{key:o.id,value:o.id},Me(o.name),9,Hm))),128))],40,Vm),r.showUpdate?(Q(),ie("button",{key:0,class:kt(["update-button",{updating:r.isUpdating}]),disabled:r.isUpdating,onClick:e[1]||(e[1]=(...o)=>i.handleUpdate&&i.handleUpdate(...o))}," ↻ Update ",10,Wm)):He("",!0)])}const Gm=vt(Fm,[["render",Km],["__scopeId","data-v-58625131"]]),zm={name:"SearchBar",props:{searchQuery:{type:String,default:""},totalItems:{type:Number,default:0}},emits:["search","clear"],methods:{handleInput(t){this.$emit("search",t.target.value)},handleClear(){this.$emit("clear")}}},Jm={class:"search-container"},Ym={class:"search-box"},Qm=["value"],Xm={class:"stats-inline"},Zm={class:"stat-number"};function ev(t,e,r,n,s,i){return Q(),ie("div",Jm,[z("div",Ym,[z("input",{type:"text",class:"search-input",placeholder:"Search feeds...",value:r.searchQuery,onInput:e[0]||(e[0]=(...o)=>i.handleInput&&i.handleInput(...o))},null,40,Qm),z("button",{class:kt(["clear-search",{visible:r.searchQuery}]),onClick:e[1]||(e[1]=(...o)=>i.handleClear&&i.handleClear(...o))}," ✕ ",2)]),z("div",Xm,[z("span",Zm,Me(r.totalItems),1),e[2]||(e[2]=z("span",null,"items",-1))])])}const tv=vt(zm,[["render",ev],["__scopeId","data-v-fe7bbd4b"]]),rv={name:"FeedItem",props:{item:{type:Object,required:!0},isVideo:{type:Boolean,default:!1}},methods:{truncateText(t,e=200){if(!t)return"";const r=t.replace(/<[^>]*>/g,"");return r.length<=e?r:r.substring(0,e).trim()+"..."},formatDate(t){if(!t)return"";try{return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return t}},formatNumber(t){return t?new Intl.NumberFormat().format(t):"0"}}},nv=["href"],sv=["src","alt"],iv={class:"feed-source"},ov=["href"],av={key:0,class:"video-indicator"},lv={key:0,class:"feed-date"},cv={key:1,class:"feed-content"},uv={key:2,class:"video-stats"},dv={class:"video-stat"},hv={class:"video-stat-value"};function fv(t,e,r,n,s,i){return Q(),ie("div",{class:kt(["feed-item",{video:r.isVideo}])},[r.isVideo&&r.item.thumbnailUrl?(Q(),ie("a",{key:0,href:r.item.link,target:"_blank",rel:"noopener noreferrer"},[z("img",{src:r.item.thumbnailUrl,alt:r.item.title,class:"video-thumbnail"},null,8,sv)],8,nv)):He("",!0),z("div",{class:kt({"video-content":r.isVideo})},[z("span",iv,Me(r.item.source||"unknown"),1),z("h3",null,[z("a",{href:r.item.link,target:"_blank",rel:"noopener noreferrer"},Me(r.item.title),9,ov),r.isVideo?(Q(),ie("span",av,"▶ Video")):He("",!0)]),r.item.pubDate?(Q(),ie("div",lv,Me(i.formatDate(r.item.pubDate)),1)):He("",!0),r.item.content?(Q(),ie("div",cv,Me(i.truncateText(r.item.content,200)),1)):He("",!0),r.isVideo&&r.item.views?(Q(),ie("div",uv,[z("div",dv,[e[0]||(e[0]=z("span",null,"👁 Views:",-1)),z("span",hv,Me(i.formatNumber(r.item.views)),1)])])):He("",!0)],2)],2)}const gv=vt(rv,[["render",fv],["__scopeId","data-v-0465060d"]]),pv={name:"Pagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},maxPagesToShow:{type:Number,default:5}},emits:["page-change"],computed:{visiblePages(){const t=this.maxPagesToShow;let e=Math.max(1,this.currentPage-Math.floor(t/2)),r=Math.min(this.totalPages,e+t-1);r-e<t-1&&(e=Math.max(1,r-t+1));const n=[];for(let s=e;s<=r;s++)n.push(s);return n}},methods:{changePage(t){t>=1&&t<=this.totalPages&&this.$emit("page-change",t)}}},mv={key:0,class:"pagination"},vv=["disabled"],yv=["onClick"],_v=["disabled"],wv={class:"pagination-info"};function bv(t,e,r,n,s,i){return r.totalPages>1?(Q(),ie("div",mv,[z("button",{class:"pagination-button",disabled:r.currentPage===1,onClick:e[0]||(e[0]=o=>i.changePage(r.currentPage-1))}," ← Prev ",8,vv),(Q(!0),ie(Fe,null,Mn(i.visiblePages,o=>(Q(),ie("button",{key:o,class:kt(["pagination-button",{active:o===r.currentPage}]),onClick:a=>i.changePage(o)},Me(o),11,yv))),128)),z("button",{class:"pagination-button",disabled:r.currentPage===r.totalPages,onClick:e[1]||(e[1]=o=>i.changePage(r.currentPage+1))}," Next → ",8,_v),z("span",wv," Page "+Me(r.currentPage)+" of "+Me(r.totalPages),1)])):He("",!0)}const Sv=vt(pv,[["render",bv],["__scopeId","data-v-023f544e"]]),Ev={name:"Loading",props:{message:{type:String,default:"Loading..."}}},Ov={class:"loading"};function kv(t,e,r,n,s,i){return Q(),ie("div",Ov,[e[0]||(e[0]=z("div",{class:"spinner"},null,-1)),z("p",null,Me(r.message),1)])}const Tv=vt(Ev,[["render",kv],["__scopeId","data-v-a4463c4b"]]),Av={name:"FeedList",components:{FeedItem:gv,Pagination:Sv,Loading:Tv},props:{items:{type:Array,default:()=>[]},isAuthenticated:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingMessage:{type:String,default:"Loading..."},currentPage:{type:Number,default:1},totalPages:{type:Number,default:1}},emits:["page-change"]},Pv={class:"feed-items"},Rv={key:0,class:"empty-state"};function Iv(t,e,r,n,s,i){const o=nt("FeedItem"),a=nt("Loading"),l=nt("Pagination");return Q(),ie("div",null,[z("div",Pv,[(Q(!0),ie(Fe,null,Mn(r.items,(c,u)=>(Q(),qt(o,{key:`${c.link}-${u}`,item:c,"is-video":c.source==="youtube"},null,8,["item","is-video"]))),128))]),r.items.length===0&&!r.loading?(Q(),ie("div",Rv,[...e[1]||(e[1]=[z("p",null,"No items found",-1)])])):He("",!0),r.loading?(Q(),qt(a,{key:1,message:r.loadingMessage},null,8,["message"])):He("",!0),r.isAuthenticated&&!r.loading&&r.totalPages>1?(Q(),qt(l,{key:2,"current-page":r.currentPage,"total-pages":r.totalPages,onPageChange:e[0]||(e[0]=c=>t.$emit("page-change",c))},null,8,["current-page","total-pages"])):He("",!0)])}const Cv=vt(Av,[["render",Iv],["__scopeId","data-v-50769d6c"]]),xv={name:"SignupTeaser",emits:["signup","login"],methods:{handleSignup(){this.$emit("signup")},handleLogin(){this.$emit("login")}}},jv={class:"signup-teaser"},Nv={class:"teaser-content"};function Dv(t,e,r,n,s,i){return Q(),ie("div",jv,[e[3]||(e[3]=z("div",{class:"teaser-overlay"},null,-1)),z("div",Nv,[e[2]||(e[2]=Dd('<div class="teaser-icon" data-v-8a2b9aa7>🔒</div><h2 data-v-8a2b9aa7>Want to see more?</h2><p data-v-8a2b9aa7>Sign up for free to access all feeds and customize your reading experience</p><div class="teaser-features" data-v-8a2b9aa7><div class="feature" data-v-8a2b9aa7><span class="check" data-v-8a2b9aa7>✓</span><span data-v-8a2b9aa7>Access to all RSS feeds</span></div><div class="feature" data-v-8a2b9aa7><span class="check" data-v-8a2b9aa7>✓</span><span data-v-8a2b9aa7>Personalize your feed selection</span></div><div class="feature" data-v-8a2b9aa7><span class="check" data-v-8a2b9aa7>✓</span><span data-v-8a2b9aa7>Real-time updates</span></div><div class="feature" data-v-8a2b9aa7><span class="check" data-v-8a2b9aa7>✓</span><span data-v-8a2b9aa7>No ads, forever free</span></div></div>',4)),z("button",{class:"signup-button",onClick:e[0]||(e[0]=(...o)=>i.handleSignup&&i.handleSignup(...o))}," Create Free Account "),z("button",{class:"login-link",onClick:e[1]||(e[1]=(...o)=>i.handleLogin&&i.handleLogin(...o))}," Already have an account? Login ")])])}const $v=vt(xv,[["render",Dv],["__scopeId","data-v-8a2b9aa7"]]),Lv={name:"FeedReaderView",components:{Header:Dm,Footer:Um,FeedSelector:Gm,SearchBar:tv,FeedList:Cv,SignupTeaser:$v},setup(){const t=qc(),e=hm(),r=Vc(),n=Wc(),s=Ir(),i=Kc(),{fetchYouTubeFeed:o}=Tm(),a=ge(!1),l=ge("Loading..."),c=ge(!1),u="https://arbnorcyberlabs-eng.github.io/rss-agg/",d=oe(()=>{const E=[{id:"all",name:"All Feeds"}];return n.enabledFeeds.forEach(R=>{const D=R.title.replace("Wikipedia — did you know?","Wikipedia").replace("Wikivoyage recommendations","Wikivoyage").replace("Hacker News - Front Page","Hacker News").replace("Medium - Matteo's Articles","Medium").replace("Economy Media YouTube Channel","Economy Media");E.push({id:R.id,name:D})}),E}),h=oe(()=>{const E=r.paginatedItems;return s.isAuthenticated?E:E.slice(0,5)}),f=oe(()=>!s.isAuthenticated&&r.allItems.length>5);async function m(E=!1){a.value=!0,l.value="Loading feeds...";try{console.log("=== LOADING ALL FEEDS ==="),console.log("Authenticated:",s.isAuthenticated),console.log("Force Update:",E),await n.loadFeeds(),console.log(`Total feeds in database: ${n.feeds.length}`);let R=[];s.isAuthenticated&&(i.preferences.length===0&&await i.loadPreferences(),R=i.enabledFeedIds,console.log(`User enabled feeds: ${R.length}`,R));const D=[],F=n.feeds.filter(j=>j.type!=="scraped"||!j.enabled?!1:s.isAuthenticated?R.includes(j.id):!0);console.log(`Scraped feeds to load: ${F.length}`,F.map(j=>j.id));for(const j of F)try{l.value=`Loading ${j.title}...`;const te=E?`?t=${Date.now()}`:"",pe=`${u}${j.id}.xml${te}`;console.log(`Fetching feed: ${pe}`);const _e=await fetch(pe,{cache:E?"reload":"default"});if(!_e.ok){console.warn(`❌ Failed to fetch ${j.id}: ${_e.status}`);continue}const Ae=await _e.text(),Ze=Sa(Ae).items.map(ue=>({...ue,feedId:j.id,source:j.title.split(" — ")[0].split(" - ")[0]}));D.push(...Ze),console.log(`✓ ${j.id}: ${Ze.length} items (total so far: ${D.length})`)}catch(te){console.error(`❌ Error loading feed ${j.id}:`,te)}const W=n.feeds.find(j=>j.type!=="native_rss"||!j.enabled||j.id!=="youtube_economy"?!1:s.isAuthenticated?R.includes(j.id):!0);if(W){console.log("Loading YouTube feed...");try{l.value="Loading YouTube videos...";const j=await o(E),pe=Sa(j).items.map(_e=>({..._e,feedId:"youtube_economy",source:"Economy Media YouTube"}));D.push(...pe),console.log(`✓ youtube_economy: ${pe.length} items (total: ${D.length})`)}catch(j){console.warn("❌ YouTube feed failed, continuing without it:",j)}}else console.log("YouTube feed not loaded (disabled or filtered out)");D.sort((j,te)=>{const pe=new Date(j.pubDate||0);return new Date(te.pubDate||0)-pe}),n.setFeedItems(D),r.setAllItems(D),console.log("=== FEED LOADING COMPLETE ==="),console.log(`✓ Total items loaded: ${D.length}`),console.log(`✓ Feeds processed: ${F.length} scraped + ${W?1:0} YouTube`),console.log(`✓ Items in uiStore.allItems: ${r.allItems.length}`),console.log(`✓ Items per page: ${r.itemsPerPage}`),console.log(`✓ Total pages: ${r.totalPages}`),console.log(`✓ Current page: ${r.currentPage}`),console.log(`✓ Paginated items (current page): ${r.paginatedItems.length}`),console.log(`✓ Display items (after public limit): ${h.value.length}`)}catch(R){console.error("Error loading feeds:",R);const D=[{feedId:"funfacts",title:"...that the first documented use of a smiley emoticon was in 1648?",link:"https://en.wikipedia.org/wiki/Smiley",content:"The smiley face has become one of the most recognizable symbols in modern communication.",pubDate:new Date().toISOString(),source:"Wikipedia"},{feedId:"funfacts",title:"...that octopuses have three hearts and blue blood?",link:"https://en.wikipedia.org/wiki/Octopus",content:"Octopuses are among the most intelligent invertebrates, with complex nervous systems.",pubDate:new Date(Date.now()-18e5).toISOString(),source:"Wikipedia"},{feedId:"funfacts",title:"...that honey never spoils and can last thousands of years?",link:"https://en.wikipedia.org/wiki/Honey",content:"Archaeologists have found 3,000-year-old honey in Egyptian tombs that was still perfectly edible.",pubDate:new Date(Date.now()-36e5).toISOString(),source:"Wikipedia"},{feedId:"funfacts",title:"...that bananas are berries, but strawberries are not?",link:"https://en.wikipedia.org/wiki/Berry",content:"In botanical terms, a berry is a fruit produced from a single flower with one ovary.",pubDate:new Date(Date.now()-54e5).toISOString(),source:"Wikipedia"},{feedId:"funfacts",title:"...that the Eiffel Tower can grow over 6 inches in summer?",link:"https://en.wikipedia.org/wiki/Eiffel_Tower",content:"The iron structure expands when heated by the sun, causing the tower to grow taller.",pubDate:new Date(Date.now()-72e5).toISOString(),source:"Wikipedia"},{feedId:"hackernews",title:"Ask HN: What are you working on this month?",link:"https://news.ycombinator.com/item?id=123",content:"Monthly thread for sharing projects and getting feedback from the community.",pubDate:new Date(Date.now()-9e6).toISOString(),source:"Hacker News"},{feedId:"hackernews",title:"Show HN: RSS Feed Aggregator with Supabase",link:"https://news.ycombinator.com/item?id=124",content:"Built a modern RSS aggregator using Vue 3 and Supabase for dynamic feed management.",pubDate:new Date(Date.now()-108e5).toISOString(),source:"Hacker News"},{feedId:"hackernews",title:"The State of WebAssembly in 2024",link:"https://news.ycombinator.com/item?id=125",content:"A comprehensive overview of WebAssembly adoption and future developments.",pubDate:new Date(Date.now()-126e5).toISOString(),source:"Hacker News"},{feedId:"hackernews",title:"Why SQLite is so great for embedded applications",link:"https://news.ycombinator.com/item?id=126",content:"Discussion on the benefits of using SQLite for local-first applications.",pubDate:new Date(Date.now()-144e5).toISOString(),source:"Hacker News"},{feedId:"hackernews",title:"Ask HN: Best resources for learning system design?",link:"https://news.ycombinator.com/item?id=127",content:"Community recommendations for mastering distributed systems and architecture.",pubDate:new Date(Date.now()-162e5).toISOString(),source:"Hacker News"},{feedId:"youtube_economy",title:"Economy Media: Understanding Market Trends 2024",link:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",content:"In-depth analysis of current market trends and economic indicators for the upcoming quarter.",pubDate:new Date(Date.now()-18e6).toISOString(),source:"Economy Media YouTube",thumbnailUrl:"https://via.placeholder.com/320x180/000000/FFFFFF/?text=Market+Trends",views:45823},{feedId:"youtube_economy",title:"Economy Media: Tech Industry Report",link:"https://www.youtube.com/watch?v=abc123",content:"Latest developments in the technology sector and their economic impact.",pubDate:new Date(Date.now()-198e5).toISOString(),source:"Economy Media YouTube",thumbnailUrl:"https://via.placeholder.com/320x180/0066cc/FFFFFF/?text=Tech+Report",views:32145},{feedId:"youtube_economy",title:"Economy Media: Global Trade Analysis",link:"https://www.youtube.com/watch?v=xyz789",content:"Examining the impact of recent trade policies on international markets.",pubDate:new Date(Date.now()-216e5).toISOString(),source:"Economy Media YouTube",thumbnailUrl:"https://via.placeholder.com/320x180/ff6600/FFFFFF/?text=Global+Trade",views:28934},{feedId:"youtube_economy",title:"Economy Media: Cryptocurrency Market Update",link:"https://www.youtube.com/watch?v=crypto123",content:"Weekly review of cryptocurrency trends and blockchain technology developments.",pubDate:new Date(Date.now()-234e5).toISOString(),source:"Economy Media YouTube",thumbnailUrl:"https://via.placeholder.com/320x180/4CAF50/FFFFFF/?text=Crypto+Market",views:52147},{feedId:"medium_matteo",title:"Building Scalable Web Applications with Vue 3",link:"https://medium.com/@matteo28/vue3-scalable",content:"Learn how to architect Vue 3 applications that can scale from prototype to production with best practices and real-world examples.",pubDate:new Date(Date.now()-252e5).toISOString(),source:"Medium"},{feedId:"medium_matteo",title:"The Power of Supabase for Modern Apps",link:"https://medium.com/@matteo28/supabase-power",content:"Exploring Supabase as a backend solution: real-time capabilities, authentication, and database management.",pubDate:new Date(Date.now()-27e6).toISOString(),source:"Medium"},{feedId:"medium_matteo",title:"Mastering Pinia State Management in Vue 3",link:"https://medium.com/@matteo28/pinia-state",content:"A deep dive into Pinia, the intuitive state management library for Vue applications.",pubDate:new Date(Date.now()-288e5).toISOString(),source:"Medium"},{feedId:"medium_matteo",title:"Modern CSS Techniques for 2024",link:"https://medium.com/@matteo28/modern-css",content:"Exploring container queries, cascade layers, and other cutting-edge CSS features.",pubDate:new Date(Date.now()-306e5).toISOString(),source:"Medium"},{feedId:"medium_matteo",title:"TypeScript Best Practices for Large Projects",link:"https://medium.com/@matteo28/typescript-best",content:"Essential patterns and practices for maintaining type safety in enterprise applications.",pubDate:new Date(Date.now()-324e5).toISOString(),source:"Medium"},{feedId:"wikivoyage",title:"Paris: The City of Light",link:"https://en.wikivoyage.org/wiki/Paris",content:"Discover the romantic capital of France with its iconic monuments, world-class museums, and charming cafés.",pubDate:new Date(Date.now()-342e5).toISOString(),source:"Wikivoyage"},{feedId:"wikivoyage",title:"Tokyo: Where Tradition Meets Future",link:"https://en.wikivoyage.org/wiki/Tokyo",content:"Experience the vibrant metropolis that seamlessly blends ancient temples with cutting-edge technology.",pubDate:new Date(Date.now()-36e6).toISOString(),source:"Wikivoyage"},{feedId:"wikivoyage",title:"Barcelona: Architecture and Mediterranean Beauty",link:"https://en.wikivoyage.org/wiki/Barcelona",content:"Explore Gaudí's masterpieces, enjoy tapas, and relax on beautiful beaches in Catalonia's capital.",pubDate:new Date(Date.now()-378e5).toISOString(),source:"Wikivoyage"},{feedId:"wikivoyage",title:"Iceland: Land of Fire and Ice",link:"https://en.wikivoyage.org/wiki/Iceland",content:"Witness the Northern Lights, explore volcanic landscapes, and soak in geothermal hot springs.",pubDate:new Date(Date.now()-396e5).toISOString(),source:"Wikivoyage"},{feedId:"wikivoyage",title:"New York City: The Big Apple",link:"https://en.wikivoyage.org/wiki/New_York_City",content:"From Times Square to Central Park, discover the city that never sleeps.",pubDate:new Date(Date.now()-414e5).toISOString(),source:"Wikivoyage"}];n.setFeedItems(D),r.setAllItems(D),console.log("⚠ Using fallback test data:",D.length,"items")}finally{a.value=!1}}function y(E){n.setCurrentFeed(E);const R=E==="all"?n.feedItems:n.feedItems.filter(D=>D.feedId===E);r.setAllItems(R),console.log(`Switched to feed: ${E}, showing ${R.length} items`)}async function b(){c.value=!0;try{await m(!0)}finally{c.value=!1}}function v(){t.push("/auth")}function w(){t.push("/auth")}al(async()=>{if(s.loading){const E=Bt(()=>s.loading,R=>{R||(E(),m())})}else m()});let S=ge(e.path);return Bt(()=>e.path,E=>{S.value==="/preferences"&&E==="/"&&(console.log("🔄 Returning from preferences page, reloading feeds with updated preferences"),m(!0)),S.value=E}),Bt(()=>i.preferences,(E,R)=>{e.path==="/"&&R&&R.length>0&&(console.log("🔄 User preferences changed, reloading feeds"),m(!0))},{deep:!0}),{uiStore:r,feedStore:n,authStore:s,feedOptions:d,loading:a,loadingMessage:l,isUpdating:c,displayItems:h,shouldShowTeaser:f,handleFeedChange:y,handleUpdate:b,handleSignup:v,handleLogin:w}}},Uv={class:"feed-reader"},Fv={key:0,class:"loading-container"};function Mv(t,e,r,n,s,i){const o=nt("Header"),a=nt("FeedSelector"),l=nt("SearchBar"),c=nt("FeedList"),u=nt("SignupTeaser"),d=nt("Footer");return Q(),ie("div",Uv,[Oe(o),n.authStore.loading?(Q(),ie("div",Fv,[...e[0]||(e[0]=[z("div",{class:"loading-message"},"Initializing...",-1)])])):(Q(),ie(Fe,{key:1},[Oe(a,{"current-feed":n.feedStore.currentFeed,"feed-options":n.feedOptions,"is-updating":n.isUpdating,"show-update":n.authStore.isAuthenticated,onFeedChange:n.handleFeedChange,onUpdate:n.handleUpdate},null,8,["current-feed","feed-options","is-updating","show-update","onFeedChange","onUpdate"]),n.authStore.isAuthenticated?(Q(),qt(l,{key:0,"search-query":n.uiStore.searchQuery,"total-items":n.uiStore.currentItemRange.total,onSearch:n.uiStore.setSearch,onClear:n.uiStore.clearSearch},null,8,["search-query","total-items","onSearch","onClear"])):He("",!0),Oe(c,{items:n.displayItems,"is-authenticated":n.authStore.isAuthenticated,loading:n.loading,"loading-message":n.loadingMessage,"current-page":n.uiStore.currentPage,"total-pages":n.uiStore.totalPages,onPageChange:n.uiStore.setPage},null,8,["items","is-authenticated","loading","loading-message","current-page","total-pages","onPageChange"]),n.shouldShowTeaser?(Q(),qt(u,{key:1,onSignup:n.handleSignup,onLogin:n.handleLogin},null,8,["onSignup","onLogin"])):He("",!0),Oe(d)],64))])}const Bv=vt(Lv,[["render",Mv],["__scopeId","data-v-28cdb50c"]]),Gc=dm({history:Vp("/rss-agg/"),routes:[{path:"/",name:"reader",component:Bv},{path:"/preferences",name:"preferences",component:()=>ft(()=>import("./PreferencesView-CABfAvI-.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:()=>ft(()=>import("./AdminView-C-c4AHvJ.js"),__vite__mapDeps([2,3,4,5])),meta:{requiresAdmin:!0}},{path:"/auth",name:"auth",component:()=>ft(()=>import("./AuthView-BI6JUmUT.js"),__vite__mapDeps([6,3,4,7]))},{path:"/auth/confirmed",name:"email-confirmed",component:()=>ft(()=>import("./EmailConfirmedView-CKqN-1XX.js"),__vite__mapDeps([8,9]))},{path:"/auth/callback",name:"auth-callback",redirect:"/auth/confirmed"}]});let Fr=null;async function qv(t,e){if(!t.isReady)if(Fr||(Fr=t.checkAuth().catch(r=>{throw console.error("[RouteGuard] Failed to initialize auth state",r),r}).finally(()=>{Fr=null})),e)try{await Fr}catch{}else Fr.catch(()=>{})}Gc.beforeEach(async(t,e,r)=>{const n=Ir(),s=!!(t.meta.requiresAuth||t.meta.requiresAdmin);if(await qv(n,s),t.meta.requiresAuth&&!n.isAuthenticated){r("/");return}if(t.meta.requiresAdmin){if(!n.isAuthenticated){console.warn("[RouteGuard] Admin route blocked: unauthenticated user"),r("/");return}if(!n.isAdmin){console.warn("[RouteGuard] Admin route blocked: non-admin user"),r("/");return}}r()});const Gi=vh(ip),Vv=wh();Gi.use(Vv);Gi.use(Gc);Gi.mount("#app");export{Um as F,Dm as H,vt as _,Oe as a,z as b,ie as c,Fe as d,Mn as e,Wc as f,Kc as g,ge as h,qc as i,Q as j,He as k,Kv as l,Gv as m,kt as n,al as o,qt as p,Js as q,nt as r,Hs as s,Me as t,Ir as u,Wv as v,Hv as w,Dd as x};
